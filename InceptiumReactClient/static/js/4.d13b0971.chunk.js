(this.webpackJsonpinceptium=this.webpackJsonpinceptium||[]).push([[4],{1189:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n(6),i=n(11),r=n(1),c=n.n(r),o=n(1140),s=n(1036),l=n(1067),d=n.n(l),u=n(426),j=n(130),q=n(42),p=n(363),b=n.n(p),h=n(669),m=n(1204),x=n.n(m),g=n(1136),O=n(670),f=n(472),v=n(1034),y=n(95),C=n(185),w=n(1142),S=n(17),P=n(1203),I=n.n(P),T=n(477),N=(n(57),n(1191)),A=n(1194),k=n(3),R=Object(S.a)((function(e){return{badge:{right:-3,top:12,border:"2px solid ".concat(e.palette.primary.main),padding:"0 4px"}}}))(w.a),z=Object(j.a)((function(e){return{icon:{color:e.palette.common.white}}}));function B(){var e=z(),t=Object(r.useContext)(T.a).isAuth,n=Object(r.useContext)(A.a),a=n.userCart,i=n.toggle,c=Object(N.a)();return Object(k.jsx)(O.a,{title:"Visualizza carrello",children:Object(k.jsx)(u.a,{"aria-label":"cart",onClick:function(){return t?i():c()},children:Object(k.jsx)(R,{badgeContent:null===a||void 0===a?void 0:a.totalItems,color:"secondary",overlap:"rectangular",children:Object(k.jsx)(I.a,{className:e.icon})})})})}var D=n(292),L=n(54);function F(e){var t=e.children,n=(e.title,c.a.useContext(C.a).toggle),r=c.a.useState(null),l=Object(i.a)(r,2),p=l[0],m=l[1],w=Boolean(p),S=function(){return m(null)},P=c.a.useContext(T.a).isAuth,I=c.a.useContext(D.b).authEcommerce,A=c.a.useContext(T.a).settings,R=Object(N.a)(),z=Object(L.g)(),F=Object(j.a)((function(e){return{toolbar:{paddingRight:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(4)},menuButtonHidden:{display:"none"},grow:{flexGrow:1},search:Object(a.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(q.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(q.a)(e.palette.common.white,.25)},"&:focus":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(5),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(a.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:400,"&:focus":{width:500}}),appBarSpacer:e.mixins.toolbar,menu:{minWidth:150},menuIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}}))();return Object(k.jsx)(o.a,{elevation:0,position:"absolute",className:F.appBar,children:Object(k.jsxs)(s.a,{className:F.toolbar,children:[Object(k.jsx)(u.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,className:F.menuButton,children:Object(k.jsx)(d.a,{})}),Object(k.jsx)(g.a,{style:{maxHeight:48,width:"auto",objectFit:"contain",cursor:"pointer"},component:"img",alt:"",image:A.logo,title:"",onClick:function(){z.push("/ecommerce")}}),Object(k.jsxs)("div",{className:F.search,children:[Object(k.jsx)("div",{className:F.searchIcon,children:Object(k.jsx)(b.a,{})}),Object(k.jsx)(h.a,{placeholder:"Cerca prodotto per nome",classes:{root:F.inputRoot,input:F.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&z.push("/ecommerce/home/".concat(e.target.value))}})]}),Object(k.jsx)("div",{className:F.grow}),Object(k.jsx)(O.a,{title:"Profilo",children:Object(k.jsx)(u.a,{edge:"end","aria-label":"account of current user",color:"inherit",onClick:function(e){return m(e.currentTarget)},className:F.menuIcon,children:Object(k.jsx)(x.a,{})})}),Object(k.jsx)(f.a,{id:"fade-menu",anchorEl:p,keepMounted:!0,open:w,onClose:S,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:P?Object(k.jsxs)("div",{children:[Object(k.jsx)(v.a,{className:F.menu,component:y.b,to:"/ecommerce/user/orders",onClick:S,children:"I miei ordini"}),Object(k.jsx)(v.a,{className:F.menu,onClick:function(){I(!1,!0).catch(console.error).finally(S)},children:"Esci"})]}):Object(k.jsx)("div",{children:Object(k.jsx)(v.a,{className:F.menu,onClick:function(){R(),S()},children:"Accedi"})})}),Object(k.jsx)(B,{}),t]})})}},1190:function(e,t,n){"use strict";var a=n(12),i=n(6),r=n(1),c=n.n(r),o=n(1061),s=n(99),l=n(130),d=n(1260),u=n(95),j=n(1032),q=n(474),p=n(664),b=n(1204),h=n.n(b),m=n(185),x=n(292),g=n(56),O=n(11),f=n(426),v=n(1153),y=n(473),C=n(1216),w=n.n(C),S=n(1197),P=n.n(S),I=n(57),T=n(54),N=n(24),A=n(37),k=n(3),R=Object(l.a)((function(e){return{categoryItem:{paddingLeft:e.spacing(5)},categoryNested:{paddingLeft:e.spacing(2)},loaderWrapper:{textAlign:"center"}}})),z=function(){var e=Object(r.useState)([]),t=Object(O.a)(e,2),n=(t[0],t[1]),o=Object(r.useState)([]),s=Object(O.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)(!1),b=Object(O.a)(u,2),h=b[0],x=b[1],C=Object(r.useState)({}),S=Object(O.a)(C,2),z=S[0],B=S[1],D=Object(r.useState)({}),L=Object(O.a)(D,2),F=L[0],U=L[1],E=Object(T.g)(),W=Object(r.useContext)(m.a).toggle,G=Object(N.b)(),V=R(),J=Object(I.a)(),Q=J.getCategories,H=J.getFeaturesRegistry;Object(r.useEffect)((function(){Q().then((function(e){Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)>0?(e.push({id_FeaturesRegistry:"all",description:"Linee"}),d(e)):G(A.a.show({message:"Categorie non disponibili",type:"warning"}))})).finally((function(){return x(!0)}))}),[]);return Object(k.jsx)(k.Fragment,{children:h?function e(t){var r,o=[];if(Array.isArray(t)){var s,u=Object(g.a)(t);try{for(u.s();!(s=u.n()).done;){var b=s.value;o.push(e(b))}}catch(m){u.e(m)}finally{u.f()}return o}if(Array.isArray(null===t||void 0===t?void 0:t.subcategories)&&(null===t||void 0===t||null===(r=t.subcategories)||void 0===r?void 0:r.length)>0){var h=e(null===t||void 0===t?void 0:t.subcategories);o.push(Object(k.jsxs)(c.a.Fragment,{children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)(q.a,{button:!0,className:V.categoryItem,onClick:function(){W(),"Linee"==(null===t||void 0===t?void 0:t.description)?E.push():E.push("/ecommerce/category/".concat(null===t||void 0===t?void 0:t.categoryFullPathCode))},children:Object(k.jsx)(p.a,{primary:null===t||void 0===t?void 0:t.description})},null===t||void 0===t?void 0:t.id_ArticlesCategory),Object(k.jsx)(f.a,{onClick:function(){return B(Object(a.a)(Object(a.a)({},z),{},Object(i.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!z[null===t||void 0===t?void 0:t.id_ArticlesCategory])))},children:z[null===t||void 0===t?void 0:t.id_ArticlesCategory]?Object(k.jsx)(w.a,{}):Object(k.jsx)(P.a,{})})]}),Object(k.jsx)(v.a,{in:!!z[null===t||void 0===t?void 0:t.id_ArticlesCategory],timeout:"auto",unmountOnExit:!0,children:Object(k.jsx)(j.a,{component:"div",disablePadding:!0,className:V.categoryNested,children:h})})]},null===t||void 0===t?void 0:t.id_ArticlesCategory))}else o.push(Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)(q.a,{button:!0,onClick:function(){W(),"all"!=(null===t||void 0===t?void 0:t.id_FeaturesRegistry)&&(null!==t&&void 0!==t&&t.id_FeaturesRegistry?E.push("/ecommerce/home/".concat(null===t||void 0===t?void 0:t.id_FeaturesRegistry,"?description=").concat(null===t||void 0===t?void 0:t.description)):E.push("/ecommerce/category/".concat(null===t||void 0===t?void 0:t.categoryFullPathCode)))},className:V.categoryItem,children:Object(k.jsx)(p.a,{primary:null===t||void 0===t?void 0:t.description})},null===t||void 0===t?void 0:t.id_ArticlesCategory),void 0===F[null===t||void 0===t?void 0:t.id_ArticlesCategory]&&Object(k.jsx)(f.a,{onClick:function(){"Linee"==(null===t||void 0===t?void 0:t.description)?H().then((function(e){if((null===e||void 0===e?void 0:e.length)>0){var r=l.map((function(t){return"Linee"==t.description&&(t.subcategories=e),t}));n(r),B(Object(a.a)(Object(a.a)({},z),{},Object(i.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!0)))}})).catch(console.error):void 0===F[null===t||void 0===t?void 0:t.id_ArticlesCategory]&&Q(null===t||void 0===t?void 0:t.id_ArticlesCategory).then((function(e){if((null===e||void 0===e?void 0:e.length)>0){var n=l.map((function(n){return n.id_ArticlesCategory===(null===t||void 0===t?void 0:t.id_ArticlesCategory)&&(n.subcategories=e),n}));d(n),B(Object(a.a)(Object(a.a)({},z),{},Object(i.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!0)))}U(Object(a.a)(Object(a.a)({},F),{},Object(i.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,(null===e||void 0===e?void 0:e.length)>0)))})).catch(console.error)},children:Object(k.jsx)(P.a,{})})]},null===t||void 0===t?void 0:t.id_ArticlesCategory));return o}(l):Object(k.jsx)("div",{className:V.loaderWrapper,children:Object(k.jsx)(y.a,{})})})},B=n(477),D=n(1191);t.a=function(e){var t=e.children,n=Object(r.useContext)(m.a),c=n.isOpen,b=n.toggle,g=n.close,O=Object(r.useContext)(x.b).sessionData,f=Object(r.useContext)(B.a).isAuth,v=O.user,y=Object(D.a)(),C=Object(l.a)((function(e){return{drawerOpen:{width:360,flexShrink:0},drawerClose:{width:e.spacing(7),flexShrink:0},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:360,flexShrink:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(i.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),drawerHeader:{height:e.spacing(7),paddingLeft:e.spacing(5),backgroundColor:e.palette.primary.main,display:"flex",alignItems:"center"},accountIcon:{color:e.palette.common.white},accountText:{marginLeft:e.spacing(1),color:e.palette.common.white},toolbar:e.mixins.toolbar,categoryItem:{paddingLeft:e.spacing(5)},categoryNested:{paddingLeft:e.spacing(2)}}}))();return Object(k.jsxs)(o.a,{ModalProps:{onBackdropClick:b},className:c?C.drawerOpen:C.drawerClose,classes:{paper:c?C.drawerPaper:C.drawerPaperClose},open:c,children:[Object(k.jsx)(d.a,Object(a.a)(Object(a.a)({},f?{to:"/ecommerce/user/profile",component:u.b,onClick:function(){return g()}}:{onClick:function(){y(),b()}}),{},{children:Object(k.jsxs)("div",{className:C.drawerHeader,children:[Object(k.jsx)(h.a,{className:C.accountIcon}),Object(k.jsxs)(s.a,{variant:"h6",className:C.accountText,children:["Ciao, ",f?v:"Accedi"]})]})})),Object(k.jsxs)(j.a,{children:[Object(k.jsx)(q.a,{className:C.categoryItem,children:Object(k.jsx)(p.a,{secondary:"CATEGORIE"})}),Object(k.jsx)(z,{})]}),t]})}},1191:function(e,t,n){"use strict";var a=n(1),i=n(477);t.a=function(){var e=Object(a.useContext)(i.a).setShowLoginDialog;return function(){return e(!0)}}},1192:function(e,t,n){"use strict";function a(e){var t=Number(e);return"".concat(Number.isNaN(t)?"-":t.toFixed(2).replace(".",",")," \u20ac")}n.d(t,"a",(function(){return a}))},1194:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return R}));var a=n(12),i=n(19),r=n(29),c=n(11),o=n(1),s=n.n(o),l=n(130),d=n(1061),u=n(420),j=n(99),q=n(670),p=n(426),b=n(1035),h=n(425),m=n(594),x=n.n(m),g=n(1203),O=n.n(g),f=n(57),v=n(1202),y=n(7),C=(n(478),n(1192)),w=n(54),S=n(3),P=Object(l.a)((function(e){return{root:{width:500,display:"flex",flexDirection:"column",flexGrow:1},headerContainer:{display:"flex",flexDirection:"row",alignItems:"center",padding:e.spacing(3),height:70,backgroundColor:e.palette.primary.main},icon:{color:e.palette.common.white},text:{color:e.palette.common.white},greyText:{color:u.a[600]},emptyCartIconContainer:{height:100,width:100,marginTop:e.spacing(3),marginBottom:e.spacing(3)},emptyCartIcon:{fontSize:100,color:u.a[600]},emptyTitleText:{paddingTop:e.spacing(3),paddingBottom:e.spacing(4)},textLeft:{textAlign:"start"},textRight:{textAlign:"end"},grow:{flexGrow:1},contentContainer:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",height:0},placeOrderContainer:{padding:e.spacing(3),textAlign:"center"},footerContainer:{height:70,padding:24,display:"flex",alignItems:"center",flexDirection:"row",backgroundColor:e.palette.primary.main}}}));function I(e){var t=e.open,n=e.toggle,i=P(),r=Object(w.g)(),l=Object(o.useContext)(k),u=l.userCart,m=l.removeFromCart,g=l.updateProductQty,I=Object(f.a)(),T=I.getCartList,N=I.getUserCart,A=Object(o.useState)(),R=Object(c.a)(A,2),z=R[0],B=R[1],D=Object(o.useState)([]),L=Object(c.a)(D,2),F=L[0],U=L[1],E=function(){return N().then((function(e){return B(e.cartTotalPriceVAT)})).catch(console.error)},W=function(){return T(null===u||void 0===u?void 0:u.id).then((function(e){Array.isArray(e)&&U(e.map((function(e){return{productId:e.codTot,quantity:e.cartQuantity,title:e.basicDescription,imageURL:e.imageURL,price:e.articlePriceTotVat,cartProductId:e.id_UserCartList,option:e.basicSizeDes,variant:e.basicColorDes,hasOptionVariant:!!e.sizeAndColors,rawProduct:e}})))})).catch((function(e){console.error("Error while updating cart",e),U([])}))};return Object(o.useEffect)((function(){t&&(W(),E())}),[t,u]),Object(S.jsx)(d.a,{anchor:"right",open:t,onClose:n,children:Object(S.jsxs)("div",{className:i.root,children:[Object(S.jsxs)("div",{className:i.headerContainer,children:[Object(S.jsx)("div",{style:{flex:1,padding:"16px"},children:Object(S.jsx)(O.a,{className:i.icon})}),Object(S.jsx)("div",{style:{flexGrow:1,textAlign:"center"},children:Object(S.jsx)(j.a,{variant:"h6",className:i.text,children:"Riepilogo carrello"})}),Object(S.jsx)("div",{style:{flex:1,textAlign:"end"},children:Object(S.jsx)(q.a,{title:"Chiudi carrello",children:Object(S.jsx)(p.a,{onClick:n,children:Object(S.jsx)(x.a,{className:i.icon})})})})]}),0===F.length?Object(S.jsxs)("div",{className:i.contentContainer,children:[Object(S.jsx)(j.a,{variant:"h6",className:Object(y.default)(i.greyText,i.emptyTitleText),children:"IL TUO CARRELLO \xc8 VUOTO!"}),Object(S.jsx)("div",{className:i.emptyCartIconContainer,children:Object(S.jsx)(O.a,{className:i.emptyCartIcon})}),Object(S.jsx)(j.a,{variant:"subtitle1",className:i.greyText,children:"Naviga nello store e aggiungi articoli al tuo carrello."})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:i.contentContainer,children:F.map((function(e){return Object(S.jsxs)(s.a.Fragment,{children:[Object(S.jsx)(v.a,Object(a.a)(Object(a.a)({},e),{},{handleUpdateProductQty:function(t){return function(e,t){return g(Object(a.a)(Object(a.a)({},e),{},{cartQuantity:t})).then((function(){return W()})).then((function(){return E()}))}(e.rawProduct,t)},handleRemoveProduct:function(e){return function(e){return m(e).then((function(){return W()})).then((function(){return E()}))}(e)}})),Object(S.jsx)(b.a,{style:{width:"90%"}})]},e.cartProductId)}))}),Object(S.jsx)(b.a,{}),Object(S.jsx)("div",{className:i.placeOrderContainer,children:Object(S.jsx)(h.a,{size:"medium",variant:"outlined",color:"secondary",onClick:function(){n(),r.push("/ecommerce/cart/order")},children:"Procedi all'ordine"})}),Object(S.jsxs)("div",{className:i.footerContainer,children:[Object(S.jsx)("div",{className:i.textLeft,children:Object(S.jsx)(j.a,{variant:"h6",className:i.text,children:"Totale"})}),Object(S.jsx)("div",{className:i.grow}),Object(S.jsx)("div",{className:i.textRight,children:Object(S.jsx)(j.a,{variant:"h6",className:i.text,children:Object(C.a)(z)})})]})]})]})})}I.defaultProps={open:!1};n(292);var T=n(477),N=n(24),A=n(37),k=s.a.createContext();k.Consumer;function R(e){var t=e.children,n=Object(o.useState)(!1),s=Object(c.a)(n,2),l=s[0],d=s[1],u=Object(o.useState)({}),j=Object(c.a)(u,2),q=j[0],p=j[1],b=Object(o.useContext)(T.a),h=b.isLoaded,m=b.isAuth,x=Object(N.b)(),g=Object(f.a)(),O=g.getUserCart,v=g.getCartList,y=g.addToCart,C=g.removeFromCart,w=g.updateCartProduct,P=g.refreshUserCart,R=g.createOrder,z=Object(o.useState)(!0),B=Object(c.a)(z,2),D=(B[0],B[1]),L=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(null!==t&&void 0!==t?t:null===q||void 0===q?void 0:q.id);case 2:return n=e.sent,e.abrupt("return",Array.isArray(n)?n.length:0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(null===q||void 0===q?void 0:q.id);case 3:t=e.sent,p(Object(a.a)(Object(a.a)({},q),{},{totalItems:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){h&&Object(r.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:return t=e.sent,e.next=6,L(null===t||void 0===t?void 0:t.id_UserCart);case 6:n=e.sent,p(Object(a.a)(Object(a.a)({},q),{},{id:null===t||void 0===t?void 0:t.id_UserCart,totalItems:n,userId:t.id_CustomersAndSuppliers})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:return e.prev=13,D(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))()}),[m,h]);var U=function(){return d(!0)},E=function(){return d(!l)};return Object(S.jsxs)(k.Provider,{value:{close:function(){return d(!1)},open:U,toggle:E,isOpen:l,userCart:q,addToCart:function(e,t){return y(null===q||void 0===q?void 0:q.id,e,t).then((function(){return P()})).then(F).then((function(){return U()})).catch((function(e){throw x(A.a.show({message:"Impossibile aggiungere l'oggetto al carrello. Riprovare",type:"error"})),e}))},removeFromCart:function(e){return C(e).then((function(){return P()})).then(F).catch((function(e){throw x(A.a.show({message:"Impossibile eliminare l'oggetto dal carrello. Riprovare.",type:"error"})),e}))},updateProductQty:function(e){return w(e).then((function(){return P()})).catch((function(e){throw x(A.a.show({message:"Impossibile modificare la quantit\xe0 per l'oggetto selezionato. Riprovare.",type:"error"})),e}))},placeOrder:function(){return R().then((function(){return P()})).then(F).catch((function(e){throw x(A.a.show({message:"Impossibile creare l'ordine. Riprovare.",type:"error"})),e}))}},children:[h&&Object(S.jsx)(I,{open:l,toggle:E}),t]})}},1196:function(e,t,n){"use strict";t.a="data:image/png;base64,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"},1198:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a=n(130),i=n(1143),r=n(99),c=(n(1),n(1217)),o=n.n(c),s=n(420),l=n(1189),d=n(1190),u=n(3),j=Object(a.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100%"},greyText:{color:s.a[600]},emptyCategoryIcon:{fontSize:100,color:s.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)}}}));function q(){var e=j();return Object(u.jsxs)("div",{className:e.root,children:[Object(u.jsx)(l.a,{title:"Pagina non trovata"}),Object(u.jsx)(d.a,{}),Object(u.jsxs)("main",{className:e.content,children:[Object(u.jsx)("div",{className:e.appBarSpacer}),Object(u.jsx)(i.a,{maxWidth:"lg",className:e.container,children:Object(u.jsxs)("div",{className:e.emptyContentContainer,children:[Object(u.jsx)(o.a,{className:e.emptyCategoryIcon}),Object(u.jsx)(r.a,{variant:"subtitle1",className:e.greyText,children:"La pagina richiesta non \xe8 stata trovata."})]})})]})]})}},1200:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(11),i=n(1),r=n(130),c=n(659),o=n(1134),s=n(1136),l=n(1135),d=n(99),u=n(1171),j=n(95),q=n(1196),p=n(1261),b=n(1025),h=n(670),m=n(426),x=n(1205),g=n.n(x),O=n(473),f=n(421),v=n(1194),y=n(477),C=n(1191),w=n(24),S=n(37),P=n(3),I=Object(r.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end"},wrapper:{margin:e.spacing(1),position:"relative"},fabProgress:{color:f.a[500],position:"absolute",top:-1,left:-2,zIndex:1}}}));function T(e){var t=e.productId,n=e.show,r=I(),c=0,o=Object(i.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=Object(i.useContext)(y.a).isAuth,j=Object(i.useContext)(v.a).addToCart,q=Object(C.a)(),x=Object(w.b)();return Object(P.jsx)("div",{className:r.root,children:Object(P.jsx)(p.a,{in:n||l,children:Object(P.jsx)("div",{className:r.wrapper,children:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(b.a,{type:"number",style:{width:50},disabled:l,onChange:function(e){c=e.target.value}}),Object(P.jsx)(h.a,{title:"Aggiungi al carrello","aria-label":"Aggiungi al carrello",children:Object(P.jsx)(m.a,{disabled:l,onClick:function(e){e.preventDefault(),e.stopPropagation(),l||(u?(d(!0),j(t,c<=0?1:c).catch((function(){return x(S.a.show({message:"Impossibile aggiungere l'elemento al carrello.",type:"error"}))})).finally((function(){return d(!1)}))):q())},children:Object(P.jsx)(g.a,{})})}),l&&Object(P.jsx)(O.a,{size:48,thickness:2,className:r.fabProgress})]})})})})}var N=n(1192),A=n(57),k=Object(r.a)((function(e){return{root:{maxWidth:280,minWidth:280,height:320},link:{textDecoration:"none"},cardDescriptionContainer:{display:"flex",alignItems:"center"},priceContainer:{flex:1},addToCartButtonContainer:{flex:1,alignSelf:"center",textAlign:"end"},media:{height:180,width:"100%",objectFit:"scale-down",padding:e.spacing(2)}}}));function R(e){var t=e.title,n=e.price,r=e.imageURL,p=e.available,b=e.productId,h=e.addToCart,m=e.id_firstsize,x=e.id_firstcolor,g=e.firstcodtot,O=k(),f=Object(i.useState)(!1),v=Object(a.a)(f,2),y=(v[0],v[1],Object(i.useState)(!1)),C=Object(a.a)(y,2),w=C[0],S=(C[1],Object(i.useState)([])),I=Object(a.a)(S,2);I[0],I[1],Object(A.a)().getProductOptions;return Object(P.jsx)(c.a,{in:!0,timeout:250,children:Object(P.jsxs)(o.a,{className:O.root,children:[Object(P.jsx)(j.b,{to:"/ecommerce/product/".concat(b,"?option=").concat(m,"&variant=").concat(x),className:O.link,children:Object(P.jsx)(s.a,{className:O.media,image:r||q.a,title:t,component:"img"})}),Object(P.jsxs)(l.a,{children:[Object(P.jsx)(d.a,{color:"textSecondary",variant:"body2",children:t}),Object(P.jsx)(d.a,{style:{paddingTop:"0px",paddingBottom:"0px",color:"#007600",fontSize:"10pt"},children:p?"Disponibile":Object(P.jsx)(u.a,{fontStyle:"italic",children:"Non disponibile"})}),Object(P.jsxs)("div",{className:O.cardDescriptionContainer,children:[Object(P.jsx)("div",{className:O.priceContainer,children:Object(P.jsx)(d.a,{variant:"h6",color:"textPrimary",children:Object(N.a)(n)})}),h&&Object(P.jsx)("div",{className:O.addToCartButtonContainer,children:!w&&Object(P.jsx)(T,{productId:g,show:!0})})]})]})]})})}R.defaultProps={imageURL:q.a,title:"",price:0,available:!0,productId:1,addToCart:!0}},1202:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(11),i=n(1),r=n(130),c=n(473),o=n(1136),s=n(99),l=n(1025),d=n(1196),u=n(1192),j=n(478),q=n(3),p=Object(r.a)((function(e){return{media:{height:130,width:"100%",maxWidth:130,objectFit:"scale-down",paddingRight:e.spacing(3)}}}));function b(e){var t=e.title,n=e.imageURL,r=e.price,b=e.quantity,h=e.cartProductId,m=e.option,x=e.variant,g=e.hasOptionVariant,O=e.handleRemoveProduct,f=e.handleUpdateProductQty,v=e.deleteProduct,y=void 0===v||v,C=p(),w=Object(i.useState)(!1),S=Object(a.a)(w,2),P=S[0],I=S[1];return Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",padding:"24px",position:"relative"},children:[P&&Object(q.jsx)("div",{style:{position:"absolute",top:"40%",left:"50%"},children:Object(q.jsx)(c.a,{})}),Object(q.jsx)(o.a,{className:C.media,image:n||d.a,title:t,component:"img"}),Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[Object(q.jsx)(s.a,{color:"textPrimary",gutterBottom:!0,variant:"subtitle2",children:t}),g&&Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(s.a,{color:"textSecondary",variant:"body2",children:["Variante: ",m," - ",x]})}),Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"8px",alignItems:"center"},children:[Object(q.jsx)(s.a,{color:"textSecondary",variant:"subtitle1",children:"Quantit\xe0"}),Object(q.jsx)("div",{style:{flexGrow:1}}),Object(q.jsx)(l.a,{type:"number",style:{width:50},disabled:P,value:b,onChange:function(e){I(!0);var t=e.target.value;f(t).finally((function(){return I(!1)}))},onKeyDown:function(e){return e.preventDefault()},inputProps:{min:"1",step:"1",style:{textAlign:"center "}}})]}),Object(q.jsxs)("div",{style:{flexDirection:"row",display:"flex",marginTop:"16px",alignItems:"center"},children:[y&&Object(q.jsx)(j.a,{disabled:P,color:"primary",onClick:function(){I(!0),O(h).catch((function(){return I(!1)}))},style:{padding:0},children:"Rimuovi"}),Object(q.jsx)("div",{style:{flexGrow:1}}),Object(q.jsx)(s.a,{variant:"subtitle1",color:"textPrimary",children:Object(u.a)(r)})]})]})]})}},1211:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(130),i=n(663),r=n(473),c=(n(1),n(3)),o=Object(a.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function s(){var e=o();return Object(c.jsx)(i.a,{className:e.backdrop,open:!0,children:Object(c.jsx)(r.a,{color:"inherit"})})}},1218:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Z}));var a=n(12),i=n(19),r=n(29),c=n(11),o=n(1),s=n.n(o),l=n(130),d=n(1143),u=n(54),j=n(95),q=n(1269),p=n(1260),b=n(99),h=n(424),m=n(1035),x=n(1171),g=n(1262),O=n(425),f=n(1134),v=n(1135),y=n(1025),C=n(1172),w=n(1156),S=n(1270),P=n(1219),I=n.n(P),T=n(588),N=n.n(T),A=n(587),k=n.n(A),R=n(1189),z=n(1190),B=n(57),D=n(1196),L=n(1220),F=n(1205),U=n.n(F),E=n(1211),W=(n(1234),n(1192)),G=n(1194),V=n(1235),J=n(1191),Q=n(477),H=n(1198),K=n(24),M=n(37),X=(n(1252),n(3)),Y=Object(l.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",backgroundColor:e.palette.common.white},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appSeparator:{minHeight:e.spacing(10)},selectedButton:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary}}}));function Z(){var t,n,l,P,T,A,F,Z,_,$,ee,te=Object(o.useContext)(G.a).addToCart,ne=Object(o.useState)(!0),ae=Object(c.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(o.useState)(),oe=Object(c.a)(ce,2),se=oe[0],le=oe[1],de=Object(o.useState)([]),ue=Object(c.a)(de,2),je=ue[0],qe=ue[1],pe=Object(o.useState)([]),be=Object(c.a)(pe,2),he=be[0],me=be[1],xe=Object(o.useState)(),ge=Object(c.a)(xe,2),Oe=ge[0],fe=ge[1],ve=Object(o.useState)(!1),ye=Object(c.a)(ve,2),Ce=ye[0],we=ye[1],Se=Object(o.useState)([]),Pe=Object(c.a)(Se,2),Ie=Pe[0],Te=Pe[1],Ne=Object(o.useState)(1),Ae=Object(c.a)(Ne,2),ke=Ae[0],Re=Ae[1],ze=Object(o.useState)(0),Be=Object(c.a)(ze,2),De=Be[0],Le=Be[1],Fe=Object(o.useState)([]),Ue=Object(c.a)(Fe,2),Ee=Ue[0],We=Ue[1],Ge=Object(o.useState)(!1),Ve=Object(c.a)(Ge,2),Je=Ve[0],Qe=Ve[1],He=Y(),Ke=Object(u.i)().id,Me=Object(u.h)(),Xe=Object(u.g)(),Ye=new URLSearchParams(Me.search).get("option"),Ze=new URLSearchParams(Me.search).get("variant"),_e=Object(J.a)(),$e=Object(o.useContext)(Q.a).isAuth,et=Object(K.b)(),tt=Object(B.a)(),nt=tt.getProductDetails,at=tt.getProductMedia,it=tt.getProductOptions,rt=tt.getProductDocumentary,ct=tt.getCategory,ot=function(){var t=Object(r.a)(Object(i.a)().mark((function t(){var n,a,r,c,o,s,l,d,u,j,q,p,b,h,m,x;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,it(Ke);case 3:return l=t.sent,d=l.hasMultipleOptions,u=l.options,j=null===u||void 0===u||null===(n=u.filter((function(e){return e.id===Ye})))||void 0===n||null===(a=n[0])||void 0===a||null===(r=a.variants)||void 0===r||null===(c=r.filter((function(e){return e.id===Ze})))||void 0===c?void 0:c[0],q=null===j||void 0===j?void 0:j.productCode,t.next=10,at(q,"FOTO");case 10:return p=t.sent,t.next=13,nt(Ke);case 13:if("string"!==typeof(b=t.sent)||0!==b.length){t.next=17;break}return Qe(!0),t.abrupt("return");case 17:return t.next=19,rt(Ke);case 19:return h=t.sent,t.next=22,ct(b.articlesCategoryCode);case 22:m=t.sent,x=null!==(o=null===m||void 0===m||null===(s=m[0])||void 0===s?void 0:s.categoryFullPathDescription)&&void 0!==o?o:"",we(d),qe(u),Array.isArray(p)&&p.length>0?Te(p.map((function(e){return{original:e.urlLinkDomain,thumbnail:e.urlLinkDomain}}))):Te([{original:D.a,thumbnail:D.a}]),fe(q),le({title:b.description,price:null===j||void 0===j?void 0:j.price,rating:4,reviewsCount:700,description:e.from(b.note_b64,"base64").toString(),categoryId:b.articlesCategoryCode}),me(h.map((function(t){return{label:t.title,description:e.from(t.description_b64,"base64").toString()}}))),We(x.split("/")),t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.error(t.t0);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){re(!0),ot().finally((function(){return re(!1)}))}),[Ke,Ye,Ze]),Je?Object(X.jsx)(H.a,{}):Object(X.jsxs)("div",{className:He.root,children:[Object(X.jsx)(R.a,{title:"Dettagli prodotto"}),Object(X.jsx)(z.a,{}),Object(X.jsxs)("main",{className:He.content,children:[Object(X.jsx)("div",{className:He.appBarSpacer}),Object(X.jsxs)(d.a,{maxWidth:"xl",className:He.container,children:[ie&&Object(X.jsx)(E.a,{}),Object(X.jsxs)(q.a,{"aria-label":"breadcrumb",children:[Object(X.jsx)(p.a,{color:"inherit",to:"/ecommerce/home",component:j.b,children:"Home"}),Ee.map((function(e,t){return Object(X.jsx)(b.a,{color:t===Ee.length-1?"textPrimary":"textSecondary",style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"},children:e},t)}))]}),Object(X.jsxs)(h.a,{container:!0,direction:"column",spacing:2,style:{marginTop:"32px"},children:[Object(X.jsxs)(h.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:3,children:[Object(X.jsx)(h.a,{item:!0,container:!0,xs:5,justifyContent:"center",children:Object(X.jsx)(I.a,{infinite:!1,showNav:!1,useBrowserFullscreen:!1,showPlayButton:!1,onErrorImageURL:D.a,items:Ie,slideDuration:0,showThumbnails:(null===Ie||void 0===Ie||null===(t=Ie[0])||void 0===t?void 0:t.original)!==D.a,renderFullscreenButton:function(e,t){var n;return(null===Ie||void 0===Ie||null===(n=Ie[0])||void 0===n?void 0:n.original)===D.a?null:Object(X.jsx)("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button".concat(t?" active":""),onClick:e,children:t?Object(X.jsx)(k.a,{}):Object(X.jsx)(N.a,{})})}})}),Object(X.jsx)(h.a,{item:!0,container:!0,xs:!0,direction:"column",spacing:2,children:Object(X.jsxs)(h.a,{item:!0,container:!0,xs:!0,direction:"column",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{variant:"h5",children:null===se||void 0===se?void 0:se.title})}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(S.a,{size:"small",readOnly:!0,defaultValue:4})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsxs)(b.a,{variant:"body2",className:He.secondaryText,children:[null===se||void 0===se?void 0:se.reviewsCount," recensioni"]})})]}),Object(X.jsx)(m.a,{}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,style:{paddingTop:"16px"},children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{variant:"body2",className:He.secondaryText,style:{paddingTop:"8px"},children:"Prezzo"})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsxs)(b.a,{component:"div",variant:"h6",children:[Object(X.jsx)(x.a,{fontWeight:"fontWeightMedium",className:He.primaryText,children:Object(W.a)(null===se||void 0===se?void 0:se.price)}),Object(X.jsx)(b.a,{variant:"body2",className:He.secondaryText,children:"IVA inclusa"})]})})]}),Ce&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"column",spacing:1,style:{paddingTop:"24px"},children:[Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{variant:"body2",className:He.secondaryText,children:"Opzione"})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{component:"div",variant:"body2",className:He.primaryText,children:Object(X.jsx)(x.a,{fontWeight:"fontWeightMedium",children:null===je||void 0===je||null===(n=je.filter((function(e){return e.id===Ye})))||void 0===n||null===(l=n[0])||void 0===l?void 0:l.label})})})]}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(g.a,{size:"small","aria-label":"small outlined button group",color:"primary",disabled:ie,children:null===je||void 0===je?void 0:je.map((function(e){return Object(X.jsx)(O.a,Object(a.a)(Object(a.a)({},e.id===Ye?{className:He.selectedButton}:{}),{},{onClick:function(){var t,n,a,i;return Xe.push({pathname:Me.pathname,search:"?".concat(new URLSearchParams({option:e.id,variant:null===je||void 0===je||null===(t=je.filter((function(t){return t.id===e.id})))||void 0===t||null===(n=t[0])||void 0===n||null===(a=n.variants)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.id}).toString())})},children:e.label}),e.id)}))})}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{variant:"body2",className:He.secondaryText,children:"Variante"})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{component:"div",variant:"body2",className:He.primaryText,children:Object(X.jsx)(x.a,{fontWeight:"fontWeightMedium",children:null===je||void 0===je||null===(P=je.filter((function(e){return e.id===Ye})))||void 0===P||null===(T=P[0])||void 0===T||null===(A=T.variants)||void 0===A||null===(F=A.filter((function(e){return e.id===Ze})))||void 0===F||null===(Z=F[0])||void 0===Z?void 0:Z.label})})})]})]}),Object(X.jsx)(h.a,{item:!0,style:{paddingBottom:"16px"},children:Object(X.jsx)(g.a,{size:"small","aria-label":"small outlined button group",color:"primary",disabled:ie,children:null===je||void 0===je||null===(_=je.filter((function(e){return e.id===Ye})))||void 0===_||null===($=_[0])||void 0===$||null===(ee=$.variants)||void 0===ee?void 0:ee.map((function(e){return Object(X.jsx)(O.a,Object(a.a)(Object(a.a)({},e.id===Ze?{className:He.selectedButton}:{}),{},{onClick:function(){return Xe.push({pathname:Me.pathname,search:"?".concat(new URLSearchParams({option:Ye,variant:e.id}).toString())})},children:e.label}),e.id)}))})})]}),Object(X.jsx)(m.a,{style:{marginTop:"16px"}}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"column",xs:!0,style:{paddingTop:"16px"},children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{variant:"body2",className:He.secondaryText,children:"Descrizione"})}),Object(X.jsx)(h.a,{item:!0,children:(null===se||void 0===se?void 0:se.description)&&Object(L.a)(null===se||void 0===se?void 0:se.description)})]})]})}),Object(X.jsx)(h.a,{item:!0,xs:3,children:Object(X.jsx)(f.a,{variant:"outlined",children:Object(X.jsx)(v.a,{children:Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"8px"},children:[Object(X.jsx)(b.a,{className:He.orderTotal,variant:"h6",children:Object(W.a)(null===se||void 0===se?void 0:se.price)}),Object(X.jsx)(b.a,{variant:"body2",className:He.secondaryText,children:"IVA inclusa"}),Object(X.jsx)(b.a,{component:"div",style:{paddingTop:"16px",paddingBottom:"8px",color:"#007600"},variant:"body2",children:Object(X.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"Disponibilit\xe0 immediata"})}),Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(X.jsx)(b.a,{className:He.greyText,style:{paddingTop:"16px",paddingBottom:"8px",flexGrow:1},variant:"body2",children:"Quantit\xe0"}),Object(X.jsx)(y.a,{type:"number",disabled:ie,value:ke,onChange:function(e){return Re(e.target.value)},onKeyDown:function(e){return e.preventDefault()},inputProps:{min:"1",step:"1",max:10,style:{textAlign:"center "}}})]}),Object(X.jsx)(O.a,{startIcon:Object(X.jsx)(U.a,{}),variant:"contained",color:"primary",disabled:ie,style:{marginTop:"24px"},onClick:function(){$e?(re(!0),te(Oe,ke).catch((function(){return et(M.a.show({message:"Impossibile aggiungere l'elemento al carrello.",type:"error"}))})).finally((function(){return re(!1)}))):_e()},children:"Aggiungi al carrello"})]})})})})]}),he.length>0&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(C.a,{value:De,onChange:function(e,t){return Le(t)},indicatorColor:"secondary",textColor:"secondary",centered:!0,children:he.map((function(e){return Object(X.jsx)(w.a,{label:e.label,disabled:ie},e.label)}))})}),Object(X.jsx)(h.a,{item:!0,container:!0,xs:!0,children:he.map((function(e,t){return Object(X.jsx)(s.a.Fragment,{children:De===t&&s.a.Children.toArray(Object(L.a)(e.description,{replace:function(e){if(e.attribs)return"img"===e.name&&(e.attribs.style="height: auto;width: 100%"),e}})).map((function(e,t){return Object(X.jsx)(h.a,{item:!0,children:e},t)}))},t)}))})]})]}),Object(X.jsx)(h.a,{item:!0,style:{paddingTop:"32px"},children:Object(X.jsx)(m.a,{})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(b.a,{component:"div",style:{paddingTop:"16px"},children:Object(X.jsx)(x.a,{fontWeight:"fontWeightMedium",className:He.primaryText,children:"Altri prodotti che potrebbero interessarti"})})}),Object(X.jsx)(h.a,{item:!0,style:{marginLeft:"25px",marginRight:"25px",marginTop:"16px"},children:Object(X.jsx)(V.a,{excludeProductId:Ke,categoryId:null===se||void 0===se?void 0:se.categoryId})})]})]})]})}}).call(this,n(247).Buffer)},1235:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(12),i=n(11),r=n(1),c=n(1236),o=n.n(c),s=n(1200),l=n(57),d=n(3);function u(e){var t=e.categoryId,n=e.excludeProductId,c=Object(l.a)().getProducts,u=Object(r.useState)([]),j=Object(i.a)(u,2),q=j[0],p=j[1];return Object(r.useEffect)((function(){t&&c(t,{recordForPage:20,page:1}).then((function(e){var t=e;n&&(t=t.filter((function(e){return e.id_ArticlesRegistry!==n}))),p(t.map((function(e){return{title:e.description,price:e.sellingPriceTotVat,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot}})))}))}),[t,n]),Object(d.jsx)(d.Fragment,{children:q.length>0&&Object(d.jsx)(o.a,{draggable:!1,swipe:!1,touchMove:!1,dots:!1,infinite:!1,slidesToShow:4,children:q.map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsx)(s.a,Object(a.a)({addToCart:!0},e))},t)}))})})}},1252:function(e,t,n){},1265:function(e,t,n){"use strict";n.r(t);var a=n(12),i=n(11),r=n(1),c=n.n(r),o=n(130),s=n(1143),l=n(54),d=n(99),u=n(473),j=n(424),q=n(1189),p=n(1190),b=n(57),h=n(1200),m=n(1266),x=n(142),g=n(1198),O=n(3),f=Object(o.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(4),height:"100%"},productsContainer:{marginTop:e.spacing(0)},appSeparator:{minHeight:e.spacing(10)},paginationContainer:{marginTop:e.spacing(6),"& > *":{marginTop:e.spacing(2),justifyContent:"center",display:"flex"}}}})),v="",y=function(){var e=Object(l.h)(),t=Object(l.g)(),n=Object(r.useState)([]),c=Object(i.a)(n,2),o=c[0],y=c[1],C=Object(r.useState)(!1),w=Object(i.a)(C,2),S=w[0],P=(w[1],Object(r.useState)(!0)),I=Object(i.a)(P,2),T=I[0],N=I[1],A=Object(r.useState)([]),k=Object(i.a)(A,2),R=(k[0],k[1],Object(r.useState)({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})),z=Object(i.a)(R,2),B=z[0],D=z[1],L=f(),F=Object(l.i)().id,U=new URLSearchParams(e.search).get("description"),E=Object(b.a)(),W=E.getProductsByName;E.getCategory;return Object(r.useEffect)((function(){D({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})}),[e.search]),Object(r.useEffect)((function(){N(!0),W(F,{recordForPage:32,page:B.currentPage}).then((function(e){var t,n;Array.isArray(e)&&(D(Object(a.a)(Object(a.a)({},B),{},{totalPages:null!==(t=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.totPage)&&void 0!==t?t:1})),y(e))})).catch(console.error).finally((function(){return N(!1)}))}),[F,B.currentPage]),S?Object(O.jsx)(g.a,{}):Object(O.jsxs)("div",{className:L.root,children:[Object(O.jsx)(q.a,{title:"Home"}),Object(O.jsx)(p.a,{}),Object(O.jsxs)("main",{className:L.content,children:[Object(O.jsx)("div",{className:L.appBarSpacer}),Object(O.jsx)("div",{className:L.appSeparator,children:Object(O.jsx)(d.a,{style:{textAlign:"center",paddingTop:"30px",paddingBottom:"20px",color:"#1386bf",fontSize:"30pt"},children:U})}),Object(O.jsx)(s.a,{maxWidth:"lg",className:L.container,children:Object(O.jsxs)(O.Fragment,{children:[T?Object(O.jsx)(x.a,{children:Object(O.jsx)(u.a,{})}):null,Object(O.jsx)(j.a,{container:!0,spacing:3,className:L.productsContainer,children:o.map((function(e){return Object(O.jsxs)(j.a,{item:!0,children:[(t=e.categoryFullPathDescription,v!=t&&(v=t,1)?Object(O.jsx)(d.a,{style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"},children:e.categoryFullPathDescription}):Object(O.jsx)(d.a,{style:{paddingTop:"20px",paddingBottom:"5px",color:"#83a2a8",fontSize:"10pt"},children:e.categoryFullPathDescription})),Object(O.jsx)(h.a,{title:e.description,price:e.sellingPriceTotVat,available:!0,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,hasSizeAndColors:!!e.sizesAndColors,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot})]},e.id_ArticlesRegistry);var t}))}),Object(O.jsx)("div",{className:L.paginationContainer,children:Object(O.jsx)(m.a,{size:"large",count:B.totalPages,page:B.currentPage,onChange:function(n,a){t.push({pathname:e.pathname,search:"?".concat(new URLSearchParams({page:a}).toString())})}})})]})})]})]})},C=n(477),w=n(1194),S=n(55),P=n(206),I=n(1025),T=n(258),N=n(292),A=n(24),k=n(37),R=Object(o.a)((function(e){return{form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),z=function(){var e=Object(r.useContext)(C.a),t=e.showLoginDialog,n=e.setShowLoginDialog,i=Object(r.useContext)(N.b),c=i.sessionData,o=i.setData,s=Object(b.a)().login,l=function(){return n(!1)},d=R(),u=Object(A.b)();return Object(O.jsx)(S.b,{initialValues:{user:"",password:""},validationSchema:P.a().shape({user:P.c().required("Inserire il nome utente"),password:P.c().required("Inserire una password")}),enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting,i=t.setErrors,r=Object(a.a)(Object(a.a)({},e),{},{inceptiumid:c.inceptiumid});s(r).then((function(e){o(Object(a.a)(Object(a.a)({},r),e)),l()})).catch((function(e){i(e.error||e.message),u(k.a.show({message:e.message,type:"error"}))})).finally((function(){return n(!1)}))},children:function(e){var n=e.values,a=e.errors,i=e.handleChange,r=e.handleBlur,c=e.touched,o=e.isSubmitting,s=e.submitForm,u=e.handleSubmit;return Object(O.jsx)(T.a,{isOpen:t,title:"Effettua l'accesso",primaryButtonText:"Accedi",primaryButtonDisabled:o,secondaryButtonText:"Annulla",secondaryButtonDisabled:o,handlePrimaryClose:s,handleSecondaryClose:l,handleClose:l,children:Object(O.jsxs)("form",{className:d.form,onSubmit:u,children:[Object(O.jsx)(I.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"user",label:"Nome Utente",autoComplete:"user",onChange:i,onBlur:r,value:n.user,helperText:a.user&&c.user&&a.user,error:a.user&&c.user,disabled:o}),Object(O.jsx)(I.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:i,onBlur:r,value:n.password,helperText:a.password&&c.password&&a.password,error:a.password&&c.password,disabled:o})]})})}})},B=n(420),D=n(1269),L=n(1260),F=n(95),U=n(1206),E=n.n(U),W=Object(o.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100%"},productsContainer:{marginTop:e.spacing(4)},greyText:{color:B.a[600]},emptyCategoryIcon:{fontSize:100,color:B.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)},paginationContainer:{marginTop:e.spacing(6),"& > *":{marginTop:e.spacing(2),justifyContent:"center",display:"flex"}}}}));function G(){var e=Object(l.h)(),t=Object(l.g)(),n=Object(r.useState)([]),c=Object(i.a)(n,2),o=c[0],f=c[1],v=Object(r.useState)(!1),y=Object(i.a)(v,2),C=y[0],w=y[1],S=Object(r.useState)(!0),P=Object(i.a)(S,2),I=P[0],T=P[1],N=Object(r.useState)([]),A=Object(i.a)(N,2),k=A[0],R=A[1],z=Object(r.useState)({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1}),B=Object(i.a)(z,2),U=B[0],G=B[1],V=W(),J=Object(l.i)().id,Q=Object(b.a)(),H=Q.getProducts,K=Q.getCategory;return Object(r.useEffect)((function(){G({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})}),[e.search]),Object(r.useEffect)((function(){T(!0),K(J).then((function(e){var t,n;if("string"!==typeof e||0!==e.length){var a=null!==(t=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.categoryFullPathDescription)&&void 0!==t?t:"";R(a.split("/"))}else w(!0)})),H(J,{recordForPage:20,page:U.currentPage}).then((function(e){var t,n;Array.isArray(e)&&(G(Object(a.a)(Object(a.a)({},U),{},{totalPages:null!==(t=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.totPage)&&void 0!==t?t:1})),f(e))})).catch(console.error).finally((function(){return T(!1)}))}),[J,U.currentPage]),C?Object(O.jsx)(g.a,{}):Object(O.jsxs)("div",{className:V.root,children:[Object(O.jsx)(q.a,{title:"Categoria"}),Object(O.jsx)(p.a,{}),Object(O.jsxs)("main",{className:V.content,children:[Object(O.jsx)("div",{className:V.appBarSpacer}),Object(O.jsxs)(s.a,{maxWidth:"lg",className:V.container,children:[Object(O.jsxs)(D.a,{"aria-label":"breadcrumb",children:[Object(O.jsx)(L.a,{color:"inherit",to:"/ecommerce/home",component:F.b,children:"Home"}),k.map((function(e,t){return Object(O.jsx)(d.a,{color:t===k.length-1?"textPrimary":"textSecondary",style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"},children:e},t)}))]}),I?Object(O.jsx)(x.a,{children:Object(O.jsx)(u.a,{})}):o.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{container:!0,spacing:3,className:V.productsContainer,children:o.map((function(e){return Object(O.jsx)(j.a,{item:!0,children:Object(O.jsx)(h.a,{title:e.description,price:e.sellingPriceTotVat,available:!0,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,hasSizeAndColors:!!e.sizesAndColors,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot})},e.id_ArticlesRegistry)}))}),Object(O.jsx)("div",{className:V.paginationContainer,children:Object(O.jsx)(m.a,{size:"large",count:U.totalPages,page:U.currentPage,onChange:function(n,a){t.push({pathname:e.pathname,search:"?".concat(new URLSearchParams({page:a}).toString())})}})})]}):Object(O.jsxs)("div",{className:V.emptyContentContainer,children:[Object(O.jsx)(E.a,{className:V.emptyCategoryIcon}),Object(O.jsx)(d.a,{variant:"subtitle1",className:V.greyText,children:"Non ci sono prodotti in questa categoria."})]})]})]})]})}var V=n(1218),J=n(23),Q=n(19),H=n(29),K=n(1134),M=n(1135),X=n(1035),Y=n(425),Z=n(1202),_=n(1271),$=n(1263),ee=n(1171),te=n(1264),ne=n(1028),ae=n(1030),ie=n(1179),re=n(1037),ce=n(1268),oe=n(1197),se=n.n(oe),le=n(1253),de=n.n(le),ue=Object(o.a)((function(e){return{spinner:{position:"absolute",margin:"-16px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},primaryText:{color:e.palette.text.primary},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(14),color:e.palette.text.secondary},imageContainer:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function je(e){var t,n=e.expanded,a=e.handleSelect,c=e.handleChange,o=e.addresses,s=e.selectedAddressId,l=e.userData,j=Object(r.useState)(!1),q=Object(i.a)(j,2),p=q[0],b=q[1],h=ue(),m=null===(t=o.filter((function(e){return e.id===s})))||void 0===t?void 0:t[0];return Object(O.jsxs)(_.a,{expanded:n,onChange:c("addressPanel"),children:[Object(O.jsx)($.a,{expandIcon:Object(O.jsx)(se.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{alignItems:"center"},children:Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",flexGrow:1},children:[Object(O.jsxs)("div",{style:{flexBasis:"33.33%",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)("div",{className:h.imageContainer,children:Object(O.jsx)(de.a,{})}),Object(O.jsx)(d.a,{className:h.heading,children:"Indirizzo di consegna"})]}),Object(O.jsx)(d.a,{component:"div",className:h.secondaryHeading,children:m&&Object(O.jsxs)(d.a,{component:"div",children:[Object(O.jsx)(ee.a,{fontWeight:"fontWeightRegular",className:h.primaryText,children:l.fullName||""}),m.address||"",Object(O.jsx)("br",{}),"".concat(m.postalCode||""," ").concat(m.city||""," ").concat(m.province||""," - ").concat(m.nation||""),Object(O.jsx)("br",{}),l.phoneNumber||""]})})]})}),Object(O.jsxs)(te.a,{style:{position:"relative"},children:[p&&Object(O.jsx)("div",{className:h.spinner,children:Object(O.jsx)(u.a,{})}),Object(O.jsxs)(ne.a,{component:"fieldset",disabled:p,children:[Object(O.jsx)(ae.a,{component:"legend",children:"Altri indirizzi"}),Object(O.jsx)(ie.a,{"aria-label":"address",name:"address",value:null!==s&&void 0!==s?s:-1,onChange:function(e){b(!0),a(e.target.value).finally((function(){return b(!1)}))},children:o.map((function(e){return Object(O.jsx)(re.a,{value:e.id,control:Object(O.jsx)(ce.a,{}),style:{marginTop:"16px"},label:Object(O.jsxs)(d.a,{component:"div",className:h.secondaryHeading,children:[Object(O.jsx)(ee.a,{fontWeight:"fontWeightRegular",className:h.primaryText,children:l.fullName}),e.address,Object(O.jsx)("br",{}),"".concat(e.postalCode," ").concat(e.city," ").concat(e.province," - ").concat(e.nation),Object(O.jsx)("br",{}),l.phoneNumber]})},e.id)}))})]})]})]})}var qe=n(1254),pe=n.n(qe),be=Object(o.a)((function(e){return{spinner:{position:"absolute",margin:"-16px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},primaryText:{color:e.palette.text.primary},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},imageContainer:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function he(e){var t,n=e.expanded,a=e.handleSelect,c=e.handleChange,o=e.payments,s=e.selectedPaymentId,l=Object(r.useState)(!1),j=Object(i.a)(l,2),q=j[0],p=j[1],b=be(),h=null===(t=o.filter((function(e){return e.id===s})))||void 0===t?void 0:t[0];return Object(O.jsxs)(_.a,{expanded:q||n,onChange:c("paymentPanel"),children:[Object(O.jsx)($.a,{expandIcon:Object(O.jsx)(se.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",style:{alignItems:"center"},children:Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",flexGrow:1},children:[Object(O.jsxs)("div",{style:{flexBasis:"33.33%",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)("div",{className:b.imageContainer,children:Object(O.jsx)(pe.a,{})}),Object(O.jsx)(d.a,{className:b.heading,children:"Modalit\xe0 di pagamento"})]}),Object(O.jsx)(d.a,{component:"div",className:b.secondaryHeading,children:h&&Object(O.jsx)(d.a,{component:"div",children:Object(O.jsx)(ee.a,{fontWeight:"fontWeightRegular",className:b.primaryText,children:h.label})})})]})}),Object(O.jsxs)(te.a,{style:{position:"relative"},children:[q&&Object(O.jsx)("div",{className:b.spinner,children:Object(O.jsx)(u.a,{})}),Object(O.jsxs)(ne.a,{component:"fieldset",disabled:q,children:[Object(O.jsx)(ae.a,{component:"legend",children:"Seleziona la modalit\xe0 di pagamento"}),Object(O.jsx)(ie.a,{"aria-label":"payment",name:"payment",value:null!==s&&void 0!==s?s:-1,onChange:function(e){p(!0),a(e.target.value).finally((function(){return p(!1)}))},children:o.map((function(e){return Object(O.jsx)(re.a,{value:e.id,control:Object(O.jsx)(ce.a,{}),style:{marginTop:"8px"},label:Object(O.jsx)(d.a,{children:e.label})},e.id)}))})]})]})]})}var me=n(1192),xe=n(1211),ge=Object(o.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},title:{fontSize:14},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},greyText:{color:e.palette.text.secondary},emptyCategoryIcon:{fontSize:100,color:B.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)},verticalPadding:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},orderTotal:{fontSize:e.typography.pxToRem(15)},stickyCard:{position:"sticky",top:"90px"}}}));function Oe(){var e,t,n=ge(),o=Object(r.useContext)(w.a),u=o.userCart,j=o.updateProductQty,h=o.isOpen,m=o.placeOrder,x=Object(r.useState)(!0),g=Object(i.a)(x,2),f=g[0],v=g[1],y=Object(r.useState)([]),C=Object(i.a)(y,2),S=C[0],P=C[1],I=Object(r.useState)([]),T=Object(i.a)(I,2),N=T[0],A=T[1],k=Object(r.useState)([]),R=Object(i.a)(k,2),z=R[0],B=R[1],D=Object(r.useState)({}),L=Object(i.a)(D,2),F=L[0],U=L[1],E=Object(r.useState)({}),W=Object(i.a)(E,2),G=W[0],V=W[1],_=Object(r.useState)(!1),$=Object(i.a)(_,2),ee=$[0],te=$[1],ne=Object(l.g)(),ae=Object(b.a)(),ie=ae.getUserData,re=ae.getUserShippingAddresses,ce=ae.getPaymentMethods,oe=ae.getCartList,se=ae.getUserCart,le=ae.updateCartPaymentMethod,de=ae.updateCartShippingAddress,ue=function(e){return function(t,n){te(!!n&&e)}};Object(r.useEffect)((function(){f||h||(v(!0),be(u.userId).finally((function(){return v(!1)})))}),[h,u.userId]);var qe=function(){var e=Object(H.a)(Object(Q.a)().mark((function e(){var t,n,a,i,r,c;return Object(Q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:return t=e.sent,n=t.codPaymentType||void 0,a=t.id_PersonShippingAddress||void 0,i=t.cartTotalPrice,r=t.cartTotalPriceVAT,c=t.cartTotalVAT,V({paymentId:n,addressId:a,noVATtotalPrice:i,wVATtotalPrice:r,totalVAT:c}),e.abrupt("return",{paymentId:n,addressId:a});case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(H.a)(Object(Q.a)().mark((function e(){var t;return Object(Q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(null===u||void 0===u?void 0:u.id);case 2:if(t=e.sent,!(Array.isArray(t)&&t.length>0)){e.next=7;break}B(t.map((function(e){return{productId:e.codTot,quantity:e.cartQuantity,title:e.basicDescription,imageURL:e.imageURL,price:e.articlePriceTotVat,cartProductId:e.id_UserCartList,option:e.basicSizeDes,variant:e.basicColorDes,hasOptionVariant:!!e.sizeAndColors,rawProduct:e}}))),e.next=10;break;case 7:if(!Array.isArray(z)||0!==z.length){e.next=10;break}return ne.push("/ecommerce/home"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(H.a)(Object(Q.a)().mark((function e(t){var n,a,i,r,c,o,s,l;return Object(Q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("Aborting request due to empty userId"),e.abrupt("return");case 3:return e.prev=3,e.next=6,qe();case 6:return n=e.sent,a=n.paymentId,i=n.addressId,e.next=11,ie(t);case 11:return r=e.sent,U({fullName:"".concat(r.personName," ").concat(r.personSurname),phoneNumber:r.phoneNumber,email:r.emailAddress}),c={id:"-1",city:r.residenceCity,nation:r.residenceNation,postalCode:r.residencePostalCode,province:r.residenceProvince,address:r.residenceStreet},e.next=16,re(t);case 16:return o=e.sent,s=o.map((function(e){return{id:e.id_PersonShippingAddress,city:e.shippingCity,nation:e.shippingNation,postalCode:e.shippingPostalCode,province:e.shippingProvice,address:e.shippingStreet}})),P([c].concat(Object(J.a)(s))),e.next=21,ce();case 21:return l=e.sent,A(l.map((function(e){return{id:e.codPaymentType,label:e.paymentTypedescription}}))),e.next=25,pe();case 25:if(void 0!==i){e.next=28;break}return te("addressPanel"),e.abrupt("return");case 28:if(void 0!==a){e.next=31;break}return te("paymentPanel"),e.abrupt("return");case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),console.error(e.t0);case 36:case"end":return e.stop()}}),e,null,[[3,33]])})));return function(t){return e.apply(this,arguments)}}();null===(e=S.filter((function(e){return e.id===G.addressId})))||void 0===e||e[0],null===(t=N.filter((function(e){return e.id===G.paymentId})))||void 0===t||t[0];Object(r.useEffect)((function(){be(u.userId).catch(console.error).finally((function(){return v(!1)}))}),[]);var Oe=function(){v(!0),m().then((function(){return ne.push("/ecommerce/home")})).catch((function(e){return v(!1)}))};return Object(O.jsxs)("div",{className:n.root,children:[Object(O.jsx)(q.a,{title:"Completa l'ordine"}),Object(O.jsx)(p.a,{}),Object(O.jsxs)("main",{className:n.content,children:[Object(O.jsx)("div",{className:n.appBarSpacer}),Object(O.jsxs)(s.a,{maxWidth:"lg",className:n.container,children:[f&&Object(O.jsx)(xe.a,{}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column"},className:n.productsContainer,children:[Object(O.jsx)("div",{className:n.verticalPadding,children:Object(O.jsx)(d.a,{variant:"body1",children:"Riepilogo ordine"})}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:3},children:[Object(O.jsx)(je,{expanded:"addressPanel"===ee,handleSelect:function(e){return de(e).then((function(){return qe()})).then((function(){void 0===G.paymentId?te("paymentPanel"):te(!1)}))},handleChange:ue,addresses:S,userData:F,selectedAddressId:G.addressId}),Object(O.jsx)(he,{expanded:"paymentPanel"===ee,handleSelect:function(e){return le(e).then((function(){return qe()})).then((function(){void 0===G.addressId?te("addressPanel"):te(!1)}))},handleChange:ue,payments:N,selectedPaymentId:G.paymentId}),Object(O.jsxs)("div",{className:n.verticalPadding,children:[Object(O.jsx)(d.a,{variant:"body1",style:{paddingTop:"8px",paddingBottom:"8px"},children:"Elenco articoli"}),Object(O.jsx)(K.a,{className:n.root,children:Object(O.jsx)(M.a,{children:z.map((function(e,t){return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(Z.a,Object(a.a)(Object(a.a)({},e),{},{deleteProduct:!1,handleUpdateProductQty:function(t){return function(e,t){return j(Object(a.a)(Object(a.a)({},e),{},{cartQuantity:t})).then((function(){return qe()})).then((function(){return pe()}))}(e.rawProduct,t)}})),t!==z.length-1&&Object(O.jsx)(X.a,{style:{width:"90%"}})]},e.cartProductId)}))})})]}),Object(O.jsx)(K.a,{children:Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"24px"},children:[Object(O.jsx)(Y.a,{size:"large",variant:"contained",color:"primary",style:{marginRight:"16px"},disabled:f||!G.paymentId||!G.addressId,onClick:Oe,children:"Ordina"}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(O.jsxs)(d.a,{className:n.orderTotal,variant:"h6",children:["Totale ordine: ",Object(me.a)(G.wVATtotalPrice)]}),Object(O.jsx)(d.a,{className:n.greyText,variant:"body2",children:"Procedendo con l'acquisto, accetti le condizioni di vendita dello store."})]})]})})]}),Object(O.jsx)("div",{style:{paddingLeft:"32px",flex:1},children:Object(O.jsx)(K.a,{className:n.stickyCard,variant:"outlined",children:Object(O.jsx)(M.a,{children:Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"8px"},children:[Object(O.jsx)(Y.a,{variant:"contained",color:"primary",disabled:f||!G.paymentId||!G.addressId,onClick:Oe,children:"Ordina"}),Object(O.jsx)(d.a,{className:n.greyText,style:{paddingTop:"16px",paddingBottom:"8px"},variant:"body2",children:"Procedendo con l'acquisto, accetti le condizioni di vendita dello store."}),Object(O.jsx)(X.a,{}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingTop:"16px"},children:[Object(O.jsx)(d.a,{className:n.greyText,style:{flexGrow:1},variant:"body2",children:"Totale prodotti"}),Object(O.jsx)(d.a,{variant:"body2",children:Object(me.a)(G.noVATtotalPrice)})]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"16px"},children:[Object(O.jsx)(d.a,{className:n.greyText,style:{flexGrow:1},variant:"body2",children:"IVA"}),Object(O.jsx)(d.a,{variant:"body2",children:Object(me.a)(G.totalVAT)})]}),Object(O.jsx)(X.a,{}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingTop:"8px"},children:[Object(O.jsx)(d.a,{className:n.orderTotal,style:{flexGrow:1},variant:"h6",children:"Totale ordine"}),Object(O.jsx)(d.a,{className:n.orderTotal,variant:"h6",children:Object(me.a)(G.wVATtotalPrice)})]})]})})})})]})]})]})]})]})}function fe(){var e=Object(l.h)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function ve(){return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(q.a,{}),Object(O.jsx)(p.a,{})]})}function ye(){return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)(q.a,{}),Object(O.jsx)(p.a,{})]})}var Ce=n(467);t.default=function(){return Object(O.jsxs)(C.b,{children:[Object(O.jsx)(fe,{}),Object(O.jsxs)(w.b,{children:[Object(O.jsx)(z,{})," ",Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/home/:id",component:y}),Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/home",component:y}),Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/category/:id",component:G}),Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/product/:id",component:V.a}),Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/cart/order",component:Oe,auth:!0}),Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/user/profile",component:ye}),Object(O.jsx)(Ce.a,{exact:!0,path:"/ecommerce/user/orders",component:ve})]})]})}}}]);