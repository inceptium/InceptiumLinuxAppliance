(this.webpackJsonpinceptium=this.webpackJsonpinceptium||[]).push([[0],{106:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(48),o=a(29),c=Object(i.a)((function(){return{wrapper:{minHeight:"100vh"}}}));t.a=function(e){var t=e.children,a=c();return r.a.createElement(o.a,{container:!0,spacing:0,alignItems:"center",justify:"center",className:a.wrapper},t)}},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(16),r=a(8),i=a(6),o=a(0),c=a.n(o),l=c.a.createContext({searchString:"",selectedRow:null,page:0,chargeComponent:{},orderBy:{columnId:-1,direction:""},changedSearchString:function(){},changeSelectedRow:function(){},nextPage:function(){},previousPage:function(){},onChangePage:function(){},setCharge:function(){},changeOrderBy:function(){}}),s=function(e){var t=c.a.useState(""),a=Object(i.a)(t,2),o=a[0],s=a[1],u=c.a.useState(null),d=Object(i.a)(u,2),m=d[0],p=d[1],f=c.a.useState(0),g=Object(i.a)(f,2),b=g[0],h=g[1],v=c.a.useState({}),q=Object(i.a)(v,2),E=q[0],y=q[1],O=c.a.useState({columnId:-1,direction:""}),j=Object(i.a)(O,2),x=j[0],C=j[1];return c.a.createElement(l.Provider,{value:{searchString:o,changedSearchString:function(e){s(e)},selectedRow:m,changeSelectedRow:function(e){p(e)},chargeComponent:E,setCharge:function(e,t,a){if(!e&&!a)throw new Error("Cannot set component.");y(a?Object(r.a)(Object(r.a)({},E),a):null===t?Object(r.a)(Object(r.a)({},E),{},Object(n.a)({},e,null)):Object(r.a)(Object(r.a)({},E),{},Object(n.a)({},e,Object(r.a)(Object(r.a)({},E[e]),{},{data:t}))))},page:b,onChangePage:function(e){h(e)},changeOrderBy:function(e){C(e)},orderBy:x}},e.children)};t.b=l},111:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){if(!e||"string"!==typeof e||0===e.length)return e;var a=null===e||void 0===e?void 0:e.match(/(@[a-zA-Z0-9&._-]+)/g);if(!a)return e;for(var n={},r=e,i=0;i<(null===a||void 0===a?void 0:a.length);i++){var o=a[i].replace("@","");null!=t[o]&&(n[o]=t[o]||"",r=r.replace(a[i],n[o]))}return r}},1110:function(e,t,a){},1111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),o=a.n(i),c=a(1154),l=a(223),s=a(1150),u=a(39),d=a(46),m=a(205);var p=function(){return r.a.createElement("h2",null,"404 - Page not found")},f=a(8),g=a(179),b=a(1116),h=a(1117),v=a(1118),q=a(29),E=a(48),y=a(21),O=a(61),j=a(194),x=a(672),C=a.n(x),w=a(51),S=a(25),N=a(50);var k=function(){var e,t,a=Object(n.useContext)(w.b),i=a.setData,o=a.isAuth,c=a.sessionData.inceptiumid,l=Object(S.a)(!0,!1).login,s=Object(N.a)(),u=Object(d.h)(),m=(null===u||void 0===u||null===(e=u.state)||void 0===e||null===(t=e.from)||void 0===t||t.pathname,Object(E.a)((function(e){return{wrapper:{minHeight:"100vh",backgroundColor:e.palette.primary.main},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},cardcontent:{padding:e.spacing(3)},media:{height:0,paddingTop:"43.25%"}}}))());return o?r.a.createElement(d.a,{to:{pathname:"/dashboard"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{initialValues:{inceptiumid:localStorage.getItem("inceptiumid")||c,user:"",password:""},onSubmit:function(e,t){var a=t.setSubmitting,n=t.setErrors;l(e).then((function(t){a(!1),t.disabled?n("L'utente \xe8 disabilitato"):i(Object(f.a)(Object(f.a)({},e),t))})).catch((function(e){a(!1),n(e.error||e.message),s(e.message,"error")}))},validationSchema:O.object().shape({inceptiumid:O.string().required("InceptiumID \xe8 obbligatorio"),user:O.string().required("Nome utente/Email \xe8 obbligatorio"),password:O.string().required("Password \xe8 obbligatorio")})},(function(e){var t=e.values,a=e.touched,n=e.errors,i=e.isSubmitting,o=e.handleChange,c=e.handleBlur,l=e.handleSubmit;return r.a.createElement(q.a,{container:!0,spacing:0,alignItems:"center",justify:"center",className:m.wrapper},r.a.createElement(q.a,{item:!0,xs:6,sm:3,style:{minWidth:"400px"}},r.a.createElement(b.a,null,r.a.createElement(h.a,{className:m.cardcontent},r.a.createElement(v.a,{className:m.media,image:C.a}),r.a.createElement("form",{className:m.form,onSubmit:l},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"inceptiumid",label:"Inceptium ID",onChange:o,onBlur:c,value:t.inceptiumid,helperText:n.inceptiumid&&a.inceptiumid&&n.inceptiumid,error:n.inceptiumid&&a.inceptiumid,disabled:i}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"user",label:"Nome Utente/Email",autoComplete:"user",onChange:o,onBlur:c,value:t.user,helperText:n.user&&a.user&&n.user,error:n.user&&a.user,disabled:i}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:o,onBlur:c,value:t.password,helperText:n.password&&a.password&&n.password,error:n.password&&a.password,disabled:i}),r.a.createElement("div",{className:m.submit},r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:i,isLoading:i},"Login")),r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",href:window.location.origin+"/inapi/invite/userrequest.html?inceptiumid="+localStorage.getItem("inceptiumid")},"Password Dimenticata ?")))))))})))},T=a(93),P=a(678),A=Object(n.createContext)(),I=Object(P.a)(A.Consumer),D=A.Provider,R=a(238),_=a(366),L=a(6),B=a(727),z=a(16),F=a(1146),U=a(490),W=a(391),M=a.n(W),G=a(113),V=a(14),H=a(26),Q=a(240),X=a.n(Q),K=a(509),J=a(489),Y=a(679),Z=a.n(Y),$=a(291),ee=a(680),te=a.n(ee),ae=a(1145),ne=a(162),re=a(239),ie=a.n(re),oe=a(428);function ce(){var e=r.a.useState(null),t=Object(L.a)(e,2),a=t[0],n=t[1],i=Boolean(a),o=r.a.useContext(w.b).logout,c=function(){n(null)},l=Object(E.a)((function(e){return{grow:{flexGrow:1},title:Object(z.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(z.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(z.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),paper:{width:e.spacing(30)}}}))(),s=r.a.createElement($.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:"user-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:c,PaperProps:{className:l.paper}},r.a.createElement(J.a,{disabled:!0},r.a.createElement(w.a,null,(function(e){var t=e.sessionData,a=t.user,n=t.inceptiumid;return r.a.createElement(H.a,null,n," - ",a)}))),r.a.createElement(oe.a,null),r.a.createElement(I,{I:"manage",a:"User"},(function(){return r.a.createElement(J.a,{component:u.b,to:"/user/list",onClick:c},r.a.createElement(ae.a,null,r.a.createElement(Z.a,null)),r.a.createElement(H.a,{variant:"inherit"},"Gestione utenti"))})),r.a.createElement(J.a,{onClick:function(){c(),o()}},r.a.createElement(ae.a,null,r.a.createElement(te.a,null)),r.a.createElement(H.a,{variant:"inherit"},"Logout")));return r.a.createElement("div",null,r.a.createElement("div",{className:l.grow}),r.a.createElement("div",{className:l.sectionDesktop},r.a.createElement(ne.a,{title:"Menu utente",enterDelay:200},r.a.createElement(G.a,{edge:"end","aria-label":"user menu","aria-controls":"user-menu","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)},color:"inherit"},r.a.createElement(ie.a,null)))),s)}var le=a(600),se=Object(E.a)({root:{flexGrow:1}});function ue(){var e=se();return Object(n.useContext)(R.a).isLoading&&r.a.createElement("div",{className:e.root},r.a.createElement(le.a,{color:"secondary"}))}function de(e){var t=e.children,a=e.title,n=r.a.useContext(T.a).toggle,i=Object(E.a)((function(e){return{toolbar:{paddingRight:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(4)},menuButtonHidden:{display:"none"},grow:{flexGrow:1},search:Object(z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(V.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(V.d)(e.palette.common.white,.25)},"&:focus":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(5),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(z.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:200,"&:focus":{width:320}}),appBarSpacer:e.mixins.toolbar}}))();return r.a.createElement(F.a,{elevation:0,position:"absolute",className:i.appBar},r.a.createElement(U.a,{className:i.toolbar},r.a.createElement(G.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,className:i.menuButton},r.a.createElement(M.a,null)),r.a.createElement(H.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0},a),r.a.createElement("div",{className:i.grow}),t,r.a.createElement("div",{className:i.search},r.a.createElement("div",{className:i.searchIcon},r.a.createElement(X.a,null)),r.a.createElement(K.a,{placeholder:"Cerca\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(ce,null)),r.a.createElement(ue,null))}var me=a(114),pe=a(682),fe=a.n(pe),ge=a(1124),be=a(1125),he=a(601),ve=a(683),qe=a.n(ve),Ee=a(204);var ye=function(e){var t=e.children,a=r.a.useContext(T.a),n=a.isOpen,i=a.favoriteInceptiumMaps,o=a.emptyInceptiumAppsFavorites,c=Object(E.a)((function(e){return{drawerOpen:{width:240,flexShrink:0},drawerClose:{width:e.spacing(7),flexShrink:0},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,flexShrink:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(z.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),toolbar:e.mixins.toolbar}}))();return r.a.createElement(me.a,{variant:"permanent",className:n?c.drawerOpen:c.drawerClose,classes:{paper:n?c.drawerPaper:c.drawerPaperClose},open:n},r.a.createElement("div",{className:c.toolbar}),r.a.createElement(oe.a,null),r.a.createElement(ge.a,null,r.a.createElement(be.a,{button:!0,component:u.b,to:"/dashboard",key:"dashboard",divider:!0},r.a.createElement(ae.a,null,r.a.createElement(fe.a,null)),r.a.createElement(he.a,{disableTypography:!0,primary:r.a.createElement(H.a,{type:"body2",style:{fontWeight:"600"}},"Dashboard")})),i.map((function(e){return r.a.createElement(ne.a,{title:e.title,key:e.id},r.a.createElement(be.a,{button:!0,component:u.b,to:"/app/".concat(e.id),key:e.id,divider:!0},r.a.createElement(ae.a,null,r.a.createElement("img",{src:e.image,style:{height:"30px",width:"30px",objectFit:"fill"}})),r.a.createElement(he.a,{disableTypography:!0,primary:r.a.createElement(H.a,{type:"body2",style:{fontWeight:"600"}},Object(Ee.b)(e.title,15))})))})),0!==i.length&&r.a.createElement(ne.a,{title:"Svuota"},r.a.createElement(be.a,{button:!0,key:"delete",divider:!0,onClick:o},r.a.createElement(ae.a,null,r.a.createElement(qe.a,null)),r.a.createElement(he.a,{disableTypography:!0,primary:r.a.createElement(H.a,{type:"body2",style:{fontWeight:"bold",color:"red"}},"Svuota Preferiti")})))),t)},Oe=a(1147),je=a(1148),xe=Object(E.a)((function(e){return{media:{width:180,height:180,margin:"auto"},badge:{margin:e.spacing(2),width:"100%"},card:{padding:e.spacing(1)}}}));function Ce(e){var t=e.title,a=e.description,i=e.image,o=e.id,c=e.notifications,l=e.appVersion,s=xe(),d=Object(n.useContext)(T.a).handleNewFavoriteInceptiumMap;return r.a.createElement(q.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(b.a,null,r.a.createElement(Oe.a,{component:u.b,to:"/app/".concat(o),className:s.card,onClick:function(){d({title:t,image:i,id:o})}},r.a.createElement(v.a,{className:s.media,image:i},r.a.createElement(je.a,{className:s.badge,badgeContent:c,color:"error"})),r.a.createElement(h.a,null,r.a.createElement(H.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(H.a,{variant:"body2",color:"textSecondary",component:"p"},l),r.a.createElement(H.a,{variant:"body2",color:"textSecondary",component:"p"},a)))))}var we=a(491),Se=a.n(we),Ne=a(362),ke=a.n(Ne),Te=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appSeparator:{minHeight:e.spacing(10)}}}));function Pe(){var e=Te(),t=Object(S.a)().getApps,a=Object(n.useState)([]),i=Object(L.a)(a,2),o=i[0],c=i[1];return Object(n.useEffect)((function(){t().then((function(e){c(e)})).catch(console.error)}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(de,{title:"Dashboard"}),r.a.createElement(ye,null),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement("div",{className:e.appSeparator}),r.a.createElement(B.a,{maxWidth:"lg",className:e.container},r.a.createElement(q.a,{container:!0,spacing:3},null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement(Ce,{key:e.class_path_name,id:e.class_path_name,title:e.app_name,appVersion:e.fullAppVersion,description:"".concat(e.developer," - ").concat(e.contact_mail),image:e.iconPath,notifications:e.numberOfNotification})}))))))}var Ae=a(9),Ie=a.n(Ae),De=a(17),Re=a(690),_e=a.n(Re),Le=a(691),Be=a.n(Le),ze=a(241),Fe=a(146),Ue=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240}}}));function We(e){var t=Ue(),a=Object(S.a)(),i=a.getUsers,o=a.deleteUser,c=a.isLoading,l=Object(n.useState)(),s=Object(L.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(L.a)(m,2),f=p[0],g=p[1],b=Object(N.a)(),h=Object(n.useState)({id:"",username:""}),v=Object(L.a)(h,2),E=v[0],y=v[1],O=function(){i().then((function(e){return d(e)}))};Object(n.useEffect)(O,[]);var j=function(){var e=Object(De.a)(Ie.a.mark((function e(t){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t).then((function(){b("Utente cancellato"),O()})).catch((function(e){return b("Impossibile cancellare l'utente ".concat(t," ").concat(e.message),"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t.root},r.a.createElement(de,{title:"Gestione utenti"}),r.a.createElement(ye,null),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(B.a,{maxWidth:"lg",className:t.container},r.a.createElement(q.a,{container:!0,spacing:3},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ze.a,{isLoading:c,title:"Lista utenti",columns:[{title:"Utente",field:"username"},{title:"Nome e cognome",field:"fullName"},{title:"E-mail",field:"email"},{title:"Tipologia",field:"type"},{title:"Descrizione",field:"description"},{title:"Stato",field:"isOnline",render:function(e){return r.a.createElement("div",null,e.isOnline?r.a.createElement(ne.a,{title:"Connesso"},r.a.createElement(_e.a,null)):r.a.createElement(ne.a,{title:"Disconnesso"},r.a.createElement(Be.a,null)))}}],data:u,actions:[{icon:"add",tooltip:"Aggiungi utente",isFreeAction:!0,onClick:function(){return e.history.push("/user/add")}},{icon:"edit",tooltip:"Modifica",onClick:function(t,a){var n=a.username;return e.history.push("/user/".concat(n,"/edit"))}},function(t){if("admin"!==t.username)return{icon:"list",tooltip:"Gestione permessi",onClick:function(t,a){var n=a.username;return e.history.push("/user/".concat(n,"/manage-permissions"))}}},function(e){if("admin"!==e.username)return{icon:"delete",tooltip:"Elimina",onClick:function(e,t){var a=t.id,n=t.username;g(!0),y({id:a,username:n})}}}]}),r.a.createElement(Fe.a,{isOpen:f,handlePrimaryClose:function(){return g(!1)},handleSecondaryClose:function(){g(!1),j(E.id)},handleClose:function(){return g(!1)},title:"Attenzione",description:"Sei sicuro di voler eliminare l'utente ".concat(E.username,"?")}))))))}var Me=a(33),Ge=a(420),Ve=a(383),He=a(384),Qe=a(725),Xe=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},form:{marginTop:e.spacing(1),padding:e.spacing(2)},formControl:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},submitContainer:{display:"flex",justifyContent:"flex-end"}}}));function Ke(e){var t=e.match.params.username,a=Object(N.a)(),i=Xe(),o=Object(d.g)(),c=Object(S.a)(),l=c.addUser,s=c.getUser,u=c.updateUser,m=c.isLoading,p=r.a.useRef(null),v=r.a.useState(0),E=Object(L.a)(v,2),x=E[0],C=E[1];r.a.useEffect((function(){p.current&&C(p.current.offsetWidth)}),[m]);var w=Object(n.useState)({username:"",name:"",surname:"",password:"",confirmPassword:"",email:"",type:"",description:""}),k=Object(L.a)(w,2),T=k[0],P=k[1];Object(n.useEffect)((function(){t&&s(t).then((function(e){P(Object(f.a)(Object(f.a)({},e),{},{confirmPassword:e.password}))}))}),[t]);var A=function(){var e=Object(De.a)(Ie.a.mark((function e(n,r){var i,c,s,d;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.setErrors,c=r.setSubmitting,n.confirmPassword,s=Object(Me.a)(n,["confirmPassword"]),e.prev=2,!t){e.next=13;break}if(d={username:t},Object.keys(T).forEach((function(e){s[e]!==T[e]&&(d[e]=s[e])})),delete d.confirmPassword,!d){e.next=11;break}return e.next=10,u(d);case 10:a("Utente aggiornato","success");case 11:e.next=16;break;case 13:return e.next=15,l(s);case 15:a("Utente aggiunto","success");case 16:o.push("/user/list"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),i(e.t0.error||e.t0.message),a(e.t0.message,"error"),c(!1);case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:i.root},r.a.createElement(de,{title:"Gestione utenti"}),r.a.createElement(ye,null),r.a.createElement("main",{className:i.content},r.a.createElement("div",{className:i.appBarSpacer}),r.a.createElement(B.a,{maxWidth:"lg",className:i.container},r.a.createElement(b.a,null,r.a.createElement(h.a,{className:i.cardcontent},r.a.createElement(H.a,{variant:"h6",gutterBottom:!0},t?"Modifica":"Aggiungi"," utente"),r.a.createElement(y.a,{enableReinitialize:!0,initialValues:T,onSubmit:A,validationSchema:O.object().shape({username:O.string().required("Il nome utente \xe8 obbligatorio"),email:O.string().email("Inserire un indirizzo email valido"),password:O.string().required("Il campo password non pu\xf2 essere vuoto"),type:O.string().required("Specificare la tipologia di account"),confirmPassword:O.string().oneOf([O.ref("password"),null],"Le password non coincidono").required("Il campo password non pu\xf2 essere vuoto")})},(function(e){var t=e.values,a=e.touched,n=e.errors,o=e.isSubmitting,c=e.handleChange,l=e.handleBlur,s=e.handleSubmit;return r.a.createElement("form",{className:i.form,onSubmit:s},r.a.createElement(q.a,{container:!0,spacing:3},r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"username",label:"Nome utente",onChange:c,onBlur:l,inputProps:{form:{autocomplete:"off"}},value:t.username,helperText:n.username&&a.username&&n.username,error:n.username&&a.username,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(Ve.a,{variant:"outlined",className:i.formControl,fullWidth:!0},r.a.createElement(He.a,{ref:p,htmlFor:"outlined-age-native-simple"},"Tipologia account"),r.a.createElement(Ge.a,{native:!0,value:t.type,onChange:c,labelWidth:x,inputProps:{id:"type"},error:n.type&&a.type,disabled:o||m||"admin"===t.username},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"admins"},"Amministratore"),r.a.createElement("option",{value:"users"},"Utente")),r.a.createElement(Qe.a,{error:!0},n.type&&a.type&&n.type))),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"name",label:"Nome",onChange:c,onBlur:l,value:t.name,helperText:n.name&&a.name&&n.name,error:n.name&&a.name,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"surname",label:"Cognome",onChange:c,onBlur:l,value:t.surname,helperText:n.surname&&a.surname&&n.surname,error:n.surname&&a.surname,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",onChange:c,onBlur:l,value:t.password,helperText:n.password&&a.password&&n.password,error:n.password&&a.password,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Conferma Password",type:"password",id:"confirmPassword",onChange:c,onBlur:l,value:t.confirmPassword,helperText:n.confirmPassword&&a.confirmPassword&&n.confirmPassword,error:n.confirmPassword&&a.confirmPassword,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email",onChange:c,onBlur:l,inputProps:{form:{autocomplete:"off"}},value:t.email,helperText:n.email&&a.email&&n.email,error:n.email&&a.email,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"description",label:"Description",onChange:c,onBlur:l,value:t.description,helperText:n.description&&a.description&&n.description,error:n.description&&a.description,disabled:o||m})),r.a.createElement(q.a,{item:!0,xs:12,sm:12},r.a.createElement("div",{className:i.submitContainer},r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:o||m,isLoading:o},"Salva")))))})))))))}var Je=a(67),Ye=a(60),Ze=a(98),$e=a(404),et=a(54),tt=Object(E.a)((function(e){return{badge:{marginLeft:e.spacing(1),marginRight:e.spacing(2)},badge_children:{marginLeft:e.spacing(2),marginRight:e.spacing(1)}}}));function at(e){var t=e.id,a=e.label,i=e.items,o=e.notification,c=tt(),l=r.a.useState(null),s=Object(L.a)(l,2),u=s[0],d=s[1],m=Object(n.useContext)(et.a).dispatch,p=Boolean(u),f=function(){d(null)},g=r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{anchorEl:u,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},id:t,keepMounted:!0,open:p,onClose:f},function e(t){var a=[];if(Array.isArray(t)){var n,i=Object(Ye.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(e(o))}}catch(s){i.e(s)}finally{i.f()}return a}if(Array.isArray(t.children)&&t.children.length>0){var l=e(t.children);a.push(r.a.createElement($e.a,{label:r.a.createElement(r.a.Fragment,null,t.menuName,t.numberOfNotification>0&&r.a.createElement(je.a,{className:c.badge_children,badgeContent:t.numberOfNotification,color:"error"})),parentMenuOpen:!!u},l))}else a.push(r.a.createElement(J.a,{key:t.id_menu,disabled:!t.actionEvent,onClick:function(){m(t.actionEvent),f()}},t.icon?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{variant:"inherit"},t.menuName)):t.menuName,t.numberOfNotification>0&&r.a.createElement(je.a,{className:c.badge_children,badgeContent:t.numberOfNotification,color:"error"})));return a}(i)));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{color:"inherit",onClick:function(e){return d(e.currentTarget)}},a),g,o>0&&r.a.createElement(je.a,{className:c.badge,badgeContent:o,color:"error"}))}var nt=a(719),rt=a(246),it=a(227),ot=a(106),ct=r.a.createContext();ct.Consumer;function lt(e){var t=e.children,a=Object(Me.a)(e,["children"]);return r.a.createElement(ct.Provider,{value:Object(f.a)({},a)},t)}var st=function(e){var t=e.text;return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},ut=a(405),dt=a(693),mt=a(202),pt=a(247),ft=a(248),gt=a(111),bt=a(109),ht=Object(E.a)((function(e){return{form:{display:"flex",flexGrow:1,padding:e.spacing(3)}}})),vt=function e(t){var a,n=[],i=r.a.Children.toArray(t),o=Object(Ye.a)(i);try{for(o.s();!(a=o.n()).done;){var c=a.value;if(c.props.children)n.push.apply(n,Object(Je.a)(e(c.props.children)));else if(c.props.fieldName){var l;n.push({aliasName:c.props.aliasName,fieldName:c.props.fieldName,required:c.props.required,type:null===(l=c.props.boxType)||void 0===l?void 0:l.toLowerCase()})}}}catch(s){o.e(s)}finally{o.f()}return n},qt=function(e){var t=e.dataSource,a=e.aliasName,i=e.listFieldToUpdate,o=e.refINPanelAlias,c=e.children,l=t||{},s=l.dataSourceClassName,u=l.dataSourceClassNameForUpdate,d=l.fieldNamePrimaryKey,m=l.fieldNameIDDependedClass,p=ht(),g=Object(n.useState)(!1),b=Object(L.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)(void 0),j=Object(L.a)(E,2),x=j[0],C=j[1],w=Object(n.useState)(vt(c)),k=Object(L.a)(w,2),T=k[0],P=k[1],A=Object(n.useState)(),I=Object(L.a)(A,2),D=I[0],R=I[1],_=Object(n.useState)({}),B=Object(L.a)(_,2),F=B[0],U=B[1],W=Object(n.useContext)(et.a),M=W.dispatch,G=W.componentData,V=W.setData,H=Object(S.a)(),Q=H.getRecord,X=H.updateRecord,K=Object(n.useRef)(),J=Object(N.a)(),Y=Object(n.useContext)(bt.b).chargeComponent,Z=(G[a],Y[a]),$=Object(n.useContext)(ft.a),ee=Object(n.useCallback)(ke.a.debounce((function(e){var t,a={},n=Object(Ye.a)(T);try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r.aliasName]=e[r.fieldName]}}catch(i){n.e(i)}finally{n.f()}V(null,null,Object(f.a)({},a))}),500),[]),te=Object(n.useCallback)(function(){var e=Object(De.a)(Ie.a.mark((function e(t,n){var r,c,l,d,m,p,g,b,h,v,q,E,y,O,j,C,w,S,N;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("INDBForm handling action",n),e.t0=n.actionType,e.next="UPDATE_DB"===e.t0?4:"UPDATE_FORM_VALUES"===e.t0?17:"CANCEL_OPERATION"===e.t0?24:30;break;case 4:return e.next=6,null===(r=K.current)||void 0===r?void 0:r.submitForm();case 6:return e.next=8,null===(c=K.current)||void 0===c?void 0:c.validateForm();case 8:if(p=e.sent,!(Object.keys(p).length>0)){e.next=11;break}return e.abrupt("return");case 11:g=K.current.values,b=Object(f.a)({},F),h=Object(Ye.a)(i);try{for(h.s();!(v=h.n()).done;)q=v.value,E=void 0,E=g[q]instanceof Date?g[q].getTime():g[q],b[q]=E}catch(k){h.e(k)}finally{h.f()}return X(u||s,b).then((function(){J("Record aggiornato con successo","success"),"undefined"!==typeof $?($.showPanel(o),V(a,null)):console.log("Cannot redirect to list since no INSSTab found")})).catch((function(e){var t;J((null===(t=e.action)||void 0===t?void 0:t.messageToShow)||e.message,"error")})).finally((function(){var e;return null===(e=K.current)||void 0===e?void 0:e.setSubmitting(!1)})),e.abrupt("break",31);case 17:null===(l=K.current)||void 0===l||l.setSubmitting(!0),y=K.current.values,O=Object(f.a)({},F),j=Object(Ye.a)(i);try{for(j.s();!(C=j.n()).done;)w=C.value,O[w]=y[w]}catch(k){j.e(k)}finally{j.f()}return X(u||s,O,!1).then((function(e){for(var t=0,a=Object.keys(y);t<a.length;t++){var n,r=a[t];null===(n=K.current)||void 0===n||n.setFieldValue(r,e[r])}console.log("Form values updated",e)})).catch((function(e){var t;return J((null===(t=e.action)||void 0===t?void 0:t.messageToShow)||e.message||"Impossibile ricalcolare i valori del record","error")})).finally((function(){var e;return null===(e=K.current)||void 0===e?void 0:e.setSubmitting(!1)})),e.abrupt("break",31);case 24:for(N in S=Object(f.a)({},x))S[N]="";return null===(d=K.current)||void 0===d||d.setValues(S),V(null,null,(m={},Object(z.a)(m,o,null),Object(z.a)(m,a,null),m)),"undefined"!==typeof $?($.showPanel(o),V(a,null)):console.log("Cannot redirect to list since no INSSTab found"),e.abrupt("break",31);case 30:M(n);case 31:return e.abrupt("return",t);case 32:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x,K]),ae=Object(n.useReducer)(te,{data:null}),ne=Object(L.a)(ae,2),re=(ne[0],ne[1]);return Object(n.useEffect)((function(){var e=Z;return s&&Z||(console.warn("Not fetching data for non-data form"),e="01"),e&&(v(!1),Q(s,e).then((function(e){var t,a={},n=Object(Ye.a)(T);try{for(n.s();!(t=n.n()).done;){var r=t.value;["date","datetime","time"].includes(r.type)?a[r.fieldName]=Object(gt.a)(e[r.fieldName],G)||null:a[r.fieldName]=Object(gt.a)(e[r.fieldName],G)||""}}catch(i){n.e(i)}finally{n.f()}U(Object(f.a)(Object(f.a)({},d&&e[d]?Object(z.a)({},d,e[d]):{}),m&&e[m]?Object(z.a)({},m,e[m]):{})),C(a)})).catch((function(e){return console.error("Failed to fetch INDBform data",e)})).finally((function(){return v(!0)}))),function(){C(void 0)}}),[]),Object(n.useEffect)((function(){var e,t=vt(c),a={},n={},r=Object(Ye.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;["date","datetime","time"].includes(i.type)?a[i.fieldName]=null:a[i.fieldName]="",i.required&&(n[i.fieldName]=O.string().required("Campo obbligatorio"))}}catch(o){r.e(o)}finally{r.f()}return R(O.object().shape(n)),C(a),P(t),function(){console.log("CLEANUP VALUES INDBFORM"),C(void 0)}}),[c]),r.a.createElement(r.a.Fragment,null,h?r.a.createElement(y.a,{initialValues:x,innerRef:K,validationSchema:D,enableReinitialize:!0,onSubmit:function(){}},(function(e){var t,a=e.values,n=Object(Ye.a)(T);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(G[i.aliasName]!==a[i.fieldName]){ee(a);break}}}catch(o){n.e(o)}finally{n.f()}return r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:p.form},r.a.createElement(pt.b,{dispatch:re},c))})):r.a.createElement(q.a,{container:!0,alignItems:"center",justify:"center",style:{flexGrow:1}},r.a.createElement(q.a,{item:!0},r.a.createElement(mt.a,null))))},Et=a(418),yt=a(407),Ot=function(e){var t=e.text,a=e.actionEvent,i=e.fullWidth,o=(e.width,e.padding,e.badge),c=e.imageURL,l=e.htmlText,s=Object(Me.a)(e,["text","actionEvent","fullWidth","width","padding","badge","imageURL","htmlText"]),u=Object(n.useState)(!1),d=Object(L.a)(u,2),m=d[0],p=d[1],f=!1,g=function(e){return console.error("No dispatcher available")},b=(null===a||void 0===a?void 0:a.confirmAction)||((null===a||void 0===a?void 0:a.requestParameterList)||[]).length>0,h=function(){return p(!1)},v=Object(y.c)(),q=Object(n.useContext)(pt.a),E=Object(n.useContext)(et.a);v?(f=v.isSubmitting,g=q.dispatch):g=E.dispatch;var O=function(e){p(!1),"function"===typeof e&&e(!1),a?(console.log("INButton Handling action",a),g(a)):console.error("No event associated to this button")};return o||(o=0),r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(yt.a,{isOpen:m,title:"Conferma",description:a.requestMessageToShow||a.confirmDescription||"Specificare i parametri",primaryButtonText:"Procedi",secondaryButtonText:"Annulla",handlePrimaryClose:function(e,t){var n=t.setSubmitting;a.data=e,p(a.waitForEnd),O(n)},handleSecondaryClose:h,handleClose:h,requestParameterList:a.requestParameterList||[]}),r.a.createElement(je.a,{badgeContent:o,color:"error"},r.a.createElement(Ze.a,Object.assign({variant:"contained"},s.backgroundColor?{style:{background:s.backgroundColor,color:"white"}}:{color:"primary"},{type:"button",fullWidth:i,disabled:f,onClick:function(e){e.preventDefault(),e.stopPropagation(),b?p(!0):O()}}),c?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("img",{src:c})),r.a.createElement("p",null,t)):l?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):t)))};Ot.defaultProps={fullWidth:!0};var jt=Ot;function xt(e){var t=e.imageURL;return r.a.createElement(b.a,{style:{padding:"8px"}},r.a.createElement(v.a,{style:{width:"100%",height:"100%"},component:"img",alt:"",image:t,title:""}))}var Ct=a(706),wt=a(151),St=a(409),Nt=a.n(St),kt=a(408),Tt=a.n(kt),Pt=a(709),At=a.n(Pt),It=a(245);function Dt(e){var t=e.children,a=e.width,i=void 0===a?1e3:a,o=e.height,c=void 0===o?500:o,l=e.minWidth,s=e.minHeight,u=e.maxWidth,d=e.maxHeight,m=e.title,p=e.dialogFrame,g=e.top,b=e.left,h=e.maximize,v=void 0!==h&&h,q=e.componentName,y=e.toolBarColor,O=void 0===y?"#ffffff":y,j=e.titleColor,x=void 0===j?"#30b6e3":j,C=Object(E.a)((function(e){var t,a;return{root:{display:"flex",flexGrow:1,alignSelf:"stretch",flexDirection:"column"},grow:{flexGrow:1},appBarHang:(a={boxShadow:"none",backgroundColor:O,cursor:"grab"},Object(z.a)(a,"cursor","-moz-grap"),Object(z.a)(a,"cursor","-webkit-grab"),Object(z.a)(a,"&:active",(t={cursor:"grabbing"},Object(z.a)(t,"cursor","-moz-grabbing"),Object(z.a)(t,"cursor","-webkit-grabbing"),t)),a),content:{display:"flex",flexGrow:1,overflowY:"auto",overflowX:"hidden",flexDirection:"column"},titleClass:{color:x}}}))(),w=Object(n.useContext)(et.a),S=w.dispatch,N=w.componentData,k=Object(n.useContext)(ct),T=k.appClass,P=k.onDragStart,A=k.containerRef,I=k.zIndex,D=Object(n.useState)(!0),R=Object(L.a)(D,2),_=R[0],B=R[1],W=l||i,M=u||i,V=s||c,Q=d||c,X=function(){var e,t;return{x:16,y:16,width:M||(null===(e=A.current)||void 0===e?void 0:e.clientWidth)-32,height:Q||(null===(t=A.current)||void 0===t?void 0:t.clientHeight)-32,maximized:!0}},K=function(){var e,t;return{x:g||(null===(e=A.current)||void 0===e?void 0:e.clientWidth)/2-i/2||100,y:b||(null===(t=A.current)||void 0===t?void 0:t.clientHeight)/2-c/2||100,width:i,height:c,maximized:!1}},J=Object(n.useState)(v?X():K()),Y=Object(L.a)(J,2),Z=Y[0],$=Y[1],ee=Z.maximized&&!(Z.maximized&&Z.width>W&&Z.height>V)||!Z.maximized&&!(!Z.maximized&&Z.width<M&&Z.height<Q),te=r.a.createElement(wt.a,{elevation:10,className:C.root},r.a.createElement(F.a,{position:"static",className:C.appBarHang},r.a.createElement(U.a,{variant:"dense"},r.a.createElement(H.a,{variant:"h6",className:C.titleClass},Object(gt.a)(m,N)),r.a.createElement("div",{className:C.grow}),!p&&r.a.createElement(ne.a,{title:Z.maximized?"Riduci":"Ingrandisci","aria-label":Z.maximized?"Riduci":"Ingrandisci"},r.a.createElement("span",null,r.a.createElement(G.a,{color:"#ffffff",size:"medium",disabled:ee,onClick:function(){return $(Z.maximized?K():X())}},Z.maximized?r.a.createElement(Tt.a,{fontSize:"inherit",color:ee?"disabled":"#ffffff"}):r.a.createElement(Nt.a,{fontSize:"inherit",color:ee?"disabled":"#ffffff"})))),r.a.createElement(ne.a,{title:"Chiudi","aria-label":"chiudi"},r.a.createElement(G.a,{color:"inherit",size:"medium",onClick:function(){return S({actionType:"CLOSE_COMPONENT",appClass:T})}},r.a.createElement(At.a,{fontSize:"inherit",color:"white"}))))),r.a.createElement("div",{className:C.content},t));if(p){var ae=Object(E.a)((function(){return Object(z.a)({},q,{height:c,width:i})}))();return r.a.createElement(It.a,{classes:{paper:ae[q]},isOpen:_,handleClose:function(){B(!1),S({actionType:"CLOSE_COMPONENT",appClass:T})},minWidth:l||i,minHeight:s||c,maxWidth:u||i,maxHeight:d||c},r.a.createElement(bt.a,null,te))}return r.a.createElement(bt.a,null,r.a.createElement(Ct.a,{size:{width:Z.width,height:Z.height},position:{x:Z.x,y:Z.y},onDragStop:function(e,t){return $(Object(f.a)(Object(f.a)({},Z),{},{x:t.x,y:t.y}))},onResizeStop:function(e,t,a,n,r){return $(Object(f.a)(Object(f.a)({},Z),{},{width:a.style.width,height:a.style.height}))},minWidth:l||i,minHeight:s||c,maxWidth:u||i,maxHeight:d||c,style:{display:"flex",zIndex:I},cancel:"input",bounds:"parent",dragHandleClassName:C.appBarHang,onDragStart:P},te))}var Rt=a(406),_t=a(733),Lt=a(510),Bt=Object(E.a)((function(e){return{inSSTabContent:{flexGrow:1,display:"flex",padding:e.spacing(1)},inSSTabContainer:{display:"flex",flexGrow:1,flexDirection:"column"}}})),zt=function(e){var t=e.children,a=Bt(),i=Object(n.useState)(0),o=Object(L.a)(i,2),c=o[0],l=o[1],s=Object(n.useContext)(et.a),u=(s.componentData,s.setData),d=Object(n.useContext)(bt.b).selectedRow;Object(n.useEffect)((function(){for(var e=r.a.Children.toArray(t),a=0;a<e.length;a++)"INComponentGroup"===e[a].props.componentName&&c!==a&&u(e[a].props.aliasName,null)}),[c]);var m=function(e,a){for(var n=r.a.Children.toArray(t),i=0;i<n.length;i++)if(n[i].props.aliasName===e&&(!a||n[i].props.componentName===a))return void l(i);console.warn("Cant find element for setRequiredIndex",e,a)};return r.a.createElement("div",{className:a.inSSTabContainer},r.a.createElement(_t.a,{value:c,onChange:function(e,t){return l(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.Children.toArray(t).map((function(e,t){var a;return r.a.createElement(Lt.a,{key:t,label:e.props.title,disabled:"INComponentGroup"===(null===(a=e.props)||void 0===a?void 0:a.componentName)&&!d})}))),r.a.createElement("div",{className:a.inSSTabContent},r.a.createElement(ft.b,{showForm:function(e){return m(e,"INComponentGroup")},showPanel:function(e){return m(e)}},r.a.Children.toArray(t).map((function(e,t){return c===t&&e})))))},Ft=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t)},Ut=a(497),Wt=function(e){var t,a=!0,n=!0,r=[];switch(e){case"INForm":t=Dt,n=!1,r.push("title");break;case"INDBTreeView":case"INDBList":t=Rt.a,a=!1,r.push("dataSource");break;case"INSSTab":t=zt;break;case"INPanel":t=Ft,r.push("title");break;case"INContainer":t=Ft;break;case"INDataEntryBox":t=Et.a,a=!1,r.push("fieldName","boxType");break;case"INTextEdit":t=dt.a,a=!1,r.push("fieldName");break;case"INButton":t=jt,a=!1,r.push("text");break;case"INImage":t=xt,a=!1,r.push("imageURL");break;case"INComponentGroup":t=qt;break;case"INLabel":t=st,a=!1,r.push("text");break;case"INCheckBox":t=ut.a,a=!1,r.push("label");break;case"INContextMenu":t=Ut.a,a=!1,r.push("menu_list");break;default:throw new Error("Invalid component type ".concat(e))}return{className:t,canHaveChild:a,canBeChild:n,parentWrapper:void 0,childWrapper:void 0,mandatoryProps:r}},Mt=a(198),Gt=function(e){var t=e.componentDirection,a=e.componentAlign,n=e.grow,i=e.spacing,o=e.children;return r.a.createElement("div",{className:"INHorizontalGridContainer",style:{display:"flex",width:"100%",flexGrow:null!==n&&void 0!==n?n:1,flexDirection:"row",alignContent:a,justifyContent:t}},r.a.Children.toArray(o).map((function(e,t){var a,n=(a=e.props)?Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},a.width&&{width:a.width}),a.height&&{height:a.height}),a.padding_Bottom&&{paddingBottom:a.padding_Bottom}),a.padding_Top&&{paddingTop:a.padding_Top}),a.padding_Left&&{paddingLeft:a.padding_Left}),a.padding_Right&&{paddingRight:a.padding_Right}),a.grow&&{flexGrow:a.grow}),a.componentAlign&&{alignSelf:Object(Mt.a)(a.componentAlign)}):{};return r.a.createElement("div",{className:"INHorizontalGridItem",key:t,style:Object(f.a)({display:"flex",paddingLeft:i,paddingRight:i},n)},e)})))};Gt.defaultProps={componentDirection:"center",componentAlign:"center",spacing:16};var Vt=Gt,Ht=function(e){var t=e.componentLayout,a=(e.components,Object(Me.a)(e,["componentLayout","components"]));if(t&&"BORDER_LAYOUT"!==t){var n,r,i=(r=a,{componentDirection:Object(Mt.a)(r.componentDirection),componentAlign:Object(Mt.a)(r.componentAlign),grow:r.grow,spacing:r.layoutSpacing,height:r.height,left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.width});switch(t){case"BORDER_LAYOUT":case"GRID_LAYOUT":case"VERTICAL_GRID":n=rt.a;break;case"HORIZONTAL_GRID":n=Vt;break;default:throw new Error("Invalid layout type ".concat(t))}return{className:n,attr:i}}};var Qt=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)throw new Error("Empty layout data supplied");var n=t.components,i=t.componentType,o=Object(Me.a)(t,["components","componentType"]),c=Wt(i);if(!c.canHaveChild)throw new Error("The component ".concat(i," cannot have children"));for(var l=[],s=0;s<n.length;s++){var u=n[s],d=Wt(u.componentType);if(!d.canBeChild)throw new Error("The component ".concat(u.componentType," cannot be a child"));if(d.mandatoryProps.length>0&&function(){var e=Object.keys(u),t=d.mandatoryProps.filter((function(t){return!e.includes(t)}));if(t.length>0)throw new Error("The component ".concat(u.componentType," is missing mandatory props: ").concat(t.toString()))}(),u.components&&Array.isArray(u.components)&&u.components.length>0){var m=e(u,s);l.push(m)}else l.push(r.a.createElement(d.className,Object(f.a)({key:a+s},u)))}var p=Ht(t);p&&(l=r.a.createElement(p.className,Object(f.a)({key:a},p.attr),l)),c.childWrapper&&(l=r.a.createElement(c.childWrapper,{key:a},l));var g=r.a.createElement(c.className,Object(f.a)({key:a},o),l);return c.parentWrapper?r.a.createElement(c.parentWrapper,{key:a},g):g};function Xt(e){var t=e.appClass,a=e.url,i=e.onDragStart,o=e.containerRef,c=e.zIndex,l=(e.children,Object(n.useState)(null)),s=Object(L.a)(l,2),u=s[0],d=s[1],m=Object(n.useContext)(et.a).setComponentData,p=Object(n.useState)([]),g=Object(L.a)(p,2),b=g[0],h=g[1],v=Object(S.a)().get;if(Object(n.useEffect)((function(){return function(){if("function"===typeof m){console.log("Clearing autolayout aliases");var e,t=Object(Ye.a)(b);try{var a=function(){var t=e.value;m((function(e){var a=Object(f.a)({},e);return delete a[t],a}))};for(t.s();!(e=t.n()).done;)a()}catch(n){t.e(n)}finally{t.f()}}}}),[b]),Object(n.useEffect)((function(){function e(){return(e=Object(De.a)(Ie.a.mark((function e(){var t,n,i;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(a);case 3:t=e.sent,n=Qt(t),i=[],nt.a.deepForEach(n,(function(e){return e.props.aliasName&&i.push(e.props.aliasName)})),console.log("Autolayout ALIASES",i),h(i),d(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),d(r.a.createElement(ot.a,null,r.a.createElement(rt.a,{componentAlign:"center"},r.a.createElement(H.a,{component:"h5",color:"error"},"Errore durante la creazione del layout"),r.a.createElement(H.a,{variant:"body2"},e.t0.message))));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),!t||!a)return console.warn("No app class supplied"),r.a.createElement(r.a.Fragment,null);if(Array.isArray(u)&&u.length>1)throw new Error("Invalid layout structure: there must be only one container at most");return u?r.a.createElement(lt,{appClass:t,onDragStart:i,containerRef:o,zIndex:c},u):r.a.createElement(it.a,null)}var Kt=a(710),Jt=a(249),Yt=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",overflowX:"hidden"},container:Object(z.a)({height:"calc(100vh - 64px)",width:"calc(100vw - ".concat(e.spacing(7),"px)")},e.breakpoints.up("sm"),{height:"calc(100vh - ".concat(e.mixins.toolbar[e.breakpoints.up("sm")].minHeight,"px)")})}})),Zt={};function $t(e){var t=e.match,a=Yt(),i=Object(n.useState)(!1),o=Object(L.a)(i,2),c=o[0],l=o[1],s=Object(S.a)(),u=s.startApp,d=s.executeCommand,m=Object(n.useState)({title:"Caricamento...",menu:[]}),p=Object(L.a)(m,2),f=p[0],g=p[1],b=Object(N.a)(),h=Object(n.useCallback)((function(e,t){if(!t)return console.error("Cannot handle empty action"),e;console.log("Handling action",t);var a=t.actionType,n=t.urlToCall,r=t.appClass;switch(a){case"SHOW_COMPONENT":if(!e.find((function(e){return e.appClass===t.strClassToCall}))){var i=Math.max.apply(Math,Object(Je.a)(Object.values(Zt)).concat([0]));return[].concat(Object(Je.a)(e),[{appClass:t.strClassToCall,url:t.urlToCall,zIndex:Zt[t.strClassToCall]||i+1}])}break;case"CLOSE_COMPONENT":return delete Zt[r],e.filter((function(e){return e.appClass!==r}));case"EXECUTE_COMMAND":var o=t.data,c=t.waitForEnd;l(!0),d(n,o,c).then((function(e){c?e.newEventFromTask&&y(e.newEventFromTask):b("Operazione in esecuzione in background.","success")})).catch((function(e){return b("Errore durante l'esecuzione del comando","error")})).finally((function(){return l(!1)}));break;case"OPEN_URL":return t.openInNewFrame?[].concat(Object(Je.a)(e),[{type:"modalFrame",appClass:n,height:t.frameHeight,url:n}]):(window.open(n,"_blank"),e);default:console.error("Invalid action type")}return e}),[]),v=Object(n.useReducer)(h,[]),q=Object(L.a)(v,2),E=q[0],y=q[1],O=Object(n.useRef)({prevDraggedNode:null}),j=Object(n.useRef)(),x=t.params.id;return console.log("Loading app",x),Object(n.useEffect)((function(){u(x).then((function(e){console.log("Application loaded",e),g({title:e.app_name,menu:e.menu}),e.newevent&&y(e.newevent)})).catch((function(e){return console.log("Failed to start app",e)}))}),[x]),r.a.createElement("div",{className:a.root},r.a.createElement(Jt.a,{open:c}),r.a.createElement(et.b,{dispatch:y},r.a.createElement(de,{title:f.title},f.menu.map((function(e){return r.a.createElement(at,{key:e.id_menu,id:e.id_menu,label:e.menuName,items:e.children,notification:e.numberOfNotification})}))),r.a.createElement(ye,null),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement("div",{className:a.container,ref:j},r.a.createElement(r.a.Fragment,null,E.map((function(e,t){var a=e.appClass,n=e.url,i=e.type,o=e.height,c=e.zIndex;return"modalFrame"===i?r.a.createElement(It.a,{key:t,isOpen:!0,fullWidth:!0,maxWidth:"xl",handleClose:function(){return y({actionType:"CLOSE_COMPONENT",appClass:n})}},r.a.createElement(Kt.a,{id:t,url:n,height:o||"950px"})):r.a.createElement(Xt,{key:t,appClass:a,url:n,containerRef:j,zIndex:c,onDragStart:function(e,t){var n=O.current;if(n.prevDraggedNode){if((null===n||void 0===n?void 0:n.prevDraggedNode)!==t.node){n.prevDraggedNode=t.node;var r=Math.max.apply(Math,Object(Je.a)(Object.values(Zt)).concat([0]))+1;n.prevDraggedNode.style.zIndex=r,Zt[a]=r}}else n.prevDraggedNode=t.node}})})))))))}var ea=a(419),ta=a(309),aa=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},row:{display:"flex"},appIcon:{height:e.spacing(5),marginTop:"7px",marginBottom:"7px",marginLeft:e.spacing(1),marginRight:e.spacing(2)}}}));function na(e){var t=e.match,a=e.history,i=aa(),o=t.params.username,c=Object(n.useState)([]),l=Object(L.a)(c,2),s=l[0],u=l[1],d=Object(S.a)(),m=d.getApps,p=d.isLoading;return Object(n.useEffect)((function(){m().then((function(e){var t,a=Object(Ye.a)(e);try{for(a.s();!(t=a.n()).done;)t.value.permit=Math.random()>=.5}catch(n){a.e(n)}finally{a.f()}u(e)})).catch(console.error)}),[]),r.a.createElement("div",{className:i.root},r.a.createElement(de,{title:"Gestione permessi"}),r.a.createElement(ye,null),r.a.createElement("main",{className:i.content},r.a.createElement("div",{className:i.appBarSpacer}),r.a.createElement(B.a,{maxWidth:"lg",className:i.container},r.a.createElement(q.a,{container:!0,spacing:3},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ze.a,{title:"Permessi utente: ".concat(o),isLoading:p,actions:[{icon:"save",tooltip:"Salva modifiche",isFreeAction:!0,onClick:function(){return a.push("/user/list")}}],columns:[{title:"Applicazione",field:"app_name",render:function(e){return r.a.createElement("div",{className:i.row},r.a.createElement("img",{src:Se.a,className:i.appIcon,alt:""}),r.a.createElement("p",null,e.app_name))}},{title:"Consenti",field:"permit",render:function(e){return r.a.createElement(ta.a,{checked:e.permit,onChange:function(){},value:"primary",inputProps:{"aria-label":"primary checkbox"}})}}],data:s,options:{search:!1}}))))))}var ra=a(94),ia=a(95),oa=a(251),ca=a(1156),la=a(250),sa=Object(E.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(4),height:"100%"},productsContainer:{marginTop:e.spacing(0)},appSeparator:{minHeight:e.spacing(10)},paginationContainer:{marginTop:e.spacing(6),"& > *":{marginTop:e.spacing(2),justifyContent:"center",display:"flex"}}}})),ua="",da=function(){var e=Object(d.h)(),t=Object(d.g)(),a=Object(n.useState)([]),i=Object(L.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)(!1),s=Object(L.a)(l,2),u=s[0],m=(s[1],Object(n.useState)(!0)),p=Object(L.a)(m,2),g=p[0],b=p[1],h=Object(n.useState)([]),v=Object(L.a)(h,2),E=(v[0],v[1],Object(n.useState)({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})),y=Object(L.a)(E,2),O=y[0],j=y[1],x=sa(),C=Object(d.i)().id,w=new URLSearchParams(e.search).get("description"),N=Object(S.a)(),k=N.getProductsByName;N.getCategory;return Object(n.useEffect)((function(){j({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})}),[e.search]),Object(n.useEffect)((function(){b(!0),k(C,{recordForPage:32,page:O.currentPage}).then((function(e){var t,a;Array.isArray(e)&&(j(Object(f.a)(Object(f.a)({},O),{},{totalPages:null!==(t=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.totPage)&&void 0!==t?t:1})),c(e))})).catch(console.error).finally((function(){return b(!1)}))}),[C,O.currentPage]),u?r.a.createElement(la.a,null):r.a.createElement("div",{className:x.root},r.a.createElement(ra.a,{title:"Home"}),r.a.createElement(ia.a,null),r.a.createElement("main",{className:x.content},r.a.createElement("div",{className:x.appBarSpacer}),r.a.createElement("div",{className:x.appSeparator},r.a.createElement(H.a,{style:{textAlign:"center",paddingTop:"30px",paddingBottom:"20px",color:"#1386bf",fontSize:"30pt"}},w)),r.a.createElement(B.a,{maxWidth:"lg",className:x.container},r.a.createElement(r.a.Fragment,null,g?r.a.createElement(ot.a,null,r.a.createElement(mt.a,null)):null,r.a.createElement(q.a,{container:!0,spacing:3,className:x.productsContainer},o.map((function(e){return r.a.createElement(q.a,{key:e.id_ArticlesRegistry,item:!0},(t=e.categoryFullPathDescription,ua!=t&&(ua=t,1)?r.a.createElement(H.a,{style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"}},e.categoryFullPathDescription):r.a.createElement(H.a,{style:{paddingTop:"20px",paddingBottom:"5px",color:"#83a2a8",fontSize:"10pt"}},e.categoryFullPathDescription)),r.a.createElement(oa.a,{title:e.description,price:e.sellingPriceTotVat,available:!0,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,hasSizeAndColors:!!e.sizesAndColors,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot}));var t}))),r.a.createElement("div",{className:x.paginationContainer},r.a.createElement(ca.a,{size:"large",count:O.totalPages,page:O.currentPage,onChange:function(a,n){t.push({pathname:e.pathname,search:"?".concat(new URLSearchParams({page:n}).toString())})}}))))))},ma=a(56),pa=a(148),fa=Object(E.a)((function(e){return{form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ga=function(){var e=Object(n.useContext)(ma.a),t=e.showLoginDialog,a=e.setShowLoginDialog,i=Object(n.useContext)(w.b),o=i.sessionData,c=i.setData,l=Object(S.a)().login,s=function(){return a(!1)},u=fa(),d=Object(N.a)();return r.a.createElement(y.a,{initialValues:{user:"",password:""},validationSchema:O.object().shape({user:O.string().required("Inserire il nome utente"),password:O.string().required("Inserire una password")}),enableReinitialize:!0,onSubmit:function(e,t){var a=t.setSubmitting,n=t.setErrors,r=Object(f.a)(Object(f.a)({},e),{},{inceptiumid:o.inceptiumid});l(r).then((function(e){c(Object(f.a)(Object(f.a)({},r),e)),s()})).catch((function(e){n(e.error||e.message),d(e.message,"error")})).finally((function(){return a(!1)}))}},(function(e){var a=e.values,n=e.errors,i=e.handleChange,o=e.handleBlur,c=e.touched,l=e.isSubmitting,d=e.submitForm,m=e.handleSubmit;return r.a.createElement(Fe.a,{isOpen:t,title:"Effettua l'accesso",primaryButtonText:"Accedi",primaryButtonDisabled:l,secondaryButtonText:"Annulla",secondaryButtonDisabled:l,handlePrimaryClose:d,handleSecondaryClose:s,handleClose:s},r.a.createElement("form",{className:u.form,onSubmit:m},r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"user",label:"Nome Utente",autoComplete:"user",onChange:i,onBlur:o,value:a.user,helperText:n.user&&c.user&&n.user,error:n.user&&c.user,disabled:l}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:i,onBlur:o,value:a.password,helperText:n.password&&c.password&&n.password,error:n.password&&c.password,disabled:l})))}))},ba=a(177),ha=a(1137),va=a(1135),qa=a(498),Ea=a.n(qa),ya=Object(E.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100%"},productsContainer:{marginTop:e.spacing(4)},greyText:{color:ba.a[600]},emptyCategoryIcon:{fontSize:100,color:ba.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)},paginationContainer:{marginTop:e.spacing(6),"& > *":{marginTop:e.spacing(2),justifyContent:"center",display:"flex"}}}}));function Oa(){var e=Object(d.h)(),t=Object(d.g)(),a=Object(n.useState)([]),i=Object(L.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)(!1),s=Object(L.a)(l,2),m=s[0],p=s[1],g=Object(n.useState)(!0),b=Object(L.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)([]),y=Object(L.a)(E,2),O=y[0],j=y[1],x=Object(n.useState)({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1}),C=Object(L.a)(x,2),w=C[0],N=C[1],k=ya(),T=Object(d.i)().id,P=Object(S.a)(),A=P.getProducts,I=P.getCategory;return Object(n.useEffect)((function(){N({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})}),[e.search]),Object(n.useEffect)((function(){v(!0),I(T).then((function(e){var t,a;if("string"!==typeof e||0!==e.length){var n=null!==(t=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.categoryFullPathDescription)&&void 0!==t?t:"";j(n.split("/"))}else p(!0)})),A(T,{recordForPage:20,page:w.currentPage}).then((function(e){var t,a;Array.isArray(e)&&(N(Object(f.a)(Object(f.a)({},w),{},{totalPages:null!==(t=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.totPage)&&void 0!==t?t:1})),c(e))})).catch(console.error).finally((function(){return v(!1)}))}),[T,w.currentPage]),m?r.a.createElement(la.a,null):r.a.createElement("div",{className:k.root},r.a.createElement(ra.a,{title:"Categoria"}),r.a.createElement(ia.a,null),r.a.createElement("main",{className:k.content},r.a.createElement("div",{className:k.appBarSpacer}),r.a.createElement(B.a,{maxWidth:"lg",className:k.container},r.a.createElement(ha.a,{"aria-label":"breadcrumb"},r.a.createElement(va.a,{color:"inherit",to:"/ecommerce/home",component:u.b},"Home"),O.map((function(e,t){return r.a.createElement(H.a,{key:t,color:t===O.length-1?"textPrimary":"textSecondary",style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"}},e)}))),h?r.a.createElement(ot.a,null,r.a.createElement(mt.a,null)):o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{container:!0,spacing:3,className:k.productsContainer},o.map((function(e){return r.a.createElement(q.a,{key:e.id_ArticlesRegistry,item:!0},r.a.createElement(oa.a,{title:e.description,price:e.sellingPriceTotVat,available:!0,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,hasSizeAndColors:!!e.sizesAndColors,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot}))}))),r.a.createElement("div",{className:k.paginationContainer},r.a.createElement(ca.a,{size:"large",count:w.totalPages,page:w.currentPage,onChange:function(a,n){t.push({pathname:e.pathname,search:"?".concat(new URLSearchParams({page:n}).toString())})}}))):r.a.createElement("div",{className:k.emptyContentContainer},r.a.createElement(Ea.a,{className:k.emptyCategoryIcon}),r.a.createElement(H.a,{variant:"subtitle1",className:k.greyText},"Non ci sono prodotti in questa categoria.")))))}var ja=a(713),xa=a(410),Ca=a(1151),wa=a(1153),Sa=a(178),Na=a(1152),ka=a(1121),Ta=a(496),Pa=a(402),Aa=a(1157),Ia=a(200),Da=a.n(Ia),Ra=a(717),_a=a.n(Ra),La=Object(E.a)((function(e){return{spinner:{position:"absolute",margin:"-16px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},primaryText:{color:e.palette.text.primary},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(14),color:e.palette.text.secondary},imageContainer:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function Ba(e){var t,a=e.expanded,i=e.handleSelect,o=e.handleChange,c=e.addresses,l=e.selectedAddressId,s=e.userData,u=Object(n.useState)(!1),d=Object(L.a)(u,2),m=d[0],p=d[1],f=La(),g=null===(t=c.filter((function(e){return e.id===l})))||void 0===t?void 0:t[0];return r.a.createElement(Ca.a,{expanded:a,onChange:o("addressPanel")},r.a.createElement(wa.a,{expandIcon:r.a.createElement(Da.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexGrow:1}},r.a.createElement("div",{style:{flexBasis:"33.33%",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",{className:f.imageContainer},r.a.createElement(_a.a,null)),r.a.createElement(H.a,{className:f.heading},"Indirizzo di consegna")),r.a.createElement(H.a,{component:"div",className:f.secondaryHeading},g&&r.a.createElement(H.a,{component:"div"},r.a.createElement(Sa.a,{fontWeight:"fontWeightRegular",className:f.primaryText},s.fullName||""),g.address||"",r.a.createElement("br",null),"".concat(g.postalCode||""," ").concat(g.city||""," ").concat(g.province||""," - ").concat(g.nation||""),r.a.createElement("br",null),s.phoneNumber||"")))),r.a.createElement(Na.a,{style:{position:"relative"}},m&&r.a.createElement("div",{className:f.spinner},r.a.createElement(mt.a,null)),r.a.createElement(Ve.a,{component:"fieldset",disabled:m},r.a.createElement(ka.a,{component:"legend"},"Altri indirizzi"),r.a.createElement(Ta.a,{"aria-label":"address",name:"address",value:null!==l&&void 0!==l?l:-1,onChange:function(e){p(!0),i(e.target.value).finally((function(){return p(!1)}))}},c.map((function(e){return r.a.createElement(Pa.a,{value:e.id,key:e.id,control:r.a.createElement(Aa.a,null),style:{marginTop:"16px"},label:r.a.createElement(H.a,{component:"div",className:f.secondaryHeading},r.a.createElement(Sa.a,{fontWeight:"fontWeightRegular",className:f.primaryText},s.fullName),e.address,r.a.createElement("br",null),"".concat(e.postalCode," ").concat(e.city," ").concat(e.province," - ").concat(e.nation),r.a.createElement("br",null),s.phoneNumber)})}))))))}var za=a(718),Fa=a.n(za),Ua=Object(E.a)((function(e){return{spinner:{position:"absolute",margin:"-16px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},primaryText:{color:e.palette.text.primary},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},imageContainer:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function Wa(e){var t,a=e.expanded,i=e.handleSelect,o=e.handleChange,c=e.payments,l=e.selectedPaymentId,s=Object(n.useState)(!1),u=Object(L.a)(s,2),d=u[0],m=u[1],p=Ua(),f=null===(t=c.filter((function(e){return e.id===l})))||void 0===t?void 0:t[0];return r.a.createElement(Ca.a,{expanded:d||a,onChange:o("paymentPanel")},r.a.createElement(wa.a,{expandIcon:r.a.createElement(Da.a,null),"aria-controls":"panel2bh-content",id:"panel2bh-header",style:{alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexGrow:1}},r.a.createElement("div",{style:{flexBasis:"33.33%",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",{className:p.imageContainer},r.a.createElement(Fa.a,null)),r.a.createElement(H.a,{className:p.heading},"Modalit\xe0 di pagamento")),r.a.createElement(H.a,{component:"div",className:p.secondaryHeading},f&&r.a.createElement(H.a,{component:"div"},r.a.createElement(Sa.a,{fontWeight:"fontWeightRegular",className:p.primaryText},f.label))))),r.a.createElement(Na.a,{style:{position:"relative"}},d&&r.a.createElement("div",{className:p.spinner},r.a.createElement(mt.a,null)),r.a.createElement(Ve.a,{component:"fieldset",disabled:d},r.a.createElement(ka.a,{component:"legend"},"Seleziona la modalit\xe0 di pagamento"),r.a.createElement(Ta.a,{"aria-label":"payment",name:"payment",value:null!==l&&void 0!==l?l:-1,onChange:function(e){m(!0),i(e.target.value).finally((function(){return m(!1)}))}},c.map((function(e){return r.a.createElement(Pa.a,{value:e.id,key:e.id,control:r.a.createElement(Aa.a,null),style:{marginTop:"8px"},label:r.a.createElement(H.a,null,e.label)})}))))))}var Ma=a(97),Ga=a(414),Va=Object(E.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},title:{fontSize:14},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},greyText:{color:e.palette.text.secondary},emptyCategoryIcon:{fontSize:100,color:ba.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)},verticalPadding:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},orderTotal:{fontSize:e.typography.pxToRem(15)},stickyCard:{position:"sticky",top:"90px"}}}));function Ha(){var e,t,a=Va(),i=Object(n.useContext)(pa.a),o=i.userCart,c=i.updateProductQty,l=i.isOpen,s=i.placeOrder,u=Object(n.useState)(!0),m=Object(L.a)(u,2),p=m[0],g=m[1],v=Object(n.useState)([]),q=Object(L.a)(v,2),E=q[0],y=q[1],O=Object(n.useState)([]),j=Object(L.a)(O,2),x=j[0],C=j[1],w=Object(n.useState)([]),N=Object(L.a)(w,2),k=N[0],T=N[1],P=Object(n.useState)({}),A=Object(L.a)(P,2),I=A[0],D=A[1],R=Object(n.useState)({}),_=Object(L.a)(R,2),z=_[0],F=_[1],U=Object(n.useState)(!1),W=Object(L.a)(U,2),M=W[0],G=W[1],V=Object(d.g)(),Q=Object(S.a)(),X=Q.getUserData,K=Q.getUserShippingAddresses,J=Q.getPaymentMethods,Y=Q.getCartList,Z=Q.getUserCart,$=Q.updateCartPaymentMethod,ee=Q.updateCartShippingAddress,te=function(e){return function(t,a){G(!!a&&e)}};Object(n.useEffect)((function(){p||l||(g(!0),re(o.userId).finally((function(){return g(!1)})))}),[l,o.userId]);var ae=function(){var e=Object(De.a)(Ie.a.mark((function e(){var t,a,n,r,i,o;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:return t=e.sent,a=t.codPaymentType||void 0,n=t.id_PersonShippingAddress||void 0,r=t.cartTotalPrice,i=t.cartTotalPriceVAT,o=t.cartTotalVAT,F({paymentId:a,addressId:n,noVATtotalPrice:r,wVATtotalPrice:i,totalVAT:o}),e.abrupt("return",{paymentId:a,addressId:n});case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(De.a)(Ie.a.mark((function e(){var t;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(null===o||void 0===o?void 0:o.id);case 2:if(t=e.sent,!(Array.isArray(t)&&t.length>0)){e.next=7;break}T(t.map((function(e){return{productId:e.codTot,quantity:e.cartQuantity,title:e.basicDescription,imageURL:e.imageURL,price:e.articlePriceTotVat,cartProductId:e.id_UserCartList,option:e.basicSizeDes,variant:e.basicColorDes,hasOptionVariant:!!e.sizeAndColors,rawProduct:e}}))),e.next=10;break;case 7:if(!Array.isArray(k)||0!==k.length){e.next=10;break}return V.push("/ecommerce/home"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(De.a)(Ie.a.mark((function e(t){var a,n,r,i,o,c,l,s;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("Aborting request due to empty userId"),e.abrupt("return");case 3:return e.prev=3,e.next=6,ae();case 6:return a=e.sent,n=a.paymentId,r=a.addressId,e.next=11,X(t);case 11:return i=e.sent,D({fullName:"".concat(i.personName," ").concat(i.personSurname),phoneNumber:i.phoneNumber,email:i.emailAddress}),o={id:"-1",city:i.residenceCity,nation:i.residenceNation,postalCode:i.residencePostalCode,province:i.residenceProvince,address:i.residenceStreet},e.next=16,K(t);case 16:return c=e.sent,l=c.map((function(e){return{id:e.id_PersonShippingAddress,city:e.shippingCity,nation:e.shippingNation,postalCode:e.shippingPostalCode,province:e.shippingProvice,address:e.shippingStreet}})),y([o].concat(Object(Je.a)(l))),e.next=21,J();case 21:return s=e.sent,C(s.map((function(e){return{id:e.codPaymentType,label:e.paymentTypedescription}}))),e.next=25,ne();case 25:if(void 0!==r){e.next=28;break}return G("addressPanel"),e.abrupt("return");case 28:if(void 0!==n){e.next=31;break}return G("paymentPanel"),e.abrupt("return");case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),console.error(e.t0);case 36:case"end":return e.stop()}}),e,null,[[3,33]])})));return function(t){return e.apply(this,arguments)}}();null===(e=E.filter((function(e){return e.id===z.addressId})))||void 0===e||e[0],null===(t=x.filter((function(e){return e.id===z.paymentId})))||void 0===t||t[0];Object(n.useEffect)((function(){re(o.userId).catch(console.error).finally((function(){return g(!1)}))}),[]);var ie=function(){g(!0),s().then((function(){return V.push("/ecommerce/home")})).catch((function(e){return g(!1)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ra.a,{title:"Completa l'ordine"}),r.a.createElement(ia.a,null),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(B.a,{maxWidth:"lg",className:a.container},p&&r.a.createElement(Ga.a,null),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:a.productsContainer},r.a.createElement("div",{className:a.verticalPadding},r.a.createElement(H.a,{variant:"body1"},"Riepilogo ordine")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:3}},r.a.createElement(Ba,{expanded:"addressPanel"===M,handleSelect:function(e){return ee(e).then((function(){return ae()})).then((function(){void 0===z.paymentId?G("paymentPanel"):G(!1)}))},handleChange:te,addresses:E,userData:I,selectedAddressId:z.addressId}),r.a.createElement(Wa,{expanded:"paymentPanel"===M,handleSelect:function(e){return $(e).then((function(){return ae()})).then((function(){void 0===z.addressId?G("addressPanel"):G(!1)}))},handleChange:te,payments:x,selectedPaymentId:z.paymentId}),r.a.createElement("div",{className:a.verticalPadding},r.a.createElement(H.a,{variant:"body1",style:{paddingTop:"8px",paddingBottom:"8px"}},"Elenco articoli"),r.a.createElement(b.a,{className:a.root},r.a.createElement(h.a,null,k.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:e.cartProductId},r.a.createElement(xa.a,Object.assign({},e,{deleteProduct:!1,handleUpdateProductQty:function(t){return function(e,t){return c(Object(f.a)(Object(f.a)({},e),{},{cartQuantity:t})).then((function(){return ae()})).then((function(){return ne()}))}(e.rawProduct,t)}})),t!==k.length-1&&r.a.createElement(oe.a,{style:{width:"90%"}}))}))))),r.a.createElement(b.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",padding:"24px"}},r.a.createElement(Ze.a,{size:"large",variant:"contained",color:"primary",style:{marginRight:"16px"},disabled:p||!z.paymentId||!z.addressId,onClick:ie},"Ordina"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(H.a,{className:a.orderTotal,variant:"h6"},"Totale ordine: ",Object(Ma.a)(z.wVATtotalPrice)),r.a.createElement(H.a,{className:a.greyText,variant:"body2"},"Procedendo con l'acquisto, accetti le condizioni di vendita dello store."))))),r.a.createElement("div",{style:{paddingLeft:"32px",flex:1}},r.a.createElement(b.a,{className:a.stickyCard,variant:"outlined"},r.a.createElement(h.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"8px"}},r.a.createElement(Ze.a,{variant:"contained",color:"primary",disabled:p||!z.paymentId||!z.addressId,onClick:ie},"Ordina"),r.a.createElement(H.a,{className:a.greyText,style:{paddingTop:"16px",paddingBottom:"8px"},variant:"body2"},"Procedendo con l'acquisto, accetti le condizioni di vendita dello store."),r.a.createElement(oe.a,null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:"16px"}},r.a.createElement(H.a,{className:a.greyText,style:{flexGrow:1},variant:"body2"},"Totale prodotti"),r.a.createElement(H.a,{variant:"body2"},Object(Ma.a)(z.noVATtotalPrice))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"16px"}},r.a.createElement(H.a,{className:a.greyText,style:{flexGrow:1},variant:"body2"},"IVA"),r.a.createElement(H.a,{variant:"body2"},Object(Ma.a)(z.totalVAT))),r.a.createElement(oe.a,null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingTop:"8px"}},r.a.createElement(H.a,{className:a.orderTotal,style:{flexGrow:1},variant:"h6"},"Totale ordine"),r.a.createElement(H.a,{className:a.orderTotal,variant:"h6"},Object(Ma.a)(z.wVATtotalPrice))))))))))))}var Qa=function(e){var t=e.component,a=e.auth,i=Object(Me.a)(e,["component","auth"]),o=Object(n.useContext)(w.b),c=o.isLoaded,l=o.error,s=Object(n.useContext)(ma.a),u=Object(d.h)();return r.a.createElement(d.b,Object.assign({},i,{render:function(e){return l?r.a.createElement(ot.a,null,r.a.createElement(H.a,{variant:"body1",color:"error"},l)):!c||u.pathname.includes("ecommerce")&&s&&!s.isLoaded?r.a.createElement(it.a,null):a&&!s.isAuth?r.a.createElement(d.a,{to:{pathname:"/ecommerce/home"}}):r.a.createElement(t,e)}}))};function Xa(){var e=Object(d.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function Ka(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra.a,null),r.a.createElement(ia.a,null))}function Ja(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra.a,null),r.a.createElement(ia.a,null))}var Ya=Object(l.a)({palette:{primary:{light:"#8aedff",main:"#51bbe5",dark:"#008bb3",contrastText:"#FFFFFF"},secondary:{main:"#ff8a80"}}});var Za=function(e){var t=e.baseURL;return r.a.createElement(s.a,{theme:Ya},r.a.createElement(u.a,{basename:"/portaledef"},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null)," ",r.a.createElement(R.b,null,r.a.createElement(ea.b,null,r.a.createElement(w.c,{baseURL:t},r.a.createElement(D,{value:_.a},r.a.createElement(T.b,null,r.a.createElement(d.d,null,r.a.createElement(d.a,{exact:!0,from:"/",to:"/dashboard"}),r.a.createElement(d.a,{exact:!0,from:"/ecommerce/",to:"/ecommerce/home"}),r.a.createElement(Qa,{exact:!0,path:"/login",component:k}),r.a.createElement(m.a,{exact:!0,path:"/dashboard",component:Pe}),r.a.createElement(m.a,{exact:!0,path:"/user/list",component:We}),r.a.createElement(m.a,{exact:!0,path:"/user/add",component:Ke}),r.a.createElement(m.a,{exact:!0,path:"/user/:username/edit",component:Ke}),r.a.createElement(m.a,{exact:!0,path:"/user/:username/manage-permissions",component:na}),r.a.createElement(m.a,{path:"/app/:id",component:$t}),r.a.createElement(ma.b,null,r.a.createElement(Xa,null),r.a.createElement(pa.b,null,r.a.createElement(ga,null)," ",r.a.createElement(Qa,{exact:!0,path:"/ecommerce/home/:id",component:da}),r.a.createElement(Qa,{exact:!0,path:"/ecommerce/home",component:da}),r.a.createElement(Qa,{exact:!0,path:"/ecommerce/category/:id",component:Oa}),r.a.createElement(Qa,{exact:!0,path:"/ecommerce/product/:id",component:ja.a}),r.a.createElement(Qa,{exact:!0,path:"/ecommerce/cart/order",component:Ha,auth:!0}),r.a.createElement(Qa,{exact:!0,path:"/ecommerce/user/profile",component:Ja}),r.a.createElement(Qa,{exact:!0,path:"/ecommerce/user/orders",component:Ka}))),r.a.createElement(d.b,{component:p}))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Za,{baseURL:window.location.href.replace(/\/?(\?|#|$)/,"/$1")}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},126:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAC3FBMVEUAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpDsiL4AAAA83RSTlMAAQIDBAUGBwgJCgsMDQ4PEBETFBUWFxgZGhscHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREZHSElKS0xNTk9RUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hqa2xtbm9wcXJzdHV2d3h5e3x9fn+AgYKDhIWGh4iJioyNj5CRkpOUlZaXmJmam5+goaKjpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uzt7u/w8fLz9PX29/j5+vv8/f64GdQDAAALuklEQVR42uzZ83sc2wPH8c9s1NRGcBl+773RtW3btutes7ZtG0EdFVvbbtJYzc3nH/ieM5On3ZndJJvt83TOD/v6eXDeY8DPz8/Pz8/Pz8/Pz89PPXf3Xb6+bisGPapBddL1c9mQ9ASo794zbFjhfVDdXfn0Rv6dqnfkUSpft6ZOFyjlyRLlO07djrr977RRchds1PHO+wwpLeHBnbUdiahP/Gm798kt0/IoSccHt6+r42wS6pd8zii5A/a4s4iuDraD2R1edJhKzttT4lhLs4HedyhVklhDsxPN4eIJbztMJY/h6nuDFjUxuKT5bxcpnUuGd1KMkqpfmuMqe2IzrVIjYLih2z7qziTDWylnqdv74w24Om5455/x06dP3Ux3qdOmCzM2ltKw72Z4L+EADaUbZ0yvz6S+796IK/bC8jJ6a057NEbH+fRW2YoXcUWil9Jre99DY32wn15bFg3fPXme3sr6vBkar/kXOfTW+Sfhq/hC6v47sWfPnt27d+8S9kh7d2/fvn2b4HQ6t2515s7pfpsDvnHc3nNurlyI0ymWt13asWPHzp07dwlinWJtx6upK4yHbwLWUSrum9Q8WBckBEshwYGBgQEGhyNAw5XR5EJ0gbWCDMG65ol9iymtD4BP3qV0IBH2SzpA6R34IiBX74iCCqL0ktwA+ODWGpL5sVBDbD7Jmlvhg24UekIVPSl0gw8mkyzqAlV0KSI5GT5IJZkLdeSSTIMP1hszKiON5Hr4YINrSOCbffu5+qINvODodPsLX/T5q+9ffb544faODhVCfqDFbDQk/rOJznxelu+c8Fmc7SFzaXG0CeoT2ye7iu4qs/vE2huygBbHmqNuj88tY13K5j5uZ8h8Whxthro8lWEeeUF+gbkr40nVQ6T4OZSkqh0Tuz97W1RYp7Co257tPnHnxctnWJzqIVr3Qhqq07+JD4CrgP99m1FNQ2E3TemQiOU05A1LhifJw/JpWBqu8Mn+8HHqygdFoi7XDKmoXcJDdoTMo8XRULh5v5y6FYmoT/LK2tz3bAjpTov5cPM1dWU/aKif9mNt8VdXPyTko6Ejhl8yYkT3zrB6h7qD96Bh9x2i7q2rHeKF+8spZYfDG+E5lMruVS6ky3FKa1vDO23WUTrWSbEQbZnR0QreamWULNHUCvmeUk4reK91LqVvlQq5oYjCkTA0RthRCoXXqRQyi0L53WiceyoozFAo5CFKXdFY3Sk9oE5IGoUMBxrLsZrCKmVCHqBQkQAPIl8fuCDTmbN48FuR8CCxksJ9qoTMpDAC7p6YW0RJKpr/NNyNojBdkZBrSkkWRcIqYSnNliW6z1tMsiRSjZCuFMbA6qtSWpV+DauxFL5XIkRbT7I6GRYDWevI6kXph1lrECxSqkmuVSLkunKSGzWYfUld8bC7mwIIvWtIMXVfw0zLJFl2rQoh73m6h9xURik1DpIUu4pS2c2ePvq/o0LIGJIXLcPTVlGaFIjLAidSWqXB5JZqkqMUCNFySO4NhMnjRoflK4pR8gRMgvaRzNbsD2l7nuQ0mC2kkBoIs4BUCgthNp3kuTb2hyR4+LEVod9ZrofV9UUkSyNg0otkzc32hzxD4UWYvEVhENwNovA2TF6i8JT9IR9SuBMmQ0lWJ8FdUjXJoTC5i8L79of8SLIqGibLSR4Igrug/SRXwCSmiuT39of8RLI0HCa55uFaEjdpcBVeSrKP/SG/kSzuCFeO7STnwJPZJLc74KpTMclf7Q/5mWRJmDlkC8kl8GQJyc0aXIUpske6kay4ESbpJHcGwF3ALpKpMImqJPmj/SEfk6y53f3ZvDIW7uKqSI6GyR0UPrQ/5HkKz8HkUwq/wd3vFD72sIBn7Q9JofCjh6PlbHtYdThLsvJGD+9lSfaHdLhAciJMtAzPr+Iz6GGZk0jmtbM/xLHV/YqK1yj1hVk/Sq/AxLGD5BaH/SGYQLIyBiaBuR5KjI7sQJjEVpEcBwVCPqXwBcweqKE0sR0kqd0kSv/dD7OvKHysQIixSVNh8Sd1R7tdB+m67kep+93T+CqjVQhxbPJ019Cm01CycfLIyRtLaJiqwSyukmSOQ4UQ/Eyhv1tfP7r7V4PFAAq9oURIbCXJ8+1h9fQ2mjmfglWH8yQrotUIwVIKf8NNk0+zeFnWJyFw8y+FxVAk5GkKRdfBneOOnnM2Hzl5ZPOcnnc44O76YgpPqRISkENhLjzTmrVqpsGz+RSyHKqE4HlK76OxPqT0LJQJ0VZRuBCLxokroLBCUycESRUUnC3RGK22mf50KRGCvygtC4b3QpabbvWKhARnUZodBG8FzaGUGaRWCGIuGCXB3pYbHfnRUCwEL1O3qCW80XIxpZoXoVwIulKXE4WGReVS9yMUDMFf1J19HQ154yx1f0LJEPSiYXxn1KfLeBp6QtEQvF1E3ZkfW6AuLbqeoa7wLSgbguQtNBzs0RmedOlxkIbNSVA4BM2GsFbelJc7wKzjK1PzaagZ3AwKh0iPZPJSy4q/X7k9rGVoSGjL8Ntf/XtFHiVp48OA6iEI/HQ3XRSdObTv0Jliutj1SQCUD5FCP85m3bI/agKoH2LQHhx5mJ4cHvmABigeYtb84T9TT9LVyVV/PNwMFuqHSK0SXvju71ETp0wc9fd3LyS0gmRPSCrUkeprSAbJTKgjk2Q6fDDT+G+hinZ5JKfDBz9T+Byq+IJCH/jgAQonOkENnU9SuBc+CNlDIbM9VNAhi8KuYPjiG0qZYbBfeBalr+CT0J2UTnzZGfbq/NVJSjuawDf3VlGXn7PGTjkXqKu8B776pJLqqPgYvrvfSVVsvRdXosm3O6iCHd+E4AoFP9B7Rto6O6VN731/MP7fvhkWPQ4CYRgLSMACFuogFiIBCesgBmIBC1hAAhZeA9fCu7Odlr8fnZvh+ZHSlm14sgFye/NtNpvNZrPZbDabzX/HYX9XkIBjfHbhSZPgjBs4Ru/iBhFAG03fAHEkSMMTiYxT2t+LcPwqYudOMxH2dmKDSwAqO54WvV6k+jeRng6R/nLORG7XaTa4an6P3mNEP0bcLZ20QATZRKLeaz4DbSaCwN5A08E3/oYrQAmMvhm3ao5kXvohcgHF7vzzS0SnQ3k1m3531uEXAMQRLcEtFpEEtKAixUZ/jTGbCLXryEKhiH+9pjEnjvEtWS3iMlBUpAHB5u39JSI3cPb3iSIJuFwEKtufIuRYIBIakEzE23cTkQMoIwsUKX1al94hjSQKOn6xyFgzH0OkjtVGL/W3yKtHTIBQ5AHl7j+UP0W4aoUFIv18ZYhkmxgFSN8i3e8lQ5ELSvPu0Y/uEJFKEUvFChFfgQYcTI5OEYSJiG94UhxFGnDJk6FdoVksPxHhDXJwd5On2sW971OEOTgpkoCq3rW/RY7Pdxm/EXGXisQGpfipSARQHUXs/ms9lRmKbojKsUbEFT1X0LFczjCR0VUoEoFG3WtECAb1dCtFgghPEG1l8d/PRqdIYO/e9TX4JMkF6/hsnr2RuEgxjvzJsrXZbDabzWZTgGKPh/oIJlqMOfQjFmPKNNYlDJp46+5WVvMeeBLt8fBdKdsz/1SEsRQh1f9EhJU7DqvZv0FYBULzcxGLVZEsIpkfmMiyal5DaxSoVl1NHFxjcy7yFptoJFbBW1s7SsB1Aae2eWcFij2AOhGZxFLk/IkIqz4PIPNWamMsWcuVLnO6mMg8liJHBdIPRFiBq0DQKqke+apZMpF5bIJyW/eF1TwBUj+K1e7eaqbj6GciH7EmksMvRBpI5XRv7mQObGhpLmKxtmpJG+uviayp5p0fRQQBzpuzokIpUxGLtaoq63/r50jmdcy8tSOQG6ruKsJrHN9FprEmcgGyXCRq1TFoo7z/79pl9aB3kWmsiiSszwh3r062PXCMz49EMDUmoqSP2AQF7b1c3xYUwWwrt6cS32xfKNbr/Bb5iDWREt1yERGxZtIyXE/EwRLfaEaW8rwo8SM2ColDTkhaUc3bbDabzWaz2Ww2m80/rYmgtUAmJ5YAAAAASUVORK5CYII="},146:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(98),o=a(730),c=a(729),l=a(1131),s=a(1132),u=a(245),d=function(e){var t=e.isOpen,a=e.title,n=e.description,d=e.handlePrimaryClose,m=e.handleSecondaryClose,p=e.primaryButtonText,f=e.primaryButtonDisabled,g=e.secondaryButtonText,b=e.secondaryButtonDisabled,h=e.handleClose,v=e.fullWidth,q=e.maxWidth,E=e.children;return r.a.createElement(u.a,{isOpen:t,fullWidth:v,maxWidth:q,handleClose:h},r.a.createElement(s.a,{id:"alert-dialog-title"},a),r.a.createElement(c.a,null,r.a.createElement(l.a,{id:"alert-dialog-description"},n),E),r.a.createElement(o.a,null,r.a.createElement(i.a,{onClick:d,color:"primary",disabled:f},p),r.a.createElement(i.a,{onClick:m,color:"primary",autoFocus:!0,disabled:b},g)))};d.defaultProps={fullWidth:!1,maxWidth:"md",primaryButtonText:"No",secondaryButtonText:"Si"},t.a=d},147:function(e,t,a){"use strict";var n=a(0),r=a(56);t.a=function(){var e=Object(n.useContext)(r.a).setShowLoginDialog;return function(){return e(!0)}}},148:function(e,t,a){"use strict";a.d(t,"a",(function(){return A})),a.d(t,"b",(function(){return I}));var n=a(8),r=a(9),i=a.n(r),o=a(17),c=a(6),l=a(0),s=a.n(l),u=a(48),d=a(114),m=a(177),p=a(26),f=a(162),g=a(113),b=a(428),h=a(98),v=a(382),q=a.n(v),E=a(307),y=a.n(E),O=a(25),j=a(410),x=a(2),C=(a(194),a(97)),w=a(46),S=Object(u.a)((function(e){return{root:{width:500,display:"flex",flexDirection:"column",flexGrow:1},headerContainer:{display:"flex",flexDirection:"row",alignItems:"center",padding:e.spacing(3),height:70,backgroundColor:e.palette.primary.main},icon:{color:e.palette.common.white},text:{color:e.palette.common.white},greyText:{color:m.a[600]},emptyCartIconContainer:{height:100,width:100,marginTop:e.spacing(3),marginBottom:e.spacing(3)},emptyCartIcon:{fontSize:100,color:m.a[600]},emptyTitleText:{paddingTop:e.spacing(3),paddingBottom:e.spacing(4)},textLeft:{textAlign:"start"},textRight:{textAlign:"end"},grow:{flexGrow:1},contentContainer:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",height:0},placeOrderContainer:{padding:e.spacing(3),textAlign:"center"},footerContainer:{height:70,padding:24,display:"flex",alignItems:"center",flexDirection:"row",backgroundColor:e.palette.primary.main}}}));function N(e){var t=e.open,a=e.toggle,r=S(),i=Object(w.g)(),o=Object(l.useContext)(A),u=o.userCart,m=o.removeFromCart,v=o.updateProductQty,E=Object(O.a)(),N=E.getCartList,k=E.getUserCart,T=Object(l.useState)(),P=Object(c.a)(T,2),I=P[0],D=P[1],R=Object(l.useState)([]),_=Object(c.a)(R,2),L=_[0],B=_[1],z=function(){return k().then((function(e){return D(e.cartTotalPriceVAT)})).catch(console.error)},F=function(){return N(null===u||void 0===u?void 0:u.id).then((function(e){Array.isArray(e)&&B(e.map((function(e){return{productId:e.codTot,quantity:e.cartQuantity,title:e.basicDescription,imageURL:e.imageURL,price:e.articlePriceTotVat,cartProductId:e.id_UserCartList,option:e.basicSizeDes,variant:e.basicColorDes,hasOptionVariant:!!e.sizeAndColors,rawProduct:e}})))})).catch((function(e){console.error("Error while updating cart",e),B([])}))};return Object(l.useEffect)((function(){t&&(F(),z())}),[t,u]),s.a.createElement(d.a,{anchor:"right",open:t,onClose:a},s.a.createElement("div",{className:r.root},s.a.createElement("div",{className:r.headerContainer},s.a.createElement("div",{style:{flex:1,padding:"16px"}},s.a.createElement(y.a,{className:r.icon})),s.a.createElement("div",{style:{flexGrow:1,textAlign:"center"}},s.a.createElement(p.a,{variant:"h6",className:r.text},"Riepilogo carrello")),s.a.createElement("div",{style:{flex:1,textAlign:"end"}},s.a.createElement(f.a,{title:"Chiudi carrello"},s.a.createElement(g.a,{onClick:a},s.a.createElement(q.a,{className:r.icon}))))),0===L.length?s.a.createElement("div",{className:r.contentContainer},s.a.createElement(p.a,{variant:"h6",className:Object(x.default)(r.greyText,r.emptyTitleText)},"IL TUO CARRELLO \xc8 VUOTO!"),s.a.createElement("div",{className:r.emptyCartIconContainer},s.a.createElement(y.a,{className:r.emptyCartIcon})),s.a.createElement(p.a,{variant:"subtitle1",className:r.greyText},"Naviga nello store e aggiungi articoli al tuo carrello.")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.contentContainer},L.map((function(e){return s.a.createElement(s.a.Fragment,{key:e.cartProductId},s.a.createElement(j.a,Object.assign({},e,{handleUpdateProductQty:function(t){return function(e,t){return v(Object(n.a)(Object(n.a)({},e),{},{cartQuantity:t})).then((function(){return F()})).then((function(){return z()}))}(e.rawProduct,t)},handleRemoveProduct:function(e){return function(e){return m(e).then((function(){return F()})).then((function(){return z()}))}(e)}})),s.a.createElement(b.a,{style:{width:"90%"}}))}))),s.a.createElement(b.a,null),s.a.createElement("div",{className:r.placeOrderContainer},s.a.createElement(h.a,{size:"medium",variant:"outlined",color:"secondary",onClick:function(){a(),i.push("/ecommerce/cart/order")}},"Procedi all'ordine")),s.a.createElement("div",{className:r.footerContainer},s.a.createElement("div",{className:r.textLeft},s.a.createElement(p.a,{variant:"h6",className:r.text},"Totale")),s.a.createElement("div",{className:r.grow}),s.a.createElement("div",{className:r.textRight},s.a.createElement(p.a,{variant:"h6",className:r.text},Object(C.a)(I)))))))}N.defaultProps={open:!1};var k=a(50),T=a(51),P=a(56),A=s.a.createContext();A.Consumer;function I(e){var t=e.children,a=Object(l.useState)(!1),r=Object(c.a)(a,2),u=r[0],d=r[1],m=Object(l.useState)({}),p=Object(c.a)(m,2),f=p[0],g=p[1],b=Object(l.useContext)(P.a),h=b.isLoaded,v=b.isAuth,q=Object(l.useContext)(T.b),E=(q.ecomSettings,q.sessionData,Object(k.a)()),y=Object(O.a)(),j=y.getUserCart,x=y.getCartList,C=y.addToCart,w=y.removeFromCart,S=y.updateCartProduct,I=y.refreshUserCart,D=y.createOrder,R=Object(l.useState)(!0),_=Object(c.a)(R,2),L=(_[0],_[1]),B=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(null!==t&&void 0!==t?t:null===f||void 0===f?void 0:f.id);case 2:return a=e.sent,e.abrupt("return",Array.isArray(a)?a.length:0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(null===f||void 0===f?void 0:f.id);case 3:t=e.sent,g(Object(n.a)(Object(n.a)({},f),{},{totalItems:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){h&&Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:return t=e.sent,e.next=6,B(null===t||void 0===t?void 0:t.id_UserCart);case 6:a=e.sent,g(Object(n.a)(Object(n.a)({},f),{},{id:null===t||void 0===t?void 0:t.id_UserCart,totalItems:a,userId:t.id_CustomersAndSuppliers})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:return e.prev=13,L(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))()}),[v,h]);var F=function(){return d(!0)},U=function(){return d(!u)};return s.a.createElement(A.Provider,{value:{close:function(){return d(!1)},open:F,toggle:U,isOpen:u,userCart:f,addToCart:function(e,t){return C(null===f||void 0===f?void 0:f.id,e,t).then((function(){return I()})).then(z).then((function(){return F()})).catch((function(e){throw E("Impossibile aggiungere l'oggetto al carrello. Riprovare","error"),e}))},removeFromCart:function(e){return w(e).then((function(){return I()})).then(z).catch((function(e){throw E("Impossibile eliminare l'oggetto dal carrello. Riprovare.","error"),e}))},updateProductQty:function(e){return S(e).then((function(){return I()})).catch((function(e){throw E("Impossibile modificare la quantit\xe0 per l'oggetto selezionato. Riprovare.","error"),e}))},placeOrder:function(){return D().then((function(){return I()})).then(z).catch((function(e){throw E("Impossibile creare l'ordine. Riprovare.","error"),e}))}}},h&&s.a.createElement(N,{open:u,toggle:U}),t)}},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(6),r=a(33),i=a(0),o=a.n(i),c=a(48),l=a(202),s=a(98),u=Object(c.a)((function(e){return{wrapper:{position:"relative"},buttonProgress:{color:e.palette.secondary,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function d(e){var t=e.isLoading,a=e.children,c=Object(r.a)(e,["isLoading","children"]),d=u(),m=Object(i.useState)(!1),p=Object(n.a)(m,2),f=p[0],g=p[1],b=t||f;return o.a.createElement("div",{className:d.wrapper},o.a.createElement(s.a,Object.assign({},c,{disabled:b||(null===c||void 0===c?void 0:c.disabled),onClick:function(){var e=null===c||void 0===c?void 0:c.onClick;return e&&"function"===typeof e.then?(g(!0),e().finally((function(){return g(!1)}))):"function"===typeof e?e():void console.warn("Button onClick not fired")}}),a),b&&o.a.createElement(l.a,{size:24,className:d.buttonProgress}))}},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){switch(null===e||void 0===e?void 0:e.toLowerCase()){case"left":case"start":case"top":return"flex-start";case"bottom":case"end":case"right":return"flex-end";case"stretch":return"stretch";default:return"center"}}},204:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(67),r=function(e){return 0===Object.keys(e).length};function i(){return JSON.parse(localStorage.getItem("preferences"))||{}}function o(e,t){var a=JSON.parse(localStorage.getItem("preferences"))||{};if(r(a))return[];var n=a[e]||{};return r(n)?[]:n[t]||[]}function c(e,t,a){var o=i();if(r(o)){var c={};c[t]=a,o[e]=c}else{var l=o[e];l[t]=Object(n.a)(a),o[e]=l}var s=JSON.stringify(o);localStorage.setItem("preferences",s)}function l(e){3===e.length&&e.pop()}function s(e,t){var a=i(),n=a[e];Reflect.deleteProperty(n,t),r(n)&&(Reflect.deleteProperty(a,e),r(a)&&localStorage.removeItem("preferences"))}function u(e,t){return e.length>t?e.substring(0,t-3).concat("..."):e}},205:function(e,t,a){"use strict";(function(e){var n=a(33),r=a(0),i=a.n(r),o=a(46),c=a(26),l=a(51),s=a(227),u=a(106);t.a=function(t){var a=t.component,r=Object(n.a)(t,["component"]);return i.a.createElement(o.b,Object.assign({},r,{render:function(t){return i.a.createElement(l.a,null,(function(n){var r,l,d=n.isAuth,m=n.isLoaded,p=n.error;return m?p&&"development"!==(null===(r=e)||void 0===r||null===(l=Object({NODE_ENV:"production",PUBLIC_URL:"/portaledef",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===l?void 0:l.NODE_ENV)?i.a.createElement(u.a,null,i.a.createElement(c.a,{variant:"body1",color:"error"},p)):d?i.a.createElement(a,t):i.a.createElement(o.a,{to:{pathname:"/login",state:{from:t.location}}}):i.a.createElement(s.a,null)}))}}))}}).call(this,a(453))},227:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(202),o=a(106);t.a=function(){return r.a.createElement(o.a,null,r.a.createElement(i.a,null))}},238:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));var n=a(6),r=a(0),i=a.n(r),o=i.a.createContext();o.Consumer;function c(e){var t=e.children,a=Object(r.useState)(!1),c=Object(n.a)(a,2),l=c[0],s=c[1];return i.a.createElement(o.Provider,{value:{isLoading:l,setLoading:s}},t)}},241:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(33),r=a(0),i=a.n(r),o=a(392),c=a.n(o);function l(e){var t=e.children,a=Object(n.a)(e,["children"]);return i.a.createElement(c.a,Object.assign({localization:{pagination:{labelDisplayedRows:"{from}-{to} di {count}",labelRowsSelect:"righe",firstAriaLabel:"Prima pagina",firstTooltip:"Prima pagina",previousAriaLabel:"Pagina precedente",previousTooltip:"Pagina precedente",nextAriaLabel:"Pagina successiva",nextTooltip:"Pagina successiva",lastAriaLabel:"Ultima pagina",lastTooltip:"Ultima pagina"},toolbar:{nRowsSelected:"{0} righe selezionate",searchTooltip:"Cerca",searchPlaceholder:"Cerca"},header:{actions:"Azioni"},body:{emptyDataSourceMessage:"Nessun dato da visualizzare",filterRow:{filterTooltip:"Filtra"},editRow:{deleteText:"Sei sicuro di cancellare questo record?",cancelTooltip:"Annulla",saveTooltip:"Salva"},addTooltip:"Aggiungi record"}},options:{actionsColumnIndex:-1}},a,{header:!1,toolbar:!1}),t)}},245:function(e,t,a){"use strict";var n=a(33),r=a(0),i=a.n(r),o=a(728),c=function(e){var t=e.isOpen,a=e.handleClose,r=e.children,c=Object(n.a)(e,["isOpen","handleClose","children"]);return i.a.createElement(o.a,Object.assign({open:t,onClose:a,fullWidth:!0,maxWidth:c.maxWidth||"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c),r)};c.defaultProps={fullWidth:!1,maxWidth:"md"},t.a=c},246:function(e,t,a){"use strict";var n=a(8),r=a(0),i=a.n(r),o=a(198),c=function(e){var t=e.componentDirection,a=e.componentAlign,r=e.spacing,c=e.children;return i.a.createElement("div",{className:"INVerticalGridContainer",style:{display:"flex",flexDirection:"column",width:"100%",justifyContent:t,alignContent:a}},i.a.Children.toArray(c).map((function(e,t){var a,c=(a=e.props)?Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},a.width&&{width:a.width}),a.height&&{height:a.height}),a.padding_Bottom&&{paddingBottom:a.padding_Bottom}),a.padding_Top&&{paddingTop:a.padding_Top}),a.padding_Left&&{paddingLeft:a.padding_Left}),a.padding_Right&&{paddingRight:a.padding_Right}),a.grow&&{flexGrow:a.grow}),a.componentAlign&&{alignSelf:Object(o.a)(a.componentAlign)}):{};return i.a.createElement("div",{key:t,className:"INVerticalGridItem",style:Object(n.a)({display:"flex",paddingTop:r,paddingBottom:r},c)},e)})))};c.defaultProps={componentDirection:"center",componentAlign:"center",spacing:16},t.a=c},247:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(8),r=a(33),i=a(0),o=a.n(i),c=o.a.createContext();c.Consumer;function l(e){var t=e.children,a=Object(r.a)(e,["children"]);return o.a.createElement(c.Provider,{value:Object(n.a)({},a)},t)}},248:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(8),r=a(33),i=a(0),o=a.n(i),c=o.a.createContext();function l(e){var t=e.children,a=Object(r.a)(e,["children"]);return o.a.createElement(c.Provider,{value:Object(n.a)({},a)},t)}},249:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),r=a.n(n),i=a(429),o=a(202),c=a(48),l=a(29),s=a(26),u=Object(c.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},progress:{textAlign:"center"}}}));function d(e){var t=e.open,a=e.message,n=u();return r.a.createElement("div",null,r.a.createElement(i.a,{className:n.backdrop,open:t},r.a.createElement(l.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},r.a.createElement(l.a,{item:!0,xs:12,className:n.progress},r.a.createElement(o.a,{color:"inherit"})),a&&r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(s.a,null,a)))))}},25:function(e,t,a){"use strict";(function(e){var n=a(60),r=a(9),i=a.n(r),o=a(17),c=a(8),l=a(6),s=a(0),u=a(252),d=a.n(u),m=a(51),p=a(238),f=a(50),g=a(298),b=a(425),h=function(e){var t=e.split("?"),a=Object(l.a)(t,2),n=a[0],r=a[1],i={};return r?(r.split("::").map((function(e){var t=e.split("="),a=Object(l.a)(t,2),n=a[0],r=a[1];return i[n]=r,e})),[n,i]):[n,i]};t.a=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object(s.useContext)(m.b),u=r.sessionData,v=r.baseURL,q=r.isAuth,E=r.logout,y=Object(s.useContext)(p.a),O=y.setLoading,j=Object(f.a)(),x=Object(s.useState)(!1),C=Object(l.a)(x,2),w=C[0],S=C[1],N=Object(s.useMemo)((function(){return d.a.create({baseURL:v,paramsSerializer:function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("::")}})}),[v,q,u]);Object(s.useEffect)((function(){t&&O(w)}),[w]),Object(s.useEffect)((function(){console.log("Registering API Interceptors");var e=N.interceptors.request.use((function(e){return t&&S(!0),q&&(e.params=Object(c.a)(Object(c.a)({},u),e.params)),console.log("Making API Request to ".concat(e.baseURL,"/").concat(e.url," params ").concat(JSON.stringify(e.params))),e}),(function(e){return a&&j("Errore del server. Riprovare.","error"),t&&S(!1),Promise.reject(e)})),n=N.interceptors.response.use((function(e){return t&&S(!1),console.log("Got response data",e),200===e.status&&"string"===typeof e.data&&(e.data.includes("UNAUTHORIZED")||e.data.includes("session not exist"))?(console.log("Got unauthorized 401"),void E()):e}),(function(e){var n;if(t&&S(!1),401===(null===(n=e.response)||void 0===n?void 0:n.status))return console.log("Got unauthorized 401"),E(),void Promise.reject(e);a&&j("Errore del server. Riprovare.","error"),Promise.reject(e)}));return function(){console.log("Removing axios interceptors"),N.interceptors.request.eject(e),N.interceptors.response.eject(n)}}),[N,q]);var k=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.d)(N,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("get_users_of_inceptiumid");case 3:return t=e.sent,a=t.data,n=a.map((function(e){return{id:e.id_WebUsers,description:e.description,isOnline:"CONNECTED"===e.user_connected_status,type:e.user_profile,email:e.user_email,name:e.user_name,surname:e.user_surname,fullName:"".concat(e.user_name," ").concat(e.user_surname),username:e.user}})),e.abrupt("return",Promise.resolve(n));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(o.length>1&&void 0!==o[1])||o[1],e.prev=1,e.next=4,N.get("get_user_by_login",{params:{user_login:t}});case 4:if(n=e.sent,r=n.data,a){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",{id:r.id_WebUsers,description:r.description,isOnline:"CONNECTED"===r.user_connected_status,type:r.user_profile,email:r.user_email,password:r.password,name:r.user_name,surname:r.user_surname,fullName:"".concat(r.user_name," ").concat(r.user_surname),username:r.user});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r,o,c,l,s,u,d,m,p,f,g;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.username,r=a.password,o=a.type,c=a.email,l=a.description,s=a.name,u=a.surname,t.next=3,P(n,!1);case 3:return(d=t.sent).description=l||d.description,d.user_email=c||d.user_email,d.user_name=s||d.user_name,d.user_surname=u||d.user_surname,d.user_type=o||d.user_type,d.user_profile=o||d.user_profile,d.password=r||d.password,d.user=n||d.user,m=JSON.stringify(d),p=e.from(m).toString("base64"),t.prev=14,t.next=17,N.get("update_user_of_inceptium_id",{params:{jsondata:p}});case 17:return f=t.sent,g=f.data,t.abrupt("return",Promise.resolve(g));case 22:return t.prev=22,t.t0=t.catch(14),t.abrupt("return",Promise.reject(t.t0));case 25:case"end":return t.stop()}}),t,null,[[14,22]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,r=t.type,e.prev=1,e.next=4,N.get("add_user_to_inceptiumid",{params:{new_user:a,new_user_password:n,new_user_type:"user",user_profile:r}});case 4:if(o=e.sent,c=o.data,Array.isArray(c)&&1===c.length){e.next=10;break}if(!c||!c.toLowerCase().includes("exists")){e.next=9;break}throw new new g.a("L'utente ".concat(a," esiste gi\xe0."),{username:"Questo utente esiste gi\xe0."});case 9:throw new Error("Impossibile aggiungere l'utente");case 10:return e.abrupt("return",A(t));case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("delete_user_of_inceptiumid",{params:{id_web_user:t}});case 3:return a=e.sent,n=a.data,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("get_apps_inceptiumid");case 3:return t=e.sent,a=t.data,e.abrupt("return",Promise.resolve(a));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=Object(o.a)(i.a.mark((function t(a,n,r,o){var l,s,u,d,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l={},n&&(s=e.from("where ".concat(n)).toString("base64"),l["filter.b64"]=s),r&&(u=e.from("".concat(r)).toString("base64"),l["order.b64"]=u),t.prev=3,t.next=6,N.get("callappcommand",{params:Object(c.a)(Object(c.a)({command:"getrecords",class:a},l),o||{})});case 6:if(d=t.sent,""!==(m=d.data)){t.next=10;break}return t.abrupt("return",[]);case 10:return t.abrupt("return",Promise.resolve(m));case 13:return t.prev=13,t.t0=t.catch(3),t.abrupt("return",Promise.reject(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a,n,r){return t.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("callappcommand",{params:{command:"getsinglerecord",class:t,id:a}});case 3:if(n=e.sent,""!==(r=n.data)){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Promise.resolve(r));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("load_app",{params:{classapp:t}});case 3:a=e.sent,n=a.data,console.log("App is loading with taskid",n);case 6:return e.next=9,N.get("get_task_status",{params:{taskid:n}});case 9:if(o=e.sent,c=o.data,r=c.newEventFromTask,"TASK_END"!==(l=c.currentStatus)){e.next=17;break}return e.abrupt("break",25);case 17:if("TASK_RUNNING"!==l){e.next=22;break}return e.next=20,Object(b.a)(1e3);case 20:e.next=23;break;case 22:throw new Error("Task failed");case 23:e.next=6;break;case 25:return console.log("App loaded "+r),e.abrupt("return",r);case 29:e.prev=29,e.t0=e.catch(0),console.error(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t);case 3:return a=e.sent,e.next=6,N.get("get_app_dock",{params:{classapp:t}});case 6:return n=e.sent,r=n.data,o=r.menu_list,e.next=11,R();case 11:return l=e.sent,s=l.filter((function(e){return e.class_path_name===t}))[0],e.abrupt("return",Promise.resolve(Object(c.a)(Object(c.a)({},s),{},{menu:o,newevent:a})));case 16:return e.prev=16,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c,s,u,d,m,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=h(t),n=Object(l.a)(a,2),r=n[0],o=n[1],e.prev=1,c=p.length,s=new Array(c>1?c-1:0),u=1;u<c;u++)s[u-1]=p[u];return e.next=5,N.get(r,{params:Object.assign.apply(Object,[o].concat(s))});case 5:return d=e.sent,m=d.data,e.abrupt("return",Promise.resolve(m));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("callappcommand",{params:Object(c.a)({command:"addnewrecord",class:t},a)});case 3:return n=e.sent,r=n.data,e.abrupt("return",Promise.resolve(r));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var t=Object(o.a)(i.a.mark((function t(a,n){var r,o,c,l,s,u,d,m,p,f=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(f.length>2&&void 0!==f[2])||f[2],o=JSON.stringify(n),c=e.from(o).toString("base64"),t.prev=3,t.next=6,N.get("callappcommand",{params:{command:"updaterecord",persist:r,class:a,"jsondata.b64":c}});case 6:if(l=t.sent,"string"!==typeof(s=l.data)){t.next=37;break}if(!s.includes("SQL_UPDATE_ERROR")){t.next=11;break}return t.abrupt("return",Promise.reject(new Error("SQL_UPDATE_ERROR")));case 11:if(!s.includes("SQL_UPDATE_CANCEL")){t.next=24;break}u=s.replace("SQL_UPDATE_CANCEL",""),d={},t.prev=14,d=JSON.parse(u),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(14),console.error("Cannot parse response",u);case 21:return t.prev=21,t.abrupt("return",Promise.reject({error:"SQL Update canceled",action:d}));case 24:if(!s.includes("SQL_UPDATE_SUCCESS")){t.next=37;break}m=s.replace("SQL_UPDATE_SUCCESS",""),p={},t.prev=27,p=JSON.parse(m),t.next=34;break;case 31:t.prev=31,t.t1=t.catch(27),console.error("Cannot parse response",m);case 34:return t.prev=34,t.abrupt("return",Promise.resolve(p));case 37:return t.abrupt("return",Promise.resolve(s));case 40:return t.prev=40,t.t2=t.catch(3),t.abrupt("return",Promise.reject(t.t2));case 43:case"end":return t.stop()}}),t,null,[[3,40],[14,18,21,24],[27,31,34,37]])})));return function(e,a){return t.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("callappcommand",{params:{command:"deleterecord",class:t,id:a}});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.post(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("com.eterea.data.registry.articles.ArticlesRegistry",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.eterea.data.registry.articles.ArticlesRelativeLink","codTot='".concat(t,"' AND linkType='").concat(a,"'")));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.indoc.data.documentary.QDocumentary","class_TableRef='com.eterea.data.registry.articles.ArticlesRegistry' AND id_record_Ref='".concat(t,"'")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("com.eterea.data.registry.articles.ArticlesSizes","id_ArticlesRegistry='".concat(t,"'"));case 3:return r=e.sent,e.next=6,_("com.eterea.data.registry.articles.QArticlesRegistrySizeColor","id_ArticlesRegistry='".concat(t,"'"));case 6:return o=e.sent,c=r.map((function(e){var t;return{label:e.description,id:e.id_ArticlesSizes,variants:null===(t=o.filter((function(t){return t.id_ArticlesSizes===e.id_ArticlesSizes})))||void 0===t?void 0:t.map((function(e){return{label:e.articleColorDes,productCode:e.codTot,id:e.id_QArticlesRegistrySizeColor,price:e.sellingPriceTotVat}}))}})),l=r.length>1||(null===r||void 0===r||null===(a=r[0])||void 0===a||null===(n=a.variants)||void 0===n?void 0:n.length)>1,e.abrupt("return",{hasMultipleOptions:l,options:c});case 12:return e.prev=12,e.t0=e.catch(0),console.error("Error fetching product variants",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M("com.eterea.data.cart.UserCartList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W("com.eterea.data.cart.UserCartList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=n.length>1?n[1]:void 0,e.abrupt("return",_("com.eterea.data.registry.articles.QArticlesCategoryEC","id_Father = '".concat(t,"'"),null,a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.eterea.data.registry.articles.FeaturesRegistry","exposeOnWeb=true","order by progressiveOrder",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.eterea.data.registry.articles.QArticlesCategoryEC","categoryFullPathCode = '".concat(t,"'"),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.eterea.data.registry.articles.QArticleRegistryIstant",t?"articlesCategoryCode like '".concat(t,"%'"):null,null,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.eterea.data.registry.articles.QArticleRegistryIstant",t?" (".concat(ae("ac.categoryFullPathDescription",t)," or ").concat(ae("ar.description",t)," ) or id_FeaturesRegistry='").concat(t,"'"):null,null,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(e,t){var a,r=t.split(" ").values(),i="",o=Object(n.a)(r);try{for(o.s();!(a=o.n()).done;){var c=a.value;i+=" and ".concat(e," like '%").concat(c,"%' ")}}catch(l){o.e(l)}finally{o.f()}return i="("+i.replace("and","")+")",console.log(i),i},ne=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("com.eterea.data.cart.UserCart");case 3:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===t;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=t[0];case 12:if(a=e.t2){e.next=15;break}throw new Error("Cannot get user cart");case 15:return e.abrupt("return",Promise.resolve(a));case 18:return e.prev=18,e.t3=e.catch(0),e.abrupt("return",Promise.reject(e.t3));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:return a=e.sent,e.next=6,W("com.eterea.data.cart.UserCart",Object(c.a)(Object(c.a)({},a),{},{codPaymentType:t}),!0);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:return a=e.sent,e.next=6,W("com.eterea.data.cart.UserCart",Object(c.a)(Object(c.a)({},a),{},{id_PersonShippingAddress:t}),!0);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:return t=e.sent,e.next=6,W("com.eterea.data.cart.UserCart",t,!0);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("com.eterea.data.cart.UserCartList","id_UserCart = '".concat(t,"'"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L("com.eterea.data.registry.person.CustomersAndSuppliers",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("com.eterea.data.registry.person.PersonShippingAddress","id_CustomersAndSuppliers = '".concat(t,"'")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){return _("com.eterea.data.cart.UserCartPaymentType")},de=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("callappcommand",{params:{command:"executemethod",class:"com.eterea.data.cart.UserCart",method:"_addNewArticle",id_UserCart:t,codTot:a,quantity:n}});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("callappcommand",{params:{command:"executemethod",class:"com.eterea.data.cart.action.Action_CreateOrder",method:"_executeAction"}});case 3:t=e.sent,a=t.data;case 5:return e.next=8,N.get("get_task_status",{params:{taskid:a}});case 8:if(n=e.sent,r=n.data,"TASK_END"!==(o=r.currentStatus)){e.next=15;break}return e.abrupt("break",23);case 15:if("TASK_RUNNING"!==o){e.next=20;break}return e.next=18,Object(b.a)(1e3);case 18:e.next=21;break;case 20:throw new Error("Task failed");case 21:e.next=5;break;case 23:return e.abrupt("return",Promise.resolve());case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(o.a)(i.a.mark((function e(t,a,n){var r,o,s,u,d,m,p,f,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),r=h(t),o=Object(l.a)(r,2),s=o[0],u=o[1],e.prev=2,e.next=5,N.get(s,{params:Object(c.a)(Object(c.a)({},u),a)});case 5:if(d=e.sent,m=d.data,n){e.next=10;break}return S(!1),e.abrupt("return",Promise.resolve());case 10:return e.next=13,N.get("get_task_status",{params:{taskid:m}});case 13:if(p=e.sent,f=p.data,"TASK_END"!==(g=f.currentStatus)){e.next=20;break}return e.abrupt("break",28);case 20:if("TASK_RUNNING"!==g){e.next=25;break}return e.next=23,Object(b.a)(1e3);case 23:e.next=26;break;case 25:throw new Error("Task failed");case 26:e.next=10;break;case 28:return S(!1),e.abrupt("return",Promise.resolve(p.data));case 32:return e.prev=32,e.t0=e.catch(2),S(!1),e.abrupt("return",Promise.reject(e.t0));case 36:case"end":return e.stop()}}),e,null,[[2,32]])})));return function(t,a,n){return e.apply(this,arguments)}}();return{login:k,startApp:z,loadApp:B,getApps:R,getUsers:T,addUser:I,getUser:P,deleteUser:D,updateUser:A,getRecords:_,getRecord:L,get:F,createRecord:U,updateRecord:W,deleteRecord:M,executeCommand:pe,uploadResource:G,isLoading:w,getUserCart:ne,refreshUserCart:oe,getCartList:ce,addToCart:de,removeFromCart:K,updateCartProduct:J,getProducts:ee,getProductsByName:te,getCategories:Y,getCategory:$,getFeaturesRegistry:Z,getProductDetails:V,getProductOptions:X,getUserShippingAddresses:se,getUserData:le,getPaymentMethods:ue,updateCartPaymentMethod:re,updateCartShippingAddress:ie,getProductMedia:H,getProductDocumentary:Q,createOrder:me}}}).call(this,a(334).Buffer)},250:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(48),r=a(727),i=a(26),o=a(0),c=a.n(o),l=a(712),s=a.n(l),u=a(177),d=a(94),m=a(95),p=Object(n.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100%"},greyText:{color:u.a[600]},emptyCategoryIcon:{fontSize:100,color:u.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)}}}));function f(){var e=p();return c.a.createElement("div",{className:e.root},c.a.createElement(d.a,{title:"Pagina non trovata"}),c.a.createElement(m.a,null),c.a.createElement("main",{className:e.content},c.a.createElement("div",{className:e.appBarSpacer}),c.a.createElement(r.a,{maxWidth:"lg",className:e.container},c.a.createElement("div",{className:e.emptyContentContainer},c.a.createElement(s.a,{className:e.emptyCategoryIcon}),c.a.createElement(i.a,{variant:"subtitle1",className:e.greyText},"La pagina richiesta non \xe8 stata trovata.")))))}},251:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a(6),r=a(0),i=a.n(r),o=a(48),c=a(726),l=a(1116),s=a(1118),u=a(1117),d=a(26),m=a(178),p=a(39),f=a(126),g=a.n(f),b=a(1155),h=a(179),v=a(162),q=a(113),E=a(412),y=a.n(E),O=a(202),j=a(233),x=a(148),C=a(56),w=a(147),S=a(50),N=(a(362),Object(o.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end"},wrapper:{margin:e.spacing(1),position:"relative"},fabProgress:{color:j.a[500],position:"absolute",top:-1,left:-2,zIndex:1}}})));function k(e){var t=e.productId,a=e.show,o=N(),c=0,l=Object(r.useState)(!1),s=Object(n.a)(l,2),u=s[0],d=s[1],m=Object(r.useContext)(C.a).isAuth,p=Object(r.useContext)(x.a).addToCart,f=Object(w.a)(),g=Object(S.a)();return i.a.createElement("div",{className:o.root},i.a.createElement(b.a,{in:a||u},i.a.createElement("div",{className:o.wrapper},i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{type:"number",style:{width:50},disabled:u,onChange:function(e){c=e.target.value}}),i.a.createElement(v.a,{title:"Aggiungi al carrello","aria-label":"Aggiungi al carrello"},i.a.createElement(q.a,{disabled:u,onClick:function(e){e.preventDefault(),e.stopPropagation(),u||(m?(d(!0),p(t,c<=0?1:c).catch((function(){return g("Impossibile aggiungere l'elemento al carrello","error")})).finally((function(){return d(!1)}))):f())}},i.a.createElement(y.a,null))),u&&i.a.createElement(O.a,{size:48,thickness:2,className:o.fabProgress})))))}var T=a(97),P=a(25),A=Object(o.a)((function(e){return{root:{maxWidth:280,minWidth:280,height:320},link:{textDecoration:"none"},cardDescriptionContainer:{display:"flex",alignItems:"center"},priceContainer:{flex:1},addToCartButtonContainer:{flex:1,alignSelf:"center",textAlign:"end"},media:{height:180,width:"100%",objectFit:"scale-down",padding:e.spacing(2)}}}));function I(e){var t=e.title,a=e.price,o=e.imageURL,f=e.available,b=e.productId,h=e.addToCart,v=e.id_firstsize,q=e.id_firstcolor,E=e.firstcodtot,y=A(),O=Object(r.useState)(!1),j=Object(n.a)(O,2),x=(j[0],j[1],Object(r.useState)(!1)),C=Object(n.a)(x,2),w=C[0],S=(C[1],Object(r.useState)([])),N=Object(n.a)(S,2);N[0],N[1],Object(P.a)().getProductOptions;return i.a.createElement(c.a,{in:!0,timeout:250},i.a.createElement(l.a,{className:y.root},i.a.createElement(p.b,{to:"/ecommerce/product/".concat(b,"?option=").concat(v,"&variant=").concat(q),className:y.link},i.a.createElement(s.a,{className:y.media,image:o||g.a,title:t,component:"img"})),i.a.createElement(u.a,null,i.a.createElement(d.a,{color:"textSecondary",variant:"body2"},t),i.a.createElement(d.a,{style:{paddingTop:"0px",paddingBottom:"0px",color:"#007600",fontSize:"10pt"}},f?"Disponibile":i.a.createElement(m.a,{fontStyle:"italic"},"Non disponibile")),i.a.createElement("div",{className:y.cardDescriptionContainer},i.a.createElement("div",{className:y.priceContainer},i.a.createElement(d.a,{variant:"h6",color:"textPrimary"},Object(T.a)(a))),h&&i.a.createElement("div",{className:y.addToCartButtonContainer},!w&&i.a.createElement(k,{productId:E,show:!0}))))))}I.defaultProps={imageURL:g.a,title:"",price:0,available:!0,productId:1,addToCart:!0}},298:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(668),r=a(669),i=a(721),o=a(722),c=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e,r){var i;return Object(n.a)(this,a),(i=t.call(this,e)).error=r,i}return a}(Object(o.a)(Error))},366:function(e,t,a){"use strict";var n=a(367);t.a=n.b.define((function(e){e("manage","User")}))},405:function(e,t,a){"use strict";var n=a(6),r=a(33),i=a(0),o=a.n(i),c=a(21),l=a(402),s=a(309);t.a=function(e){var t=e.aliasName,a=e.fieldName,i=e.label,u=Object(r.a)(e,["aliasName","fieldName","label"]),d=Object(c.b)({name:a||t}),m=Object(n.a)(d,1)[0],p=Object(c.c)().isSubmitting;return o.a.createElement(l.a,{control:o.a.createElement(s.a,Object.assign({},m,{checked:!!m.value,disabled:u.disabled||p})),label:i})}},406:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return F}));var n=a(16),r=a(9),i=a.n(r),o=a(8),c=a(67),l=a(17),s=a(6),u=a(0),d=a.n(u),m=a(296),p=a(720),f=a(241),g=a(25),b=a(146),h=a(248),v=a(54),q=a(50),E=a(701),y=a.n(E),O=a(499),j=a(162),x=a(113),C=a(492),w=a(26),S=a(698),N=a(702),k=a.n(N),T=a(703),P=a.n(T),A=a(392),I=a(111),D=a(109),R=a(723),_=a(239),L=a.n(_),B=a(421),z=(a(497),a(700));z.menu_list;function F(t){var a=t.componentType,r=t.dataSource,E=t.title,N=t.columns,T=t.search,_=t.inLineEdit,z=t.aliasName,F=t.refINDBpanelAlias,U=t.recordForPage,W=t.viewOnly,M=t.onRowSelect,G=t.toolbar,V=t.header,H=t.height,Q=(t.width,t.deleteRecord),X=t.addRecord,K=t.menu_list,J=Object(u.useContext)(v.a),Y=J.setData,Z=J.componentData,$=J.dispatch,ee=Object(u.useContext)(h.a),te=Object(u.useContext)(D.b),ae=te.searchString,ne=te.changedSearchString,re=te.selectedRow,ie=te.changeSelectedRow,oe=te.page,ce=te.onChangePage,le=te.setCharge,se=te.changeOrderBy,ue=te.orderBy,de=Object(g.a)(),me=de.getRecords,pe=de.createRecord,fe=de.deleteRecord,ge=de.updateRecord,be=de.get,he=d.a.useState(null),ve=Object(s.a)(he,2),qe=ve[0],Ee=ve[1],ye=d.a.useState(!1),Oe=Object(s.a)(ye,2),je=Oe[0],xe=Oe[1],Ce=Object(u.useState)(null),we=Object(s.a)(Ce,2),Se=we[0],Ne=we[1],ke=Object(u.useState)(!1),Te=Object(s.a)(ke,2),Pe=Te[0],Ae=Te[1],Ie=Object(u.useState)(!0),De=Object(s.a)(Ie,2),Re=De[0],_e=De[1],Le=Object(u.useState)([]),Be=Object(s.a)(Le,2),ze=Be[0],Fe=Be[1],Ue=Object(u.useState)({}),We=Object(s.a)(Ue,2),Me=We[0],Ge=We[1],Ve=Object(q.a)(),He=Object(u.useState)({rowsPerPage:U||100,totalRows:0,page:0}),Qe=Object(s.a)(He,2),Xe=Qe[0],Ke=Qe[1],Je=Object(u.useState)(),Ye=Object(s.a)(Je,2),Ze=Ye[0],$e=Ye[1],et=Object(u.useState)(""),tt=Object(s.a)(et,2),at=tt[0],nt=tt[1],rt=Object(u.useRef)(),it="INDBTreeView"===a,ot=ue.direction,ct=r.dataSourceClassName,lt=r.dataSourceClassNameForUpdate,st=r.fieldNamePrimaryKey,ut=r.fieldNameIDDependedClass,dt=r.recoversIDFromAlias,mt=r.newRecordCommand,pt=r.selectRecordCommand,ft=null,gt=N||[];Array.isArray(K)&&K.length>0&&(ft=K[0].children),gt=gt.map((function(e){var t,a={field:e.columnField,title:e.columnLabel,type:null===(t=e.columnType)||void 0===t?void 0:t.toLowerCase(),customSort:function(){return!0}};switch(null===a||void 0===a?void 0:a.type){case"currency":a.currencySetting={locale:"it-IT",currencyCode:"EUR",minimumFractionDigits:2};break;case"text":a.type="string";break;case"date":case"time":case"datetime":a.render=function(e){var t,n=e[a.field];if(n)return t="date"===a.type?"dd/MM/yyyy":"time"===a.type?"HH:mm":"dd/MM/yyyy HH:mm",Object(m.default)(n,t,{locale:p.a})}}return a}));var bt=function(){return mt?be(Object(I.a)(mt,Z)):pe(lt)},ht=function(){var t=Object(l.a)(i.a.mark((function t(a,n,r,l){var s,u,d,m,p,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_e(!0),!ut||a||it){t.next=5;break}return Ve("Nessun record selezionato","warning"),_e(!1),t.abrupt("return",Promise.resolve());case 5:return s=ut?"".concat(ut,"='").concat(a||"","'"):"",u=gt.map((function(e){return"".concat(e.field," LIKE '%").concat(r,"%'")})).join(" OR "),r&&(s=s?"".concat(s," OR ").concat(u):u),d={recordForPage:Xe.rowsPerPage,page:(null!==n&&void 0!==n?n:Xe.page)+1},pt?(p=e.from("where ".concat(s)).toString("base64"),f=e.from("".concat(l)).toString("base64"),m=be(Object(I.a)(pt,Z),s?{"filter.b64":p}:{},l?{"order.b64":f}:{},d||{})):m=me(ct,s,l,d),t.abrupt("return",m.then((function(e){var t,r,i=it&&a?[].concat(Object(c.a)(ze),Object(c.a)(e)):e;return Ke(Object(o.a)(Object(o.a)({},Xe),{},{page:n||0,totalRows:((null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.totPage)||0)*((null===i||void 0===i||null===(r=i[0])||void 0===r?void 0:r.recordForPage)||0)||i.length})),Fe(i),e})).catch(console.error).finally((function(){_e(!1),nt(r)})));case 11:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),vt=function(e){var t,a=ue.columnId,n=ue.direction,r="ORDER BY ".concat(null===(t=gt[a])||void 0===t?void 0:t.field," ").concat(n.toUpperCase());ie(null),ne(e),-1===a?ht(it?"":Z[dt],0,e):ht(it?"":Z[dt],0,e,r)};Object(u.useEffect)((function(){var e,t=ue.columnId,a=ue.direction,n="ORDER BY ".concat(null===(e=gt[t])||void 0===e?void 0:e.field," ").concat(a.toUpperCase());if(se(Object(o.a)(Object(o.a)({},ue),{},{direction:"s,"+a})),-1===t)return rt.current.onChangeOrder(t,a),void ht(it?"":Z[dt],oe,ae,null);rt.current.onChangeOrder(t,a),ht(it?"":Z[dt],oe,ae,n)}),[]);var qt={components:{Container:function(e){return d.a.createElement("div",Object.assign({className:"INDBListContainer"},e,{style:{width:"100%"}}))},Pagination:function(e){return d.a.createElement(O.a,Object.assign({},e,{rowsPerPageOptions:[Xe.rowsPerPage],rowsPerPage:Xe.rowsPerPage,count:Xe.totalRows,page:Xe.page,onChangePage:function(e,t){var a,n=ue.columnId,r=ue.direction,i="ORDER BY ".concat(null===(a=gt[n])||void 0===a?void 0:a.field," ").concat(r.toUpperCase());-1===n?ht(it?"":Z[dt],t,ae):ht(it?"":Z[dt],t,ae,i),ce(t),ie(null)}}))}}};it&&(qt.parentChildData=function(e,t){return t.find((function(t){return e[ut]===t[st]}))},qt.components.Action=function(e){var t,a,n,r,i,o,c,l,s;if("toolbar"===(null===e||void 0===e||null===(t=e.action)||void 0===t?void 0:t.position)&&"Add"===(null===e||void 0===e||null===(a=e.action)||void 0===a?void 0:a.tooltip))return d.a.createElement(j.a,{title:null===e||void 0===e||null===(n=e.action)||void 0===n?void 0:n.tooltip},d.a.createElement(x.a,{onClick:function(t){var a,n,r,i,o;(e.action.onClick(t,e.data),Ze)?null===(a=Ze.tableData)||void 0===a||null===(n=a.childRows)||void 0===n||n.forEach((function(e){var t;(null===(t=e.tableData)||void 0===t?void 0:t.isTreeExpanded)&&rt.current.onTreeExpandChanged(e.tableData.path)})):null===(r=rt.current)||void 0===r||null===(i=r.dataManager)||void 0===i||null===(o=i.data)||void 0===o||o.forEach((function(e){var t;(null===(t=e.tableData)||void 0===t?void 0:t.isTreeExpanded)&&rt.current.onTreeExpandChanged(e.tableData.path,!0)}))},"aria-label":null===e||void 0===e||null===(r=e.action)||void 0===r?void 0:r.tooltip},d.a.createElement(y.a,null)));if("function"===typeof e.action){var u=e.action(e.data);return d.a.createElement(j.a,{title:u.tooltip},d.a.createElement(x.a,{"aria-label":u.icon,size:"small",onClick:function(t){return u.onClick(t,e.data)}},d.a.createElement(u.icon,null)))}return"keyboard_backspace"===e.action.icon?d.a.createElement(j.a,{title:null===e||void 0===e||null===(i=e.action)||void 0===i?void 0:i.tooltip}):d.a.createElement(j.a,{title:null===e||void 0===e||null===(o=e.action)||void 0===o?void 0:o.tooltip},d.a.createElement(x.a,{"aria-label":null===e||void 0===e||null===(c=e.action)||void 0===c?void 0:c.tooltip,size:"small",onClick:function(t){var a;return null===e||void 0===e||null===(a=e.action)||void 0===a?void 0:a.onClick(t,null===e||void 0===e?void 0:e.data)}},"object"===typeof(null===e||void 0===e||null===(l=e.action)||void 0===l?void 0:l.icon)?d.a.createElement(e.action.icon):d.a.createElement(C.a,null,null===e||void 0===e||null===(s=e.action)||void 0===s?void 0:s.icon)))}),qt.components.Toolbar=function(e){return d.a.createElement("div",{style:{display:"flex",paddingRight:8,minHeight:64,alignItems:"center"}},at&&d.a.createElement("div",null,d.a.createElement(w.a,{variant:"body1"},"Risultati ricerca per: ",d.a.createElement("b",null,at))),d.a.createElement("div",{style:{flex:1}}),T&&d.a.createElement(S.a,{searchData:vt,currentQuery:at}),d.a.createElement(j.a,{title:"Aggiorna dati"},d.a.createElement(x.a,{onClick:function(){var e;ie(null);var t=ue.columnId,a=ue.direction,n="ORDER BY ".concat(null===(e=gt[t])||void 0===e?void 0:e.field," ").concat(a.toUpperCase());-1===t?ht(it?"":Z[dt],Xe.page,ae):ht(it?"":Z[dt],Xe.page,ae,n)}},d.a.createElement(k.a,{color:"inherit"}))),!W&&!_&&X&&d.a.createElement(j.a,{title:"Aggiungi record"},d.a.createElement(x.a,{onClick:function(){"undefined"!==typeof ee?(ne(""),ie(null),bt().then((function(e){var t,a,r=e[st];Y(null,null,(t={},Object(n.a)(t,F,r),Object(n.a)(t,z,r),t)),le(null,null,(a={},Object(n.a)(a,F,r),Object(n.a)(a,z,r),a)),ee.showForm(F)})).catch((function(e){return Ve("Impossibile creare un nuovo record","err")}))):console.warn("Cannot handle add action")}},d.a.createElement(P.a,{color:"inherit"}))),_&&d.a.createElement(A.MTableToolbar,e))},qt.components=Object(u.useMemo)((function(){return qt.components}),[Xe,T?at:null]);var Et=[];return _||W||Et.push({icon:"edit",tooltip:"Modifica record",onClick:function(e,t){var a,r,i=t[st]||t.tableData.id;W||(le(null,null,(a={},Object(n.a)(a,F,i),Object(n.a)(a,z,i),a)),Y(null,null,(r={},Object(n.a)(r,F,i),Object(n.a)(r,z,i),r)));ie(t),ee.showForm(F)}}),_||W||!Q||Et.push({icon:"delete",tooltip:"Elimina record",onClick:function(e,t){Ae(!0),Ne(t)}}),Array.isArray(K)&&K.length>0&&Et.push({tooltip:K[0].menuName,icon:function(){return d.a.createElement(L.a,null)},onClick:function(e,t){e.preventDefault(),e.stopPropagation();var a,r,i=t[st]||t.tableData.id;W||(le(null,null,(a={},Object(n.a)(a,F,i),Object(n.a)(a,z,i),a)),Y(null,null,(r={},Object(n.a)(r,F,i),Object(n.a)(r,z,i),r)));ie(t);var o=e.currentTarget;Ee(o),xe(!0)}}),d.a.createElement(d.a.Fragment,null,K&&K.length>0&&d.a.createElement(B.a,{actions:ft,dispatch:$,setMenuAnchor:Ee,setMenuOpen:xe,menuOpen:je,menuAnchor:qe}),d.a.createElement(f.a,Object.assign({tableRef:rt,toolbar:G,header:V,isLoading:Re,title:E||"",columns:gt,onOrderChange:function(e,t){var a,n=ot.split(","),r=1===n.length?n[0]:n[1];if(1===n.length)if(ie(null),se({columnId:e,direction:t}),-1!==e){var i="ORDER BY ".concat(null===(a=gt[e])||void 0===a?void 0:a.field," ").concat(t.toUpperCase());ht(it?"":Z[dt],oe,at,i)}else ht(it?"":Z[dt],oe,at,null);else se({direction:r,columnId:e})},data:ze,actions:Et},qt,{onRowClick:function(e,t){var a,r=t[st]||t.tableData.id;if(it&&!Me[r]&&"update"!==t.tableData.editing&&"delete"!==t.tableData.editing&&ht(r).then((function(e){e.length>0&&rt.current.onTreeExpandChanged(t.tableData.path),Ge(Object(o.a)(Object(o.a)({},Me),{},Object(n.a)({},r,!0)))})),t.tableData.id===(null===Ze||void 0===Ze||null===(a=Ze.tableData)||void 0===a?void 0:a.id)){var i,c;if($e(null),ie(null),!W)Y(null,null,(i={},Object(n.a)(i,F,null),Object(n.a)(i,z,null),i)),le(null,null,(c={},Object(n.a)(c,F,null),Object(n.a)(c,z,null),c));M(null)}else{var l,s;if(ie(t),$e(t),!W)Y(null,null,(l={},Object(n.a)(l,F,r),Object(n.a)(l,z,r),l)),le(null,null,(s={},Object(n.a)(s,F,r),Object(n.a)(s,z,r),s));M(t)}},options:{search:!1,debounceInterval:300,pageSize:Xe.rowsPerPage,pageSizeOptions:[Xe.rowsPerPage],emptyRowsWhenPaging:!1,actionsColumnIndex:-1,maxBodyHeight:H&&"".concat(H,"px")||"500px",rowStyle:function(e){var t,a=e.distinctiveColor;if(it){var n,r,i=(null===e||void 0===e||null===(n=e.tableData)||void 0===n||null===(r=n.path)||void 0===r?void 0:r.length)-1;a=Object(R.a)(a,i)}return{backgroundColor:(null===re||void 0===re||null===(t=re.tableData)||void 0===t?void 0:t.id)===e.tableData.id?it?"#ade8f4":"#DDD":a}}}},_?{editable:Object(o.a)(Object(o.a)({},X?{onRowAdd:function(e){return new Promise((function(t,a){bt().then((function(t){return ge(lt,Object(o.a)(Object(o.a)({},t),e))})).then((function(){return Ge({}),Y(z,null),ht(it?"":Z[dt],Xe.page)})).catch((function(){Ve("Impossibile creare il record","error"),a()})).finally((function(){return t()}))}))}}:{}),{},{onRowUpdate:function(e){return new Promise((function(t,a){ge(lt,e).then((function(){return Ge({}),Y(z,null),ht(it?"":Z[dt],Xe.page)})).catch((function(){Ve("Impossibile aggiornare il record","error"),a()})).finally((function(){return t()}))}))}},Q?{onRowDelete:function(e){return new Promise((function(t,a){fe(lt,e[st]).then((function(){return Ge({}),Y(z,null),ht(it?"":Z[dt],Xe.page)})).catch((function(){Ve("Impossibile cancellare il record","error"),a()})).finally((function(){return t()}))}))}}:{})}:{})),d.a.createElement(b.a,{isOpen:Pe,handlePrimaryClose:function(){return Ae(!1)},handleSecondaryClose:function(){Ae(!1),fe(lt,Se[st]).then((function(){Ne(null),Ge({}),Y(z,null),ie(null),ht(it?"":Z[dt],Xe.page)})).catch((function(e){return console.error("Error deleting record",e)}))},handleClose:function(){return Ae(!1)},title:"Attenzione",description:"Sei sicuro di voler eliminare il record selezionato?"}))}F.defaultProps={inLineEdit:!1,search:!1,viewOnly:!1,toolbar:!0,header:!0,onRowSelect:function(e){return console.log("rowData selected",e)},addRecord:!0,deleteRecord:!0}}).call(this,a(334).Buffer)},407:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(21),o=a(48),c=a(146),l=a(405),s=a(246),u=a(249),d=a(418),m=a(111),p=a(54),f=Object(o.a)((function(e){return{form:{width:"100%",padding:e.spacing(3)},header:{paddingLeft:e.spacing(3)}}}));t.a=function(e){var t=e.isOpen,a=e.description,o=e.title,g=e.primaryButtonText,b=e.secondaryButtonText,h=e.handlePrimaryClose,v=e.handleClose,q=e.requestParameterList,E=f(),y=Object(n.useContext)(p.a).componentData,O={},j=q.map((function(e){switch(e.parameterType.toLowerCase()){case"boolean":return O[e.parameterName]=!1,r.a.createElement(l.a,{key:e.parameterName,aliasName:e.parameterName,fieldName:e.parameterName,label:e.parameterDescription});case"text":return O[e.parameterName]=Object(m.a)(e.parameterDefaultValue,y)||"",r.a.createElement(d.a,{boxType:"text",key:e.parameterName,aliasName:e.parameterName,fieldName:e.parameterName,id:e.parameterName,name:e.parameterName,label:e.parameterDescription});default:console.warn("Unsupported type",e.parameterType)}}));return r.a.createElement(i.a,{initialValues:O,enableReinitialize:!0,onSubmit:function(e,t){var a=t.setSubmitting;return h(e,{setSubmitting:a})}},(function(e){var n=e.isSubmitting,i=e.submitForm;return r.a.createElement(c.a,{isOpen:t,title:o,description:a,primaryButtonText:g,primaryButtonDisabled:n,secondaryButtonText:b,secondaryButtonDisabled:n,handlePrimaryClose:i,handleSecondaryClose:v,handleClose:v},j.length>0&&r.a.createElement("div",{className:E.form},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(s.a,null,j))),r.a.createElement(u.a,{open:n}))}))}},410:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(6),r=a(0),i=a.n(r),o=a(48),c=a(202),l=a(1118),s=a(26),u=a(179),d=a(126),m=a.n(d),p=a(97),f=a(194),g=Object(o.a)((function(e){return{media:{height:130,width:"100%",maxWidth:130,objectFit:"scale-down",paddingRight:e.spacing(3)}}}));function b(e){var t=e.title,a=e.imageURL,o=e.price,d=e.quantity,b=e.cartProductId,h=e.option,v=e.variant,q=e.hasOptionVariant,E=e.handleRemoveProduct,y=e.handleUpdateProductQty,O=e.deleteProduct,j=void 0===O||O,x=g(),C=Object(r.useState)(!1),w=Object(n.a)(C,2),S=w[0],N=w[1];return i.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",padding:"24px",position:"relative"}},S&&i.a.createElement("div",{style:{position:"absolute",top:"40%",left:"50%"}},i.a.createElement(c.a,null)),i.a.createElement(l.a,{className:x.media,image:a||m.a,title:t,component:"img"}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1}},i.a.createElement(s.a,{color:"textPrimary",gutterBottom:!0,variant:"subtitle2"},t),q&&i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{color:"textSecondary",variant:"body2"},"Variante: ",h," - ",v)),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"8px",alignItems:"center"}},i.a.createElement(s.a,{color:"textSecondary",variant:"subtitle1"},"Quantit\xe0"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(u.a,{type:"number",style:{width:50},disabled:S,value:d,onChange:function(e){N(!0);var t=e.target.value;y(t).finally((function(){return N(!1)}))},onKeyDown:function(e){return e.preventDefault()},inputProps:{min:"1",step:"1",style:{textAlign:"center "}}})),i.a.createElement("div",{style:{flexDirection:"row",display:"flex",marginTop:"16px",alignItems:"center"}},j&&i.a.createElement(f.a,{disabled:S,color:"primary",onClick:function(){N(!0),E(b).catch((function(){return N(!1)}))},style:{padding:0}},"Rimuovi"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(s.a,{variant:"subtitle1",color:"textPrimary"},Object(p.a)(o)))))}},414:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(48),r=a(429),i=a(202),o=a(0),c=a.n(o),l=Object(n.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function s(){var e=l();return c.a.createElement(r.a,{className:e.backdrop,open:!0},c.a.createElement(i.a,{color:"inherit"}))}},418:function(e,t,a){"use strict";var n=a(8),r=a(6),i=a(0),o=a.n(i),c=a(697),l=a(427),s=a(44),u=a(365),d=a(21),m=a(406),p=a(109),f=a(146),g=function(e){var t=e.isOpen,a=e.handleClose,n=e.handleDataSelect,c=e.actionEvent,l=Object(i.useState)(null),s=Object(r.a)(l,2),u=s[0],g=s[1],b=Object(d.c)();Object(i.useEffect)((function(){t||g(null)}),[t]),b||console.warn("INDataChoice cannot be outside of a INDBForm!");var h=c.dataChoicePutList.map((function(e){return{columnField:e.value.replace("@",""),columnLabel:e.label,columnType:e.aliasType}}));return o.a.createElement(p.a,null,o.a.createElement(f.a,{title:c.requestMessageToShow||"Seleziona record",primaryButtonDisabled:null===u,isOpen:t,fullWidth:!0,maxWidth:"md",primaryButtonText:"Seleziona",secondaryButtonText:"Annulla",handlePrimaryClose:function(){var e=c.dataChoicePutList.map((function(e){return{fieldName:e.fieldName,value:u[e.value.replace("@","")]}}));n(e)},handleClose:a,handleSecondaryClose:a},o.a.createElement(m.a,{viewOnly:!0,search:!0,columns:h,onRowSelect:g,dataSource:{dataSourceClassName:c.strClassToCall,selectRecordCommand:c.urlToCall}})))},b=a(48),h=a(306),v=a(162),q=a(113),E=a(705),y=a.n(E),O=a(247),j=a(33),x=a(383),C=a(384),w=a(420),S=a(489),N=function(e){var t=e.aliasName,a=e.fieldName,n=e.label,i=e.disabled,c=e.options,l=(Object(j.a)(e,["aliasName","fieldName","label","disabled","options"]),a||t),s=Object(d.b)({name:l}),u=Object(r.a)(s,1)[0],m=Object(d.c)().isSubmitting;return o.a.createElement(x.a,{style:{width:"100%"}},o.a.createElement(C.a,{id:l},n),o.a.createElement(w.a,Object.assign({fullWidth:!0,labelId:"".concat(l,"-label"),id:l,disabled:i||m},u),(c||[]).map((function(e){return o.a.createElement(S.a,{key:e,value:e},e)}))))},k=a(54),T=a(50),P=a(704),A=a.n(P),I=a(249),D=a(111),R=a(25),_=function(e){var t,a=e.required,m=e.editableBox,p=e.id,f=e.label,E=e.disabled,j=e.dataCalculateOnLostFocus,x=e.boxType,C=e.comboBoxList,w=e.aliasName,S=e.fieldName,P=e.prefix,_=e.suffix,L=e.actionEvent,B=e.fullWidth,z=e.backgroundColor,F=(e.width,e.uploadButton),U=e.uploadEndPoint,W=(e.padding,Object(i.useContext)(k.a).componentData),M=Object(i.useState)(!1),G=Object(r.a)(M,2),V=G[0],H=G[1],Q=Object(i.useState)(!1),X=Object(r.a)(Q,2),K=X[0],J=X[1],Y=Object(i.useRef)(),Z=Object(R.a)().uploadResource,$=Object(T.a)().showMessage,ee=null===x||void 0===x?void 0:x.toLowerCase(),te=Object(d.c)().setFieldValue,ae=Object(i.useContext)(O.a),ne=Object(i.useContext)(k.a);t=ae?ae.dispatch:ne.dispatch;var re=Object(b.a)((function(){return{root:z?{backgroundColor:z}:{},fileInput:{display:"none"}}}))(),ie=S||w;return["number","text"].includes(ee)?Array.isArray(C)&&C.length>0?o.a.createElement(N,{aliasName:w,fieldName:S,label:f,disabled:E,options:C}):o.a.createElement(o.a.Fragment,null,L&&"DATA_CHOICE"===L.actionType&&o.a.createElement(g,{fullWidth:B,isOpen:V,handleClose:function(){return H(!1)},actionEvent:L,handleDataSelect:function(e){console.log("updating formik with data",e),H(!1),e.map((function(e){return te(e.fieldName,e.value)})),setTimeout((function(){return Y.current.focus()}),200)}}),o.a.createElement(I.a,{open:K,message:"Caricamento del file in corso..."}),o.a.createElement(c.a,Object.assign({name:ie,required:a},!1===m?{disabled:!0}:{},{id:p,className:re.root,label:f,type:ee,fullWidth:B,inputRef:Y,InputProps:Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},j?{onBlur:function(){t({actionType:"UPDATE_FORM_VALUES"})}}:{}),F&&m?{endAdornment:o.a.createElement(h.a,{position:"end"},o.a.createElement("input",{className:re.fileInput,id:"file-upload-".concat(ie,"-").concat(w),type:"file",onChange:function(e){var t,a=e.target,n=null===a||void 0===a||null===(t=a.files)||void 0===t?void 0:t[0];if(n)if(((null===n||void 0===n?void 0:n.size)/1024/1024).toFixed(4)>10)$("Il file supera le dimensioni massime di 10 MB","error");else{J(!0);var r=Object(D.a)(U,W),i=new FormData;i.append("file",n),Z(r,i).then((function(e){var t=e.data;return te(ie,t)})).catch((function(){$("Errore durante il caricamento del file. Riprovare.","error")})).finally((function(){J(!1),setTimeout((function(){return Y.current.focus()}),200)}))}else te(ie,"")}}),o.a.createElement(v.a,{title:"Seleziona file"},o.a.createElement("label",{htmlFor:"file-upload-".concat(ie,"-").concat(w)},o.a.createElement(q.a,{color:"primary","aria-label":"seleziona file",component:"span",disabled:!m},o.a.createElement(A.a,null)))))}:{}),L&&"DATA_CHOICE"===L.actionType?{endAdornment:o.a.createElement(h.a,{position:"end"},o.a.createElement(q.a,{"aria-label":"toggle password visibility",onClick:function(){return L&&"DATA_CHOICE"===L.actionType&&H(!0)}},o.a.createElement(y.a,null)))}:{}),P?{startAdornment:o.a.createElement(h.a,{position:"start"},P)}:{}),_?{endAdornment:o.a.createElement(h.a,{position:"end"},_)}:{})}))):o.a.createElement(s.a,{utils:u.default},o.a.createElement(o.a.Fragment,null,"time"===ee&&o.a.createElement(l.c,{name:ie,ampm:!1,required:a,disabled:E,id:p,label:f,format:"HH:mm",clearable:!0}),"date"===ee&&o.a.createElement(l.a,{name:ie,ampm:!1,required:a,disabled:E,id:p,label:f,emptyLabel:"",format:"dd/MM/yyyy",clearable:!0}),"datetime"===ee&&o.a.createElement(l.b,{name:ie,ampm:!1,required:a,disabled:E,id:p,label:f,emptyLabel:"",format:"dd/MM/yyyy HH:mm",clearable:!0})))};_.defaultProps={boxType:"text",defaultValue:"",fullWidth:!0,uploadButton:!1};t.a=_},419:function(e,t,a){"use strict";a.d(t,"a",(function(){return C})),a.d(t,"b",(function(){return w}));var n=a(6),r=a(0),i=a.n(r),o=a(48),c=a(233),l=a(599),s=a(1143),u=a(113),d=a(382),m=a.n(d),p=a(673),f=a.n(p),g=a(675),b=a.n(g),h=a(676),v=a.n(h),q=a(674),E=a.n(q),y=a(1115),O=Object(o.a)((function(e){return{close:{padding:e.spacing(.5)},success:{backgroundColor:c.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:l.a[700]},icon:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),j={success:f.a,warning:E.a,error:b.a,info:v.a},x=function(e){var t=e.isVisible,a=e.hide,n=e.message,r=e.type,o=O(),c=j[r],l=function(e,t){"clickaway"!==t&&a()};return t&&i.a.createElement(s.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:5e3,onClose:l},i.a.createElement(y.a,{className:o[r],"aria-describedby":"client-snackbar",message:i.a.createElement("span",{id:"client-snackbar",className:o.message},i.a.createElement(c,{className:o.icon}),n),action:[i.a.createElement(u.a,{key:"close","aria-label":"close",color:"inherit",onClick:l},i.a.createElement(m.a,{className:o.icon}))]}))},C=i.a.createContext();C.Consumer;function w(e){var t=e.children,a=Object(r.useState)(!1),o=Object(n.a)(a,2),c=o[0],l=o[1],s=Object(r.useState)({message:"",type:"info"}),u=Object(n.a)(s,2),d=u[0],m=u[1],p=function(){return l(!1)};return i.a.createElement(C.Provider,{value:{isVisible:c,hide:p,show:function(e,t){m({message:e,type:t||d.type}),l(!0)},message:d.message}},i.a.createElement(x,{isVisible:c,hide:p,message:d.message,type:d.type}),t)}},421:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(291),o=a(404),c=a(6),l=a(489),s=a(407),u=a(54);var d=function(e){var t=e.text,a=e.actionEvent,n=e.handleCloseActionMenu,i=r.a.useState(!1),o=Object(c.a)(i,2),d=o[0],m=o[1],p=function(e){return console.error("No dispatcher available")},f=(null===a||void 0===a?void 0:a.confirmAction)||((null===a||void 0===a?void 0:a.requestParameterList)||[]).length>0,g=function(){m(!1),n()},b=r.a.useContext(u.a);p=b.dispatch;var h=function(e){m(!1),"function"===typeof e&&e(!1),a?(p(a),n()):console.error("No event associated with this action")};return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(s.a,{isOpen:d,title:"Conferma",description:a.requestMessageToShow||a.confirmDescription||"Specificare i parametri",primaryButtonText:"Procedi",secondaryButtonText:"Annulla",handlePrimaryClose:function(e,t){t.setSubmitting;a.data=e,m(a.waitForEnd),h()},handleSecondaryClose:g,handleClose:g,requestParameterList:a.requestParameterList||[]}),r.a.createElement(l.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),f?m(!0):h()}},t))};t.a=function(e){var t=e.menuAnchor,a=e.menuOpen,n=e.actions,c=e.dispatch,l=e.setMenuOpen,s=e.setMenuAnchor,u=function(e){l(!1),s(null)},m=r.a.createElement(i.a,{id:"simple-menu",keepMounted:!0,anchorEl:t,open:a,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},function e(a){for(var n=[],i=0;i<a.length;i++){var m=a[i];if(Array.isArray(m.children)&&m.children.length>0){var p=e(m.children);n.push(r.a.createElement(o.a,{label:r.a.createElement(r.a.Fragment,null,m.menuName),parentMenuOpen:!!t},p))}else n.push(r.a.createElement(d,{handleCloseActionMenu:u,key:a[i].id_menu,actionEvent:a[i].actionEvent,text:a[i].menuName,dispatch:c,setMenuOpen:l,setMenuAnchor:s}))}return n}(n));return r.a.createElement(r.a.Fragment,null,m)}},425:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},491:function(e,t,a){e.exports=a.p+"static/media/app_icon.8e9a9dd1.png"},497:function(e,t,a){"use strict";var n=a(6),r=a(33),i=a(0),o=a.n(i),c=a(239),l=a.n(c),s=a(162),u=a(421);function d(e){var t=e.dispatch,a=e.actions,i=e.tooltip,c=Object(r.a)(e,["dispatch","actions","tooltip"]);console.log(c);var d=o.a.useState(null),m=Object(n.a)(d,2),p=m[0],f=m[1],g=o.a.useState(!1),b=Object(n.a)(g,2),h=b[0],v=b[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{title:i},o.a.createElement(l.a,{onClick:function(e){var t=e.currentTarget;f(t),v(!0)}})),a&&o.a.createElement(u.a,{menuAnchor:p,menuOpen:h,actions:a,dispatch:t,setMenuOpen:v,setMenuAnchor:f}))}t.a=d,d.defaultProps={dispatch:null,actions:[]}},50:function(e,t,a){"use strict";var n=a(0),r=a(419);t.a=function(){return Object(n.useContext)(r.a).show}},51:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return h})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return v}));var n=a(8),r=a(9),i=a.n(r),o=a(17),c=a(6),l=a(0),s=a.n(l),u=a(366),d=a(252),m=a.n(d),p=a(46),f=a(298),g=s.a.createContext(),b=g.Consumer;function h(e){var t=e.baseURL,a=e.children,r=Object(l.useState)({inceptiumid:localStorage.getItem("inceptiumid"),user:localStorage.getItem("user"),password:localStorage.getItem("password"),session:localStorage.getItem("session")}),d=Object(c.a)(r,2),f=d[0],b=d[1],h=Object(p.h)(),q=function(e){var t=e.session,a=e.inceptiumid,n=e.user,r=e.password,i=e.type,o=e.disabled;localStorage.setItem("session",t),localStorage.setItem("inceptiumid",a),localStorage.setItem("user",n),localStorage.setItem("password",r),localStorage.setItem("type",i),b({session:t,inceptiumid:a,user:n,password:r,type:i,disabled:o}),j(!0)},E=Object(l.useState)(!1),y=Object(c.a)(E,2),O=y[0],j=y[1],x=Object(l.useState)(!1),C=Object(c.a)(x,2),w=C[0],S=C[1],N=Object(l.useState)(),k=Object(c.a)(N,2),T=k[0],P=k[1],A=Object(l.useState)(),I=Object(c.a)(A,2),D=I[0],R=I[1],_=Object(l.useState)({}),L=Object(c.a)(_,2),B=L[0],z=L[1],F=Object(l.useState)({}),U=Object(c.a)(F,2),W=(U[0],U[1]),M=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("session"),localStorage.removeItem("inceptiumid"),localStorage.removeItem("user"),localStorage.removeItem("password"),localStorage.removeItem("type"),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(i.a.mark((function e(){var a,n,r,o,c,l,s,d,p,f,g,b,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("/"!==h.pathname?t.replace(h.pathname,"").replace(h.search,""):t,"assets/config/default.json"),console.log("Fetching configuration from",n),e.prev=2,e.next=5,m.a.get(n);case 5:if((r=e.sent).data&&(null===(o=r)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.baseURL)){e.next=8;break}throw new Error("Invalid json supplied");case 8:r=r.data,console.log("Using remote configuration",r),R(null===(l=r)||void 0===l?void 0:l.baseURL),z(null===(s=r)||void 0===s?void 0:s.ecom),W(null===(d=r)||void 0===d?void 0:d.ecom.inceptiumid),localStorage.setItem("inceptiumid",null===(p=r)||void 0===p?void 0:p.ecom.inceptiumid),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(2),new Error("Failed to fetch server configuration from ".concat(n));case 19:if(f=[],O&&("admins"===localStorage.getItem("type")&&(f=[{subject:"User",actions:"manage"}]),u.a.update(f)),g=null!==localStorage.getItem("session"),j(g),null===(a=r)||void 0===a?void 0:a.ecom){e.next=26;break}return console.log("Not logging ecommerce due to empty config"),e.abrupt("return");case 26:return e.prev=26,e.next=29,V(g,!0,null===(b=r)||void 0===b?void 0:b.ecom,null===(v=r)||void 0===v?void 0:v.baseURL);case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),new Error("Failed to authenticate guest user on ecommerce portal");case 34:case"end":return e.stop()}}),e,null,[[2,16],[26,31]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){G().then((function(){return console.log("Configuration loaded")})).catch((function(e){return P(e.message)})).finally((function(){return S(!0)}))}),[]),Object(l.useEffect)((function(){V(O,w)}),[h]);var V=function(e,t,a,r){if(t&&h.pathname.includes("ecommerce")&&!e){console.log("Authenticating ecommerce");var i=m.a.create({baseURL:r||D,paramsSerializer:function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("::")}}),o=a||B;return v(i,o).then((function(e){return q(Object(n.a)(Object(n.a)({},o),e))}))}return Promise.resolve()};return s.a.createElement(g.Provider,{value:{isAuth:O,error:T,setData:q,ecomSettings:B,sessionData:f,logout:M,baseURL:D,isLoaded:w,authEcommerce:V}},a)}var v=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,r,o,c,l,s,u,d,m,p,g,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.inceptiumid,r=a.user,o=a.password,e.prev=1,e.next=4,t.get("get_new_inceptium_session",{params:{inceptiumid:n,user:r,password:o}});case 4:if(c=e.sent,l=c.data,s=/\wsession=(.*)/.exec(l)){e.next=10;break}throw new Error("Got invalid response: ".concat(l));case 10:return u=s[1],e.next=13,t.get("get_user_by_login",{params:{user_login:"admin",inceptiumid:n,user:r,password:o,session:u}});case 13:if(d=e.sent,m=d.data,p=m.user_profile,!(g="true"===(g=m.disabled))){e.next=20;break}return e.abrupt("return",Promise.reject(new f.a("Questo utente \xe8 disabilitato",{user:"Questo utente \xe8 disabilitato"})));case 20:return e.abrupt("return",Promise.resolve({session:u,disabled:g,type:p}));case 23:if(e.prev=23,e.t0=e.catch(1),401!==(null===(b=e.t0.response)||void 0===b?void 0:b.status)){e.next=27;break}return e.abrupt("return",Promise.reject(new f.a("Controlla le credenziali e riprova",{user:"Controlla le credenziali e riprova",password:"Controlla le credenziali e riprova",inceptiumid:"Controlla le credenziali e riprova"})));case 27:return e.abrupt("return",Promise.reject(e.t0));case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,a){return e.apply(this,arguments)}}()},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(16),r=a(8),i=a(6),o=a(33),c=a(0),l=a.n(c),s=l.a.createContext();s.Consumer;function u(e){var t=e.children,a=Object(o.a)(e,["children"]),u=Object(c.useState)({}),d=Object(i.a)(u,2),m=d[0],p=d[1];return l.a.createElement(s.Provider,{value:Object(r.a)({setData:function(e,t,a){if(!e&&!a)throw new Error("Cannot set component data without id or object");p(a?Object(r.a)(Object(r.a)({},m),a):null===t?Object(r.a)(Object(r.a)({},m),{},Object(n.a)({},e,null)):Object(r.a)(Object(r.a)({},m),{},Object(n.a)({},e,Object(r.a)(Object(r.a)({},m[e]),{},{data:t}))))},setComponentData:p,componentData:m},a)},t)}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(6),r=a(0),i=a.n(r),o=a(51),c=a(25),l=i.a.createContext();l.Consumer;function s(e){var t=e.children,a=Object(r.useContext)(o.b),s=a.isLoaded,u=a.isAuth,d=a.ecomSettings,m=a.sessionData,p=Object(r.useState)(!1),f=Object(n.a)(p,2),g=f[0],b=f[1],h=Object(c.a)().loadApp,v=Object(r.useState)(!1),q=Object(n.a)(v,2),E=q[0],y=q[1],O=m.user===d.user;return Object(r.useEffect)((function(){s&&(g&&b(!1),h("com.eterea.AppEterea").catch(console.error).finally((function(){return b(!0)})))}),[s,O,u]),i.a.createElement(l.Provider,{value:{isAuth:u&&!O,showLoginDialog:E,setShowLoginDialog:y,isLoaded:g,settings:d}},t)}},672:function(e,t,a){e.exports=a.p+"static/media/logo.c394e239.png"},693:function(e,t,a){"use strict";(function(e){var n=a(6),r=a(0),i=a.n(r),o=a(694),c=a(199),l=a(695),s=a.n(l),u=a(696),d=a.n(u),m=a(21),p=a(26),f=a(48),g=(a(1077),Object(f.a)((function(){return{container:{display:"flex",flexDirection:"column",flex:1,marginTop:"8px",marginBottom:"8px"},editor:{flex:1},editorBox:{borderColor:"#F1F1F1",borderWidth:1,borderStyle:"solid"}}})));t.a=function(t){var a=t.editableBox,l=t.label,u=t.defaultValue,f=t.aliasName,b=t.fieldName,h=t.height,v=t.width,q=Object(m.b)({name:b||f}),E=Object(n.a)(q,3),y=E[1],O=E[2],j=Object(m.c)().isSubmitting,x=g(),C=Object(r.useState)(c.EditorState.createEmpty()),w=Object(n.a)(C,2),S=w[0],N=w[1];Object(r.useEffect)((function(){if(y.initialValue){var t=y.initialValue||u,a=d()(e.from(t,"base64").toString());if(a){var n=c.ContentState.createFromBlockArray(a.contentBlocks);N(c.EditorState.createWithContent(n))}}}),[y.initialValue]);return i.a.createElement("div",{className:x.container},i.a.createElement("div",null,i.a.createElement(p.a,{variant:"h6"},l)),i.a.createElement("div",{className:x.editor},i.a.createElement(o.Editor,{readOnly:!a||j,editorState:S,onEditorStateChange:function(t){N(t),O.setValue(e.from(s()(Object(c.convertToRaw)(t.getCurrentContent()))).toString("base64"))},editorClassName:x.editorBox,editorStyle:{height:h||"150px",width:v||"100%"}})))}}).call(this,a(334).Buffer)},698:function(e,t,a){"use strict";var n=a(6),r=a(0),i=a.n(r),o=a(48),c=a(179),l=a(306),s=a(113),u=a(240),d=a.n(u),m=a(699),p=a.n(m),f=Object(o.a)((function(e){return{searchField:{minWidth:150,paddingLeft:e.spacing(2)}}}));t.a=function(e){var t=e.currentQuery,a=e.searchData,o=Object(r.useState)(t||""),u=Object(n.a)(o,2),m=u[0],g=u[1],b=f();return i.a.createElement(c.a,{className:b.searchField,value:m,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.value;13===e.keyCode&&a(n)},placeholder:"Cerca",InputProps:{startAdornment:i.a.createElement(l.a,{position:"start"},i.a.createElement(d.a,{color:"inherit",fontSize:"small"})),endAdornment:i.a.createElement(l.a,{position:"end"},i.a.createElement(s.a,{disabled:!m,onClick:function(){return a("")}},i.a.createElement(p.a,{color:"inherit",fontSize:"small"})))}})}},700:function(e){e.exports=JSON.parse('{"menu_list":[{"actionEvent":null,"children":[{"actionEvent":null,"children":[{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"Questa operazione potrebbe richiedere un p\xf2 di tempo.","requestParameterList":[{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Inizio","parameterName":"startDate","parameterType":"TEXT"},{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Fine","parameterName":"endDate","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_ExportXLSX","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_ExportXLSX::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.2","menuName":"Esporta XML","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100}],"menuName":"Qualcosa di storto"},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"Questa operazione potrebbe richiedere un p\xf2 di tempo.","requestParameterList":[{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Inizio","parameterName":"startDate","parameterType":"TEXT"},{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Fine","parameterName":"endDate","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_ExportXLSX","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_ExportXLSX::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.2","menuName":"Esporta XML","numberOfNotification":0,"separator":false,"value":"","width":100}],"externalLink":"","iconPath":"","id_menu":"id_0","menuName":"HOLAAAAA","numberOfNotification":0,"separator":false,"value":"","width":100}]}')},713:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return Y}));var n=a(9),r=a.n(n),i=a(17),o=a(6),c=a(0),l=a.n(c),s=a(48),u=a(727),d=a(46),m=a(39),p=a(1137),f=a(1135),g=a(26),b=a(29),h=a(428),v=a(178),q=a(731),E=a(98),y=a(1116),O=a(1117),j=a(179),x=a(733),C=a(510),w=a(1138),S=a(714),N=a.n(S),k=a(409),T=a.n(k),P=a(408),A=a.n(P),I=a(94),D=a(95),R=a(25),_=a(126),L=a.n(_),B=a(506),z=a.n(B),F=a(412),U=a.n(F),W=a(414),M=(a(1094),a(97)),G=a(148),V=a(50),H=a(715),Q=a(147),X=a(56),K=a(250),J=(a(1110),Object(s.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",backgroundColor:e.palette.common.white},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appSeparator:{minHeight:e.spacing(10)},selectedButton:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary}}})));function Y(){var t,a,n,s,S,k,P,_,B,F,Y,Z=Object(c.useContext)(G.a).addToCart,$=Object(c.useState)(!0),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(),re=Object(o.a)(ne,2),ie=re[0],oe=re[1],ce=Object(c.useState)([]),le=Object(o.a)(ce,2),se=le[0],ue=le[1],de=Object(c.useState)([]),me=Object(o.a)(de,2),pe=me[0],fe=me[1],ge=Object(c.useState)(),be=Object(o.a)(ge,2),he=be[0],ve=be[1],qe=Object(c.useState)(!1),Ee=Object(o.a)(qe,2),ye=Ee[0],Oe=Ee[1],je=Object(c.useState)([]),xe=Object(o.a)(je,2),Ce=xe[0],we=xe[1],Se=Object(c.useState)(1),Ne=Object(o.a)(Se,2),ke=Ne[0],Te=Ne[1],Pe=Object(c.useState)(0),Ae=Object(o.a)(Pe,2),Ie=Ae[0],De=Ae[1],Re=Object(c.useState)([]),_e=Object(o.a)(Re,2),Le=_e[0],Be=_e[1],ze=Object(c.useState)(!1),Fe=Object(o.a)(ze,2),Ue=Fe[0],We=Fe[1],Me=J(),Ge=Object(d.i)().id,Ve=Object(d.h)(),He=Object(d.g)(),Qe=new URLSearchParams(Ve.search).get("option"),Xe=new URLSearchParams(Ve.search).get("variant"),Ke=Object(V.a)(),Je=Object(Q.a)(),Ye=Object(c.useContext)(X.a).isAuth,Ze=Object(R.a)(),$e=Ze.getProductDetails,et=Ze.getProductMedia,tt=Ze.getProductOptions,at=Ze.getProductDocumentary,nt=Ze.getCategory,rt=function(){var t=Object(i.a)(r.a.mark((function t(){var a,n,i,o,c,l,s,u,d,m,p,f,g,b,h,v;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt(Ge);case 3:return s=t.sent,u=s.hasMultipleOptions,d=s.options,m=null===d||void 0===d||null===(a=d.filter((function(e){return e.id===Qe})))||void 0===a||null===(n=a[0])||void 0===n||null===(i=n.variants)||void 0===i||null===(o=i.filter((function(e){return e.id===Xe})))||void 0===o?void 0:o[0],p=null===m||void 0===m?void 0:m.productCode,t.next=10,et(p,"FOTO");case 10:return f=t.sent,t.next=13,$e(Ge);case 13:if("string"!==typeof(g=t.sent)||0!==g.length){t.next=17;break}return We(!0),t.abrupt("return");case 17:return t.next=19,at(Ge);case 19:return b=t.sent,t.next=22,nt(g.articlesCategoryCode);case 22:h=t.sent,v=null!==(c=null===h||void 0===h||null===(l=h[0])||void 0===l?void 0:l.categoryFullPathDescription)&&void 0!==c?c:"",Oe(u),ue(d),Array.isArray(f)&&f.length>0?we(f.map((function(e){return{original:e.urlLinkDomain,thumbnail:e.urlLinkDomain}}))):we([{original:L.a,thumbnail:L.a}]),ve(p),oe({title:g.description,price:null===m||void 0===m?void 0:m.price,rating:4,reviewsCount:700,description:e.from(g.note_b64,"base64").toString(),categoryId:g.articlesCategoryCode}),fe(b.map((function(t){return{label:t.title,description:e.from(t.description_b64,"base64").toString()}}))),Be(v.split("/")),t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.error(t.t0);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){ae(!0),rt().finally((function(){return ae(!1)}))}),[Ge,Qe,Xe]),Ue?l.a.createElement(K.a,null):l.a.createElement("div",{className:Me.root},l.a.createElement(I.a,{title:"Dettagli prodotto"}),l.a.createElement(D.a,null),l.a.createElement("main",{className:Me.content},l.a.createElement("div",{className:Me.appBarSpacer}),l.a.createElement(u.a,{maxWidth:"xl",className:Me.container},te&&l.a.createElement(W.a,null),l.a.createElement(p.a,{"aria-label":"breadcrumb"},l.a.createElement(f.a,{color:"inherit",to:"/ecommerce/home",component:m.b},"Home"),Le.map((function(e,t){return l.a.createElement(g.a,{key:t,color:t===Le.length-1?"textPrimary":"textSecondary",style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"}},e)}))),l.a.createElement(b.a,{container:!0,direction:"column",spacing:2,style:{marginTop:"32px"}},l.a.createElement(b.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:3},l.a.createElement(b.a,{item:!0,container:!0,xs:5,justify:"center"},l.a.createElement(N.a,{infinite:!1,showNav:!1,useBrowserFullscreen:!1,showPlayButton:!1,onErrorImageURL:L.a,items:Ce,slideDuration:0,showThumbnails:(null===Ce||void 0===Ce||null===(t=Ce[0])||void 0===t?void 0:t.original)!==L.a,renderFullscreenButton:function(e,t){var a;return(null===Ce||void 0===Ce||null===(a=Ce[0])||void 0===a?void 0:a.original)===L.a?null:l.a.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button".concat(t?" active":""),onClick:e},t?l.a.createElement(A.a,null):l.a.createElement(T.a,null))}})),l.a.createElement(b.a,{item:!0,container:!0,xs:!0,direction:"column",spacing:2},l.a.createElement(b.a,{item:!0,container:!0,xs:!0,direction:"column",spacing:1},l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{variant:"h5"},null===ie||void 0===ie?void 0:ie.title)),l.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:1},l.a.createElement(b.a,{item:!0},l.a.createElement(w.a,{size:"small",readOnly:!0,defaultValue:4})),l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText},null===ie||void 0===ie?void 0:ie.reviewsCount," recensioni"))),l.a.createElement(h.a,null),l.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:1,style:{paddingTop:"16px"}},l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText,style:{paddingTop:"8px"}},"Prezzo")),l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{component:"div",variant:"h6"},l.a.createElement(v.a,{fontWeight:"fontWeightMedium",className:Me.primaryText},Object(M.a)(null===ie||void 0===ie?void 0:ie.price)),l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText},"IVA inclusa")))),ye&&l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{item:!0,container:!0,direction:"column",spacing:1,style:{paddingTop:"24px"}},l.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:1},l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText},"Opzione")),l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{component:"div",variant:"body2",className:Me.primaryText},l.a.createElement(v.a,{fontWeight:"fontWeightMedium"},null===se||void 0===se||null===(a=se.filter((function(e){return e.id===Qe})))||void 0===a||null===(n=a[0])||void 0===n?void 0:n.label)))),l.a.createElement(b.a,{item:!0},l.a.createElement(q.a,{size:"small","aria-label":"small outlined button group",color:"primary",disabled:te},null===se||void 0===se?void 0:se.map((function(e){return l.a.createElement(E.a,Object.assign({key:e.id},e.id===Qe?{className:Me.selectedButton}:{},{onClick:function(){var t,a,n,r;return He.push({pathname:Ve.pathname,search:"?".concat(new URLSearchParams({option:e.id,variant:null===se||void 0===se||null===(t=se.filter((function(t){return t.id===e.id})))||void 0===t||null===(a=t[0])||void 0===a||null===(n=a.variants)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.id}).toString())})}}),e.label)})))),l.a.createElement(b.a,{item:!0,container:!0,direction:"row",spacing:1},l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText},"Variante")),l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{component:"div",variant:"body2",className:Me.primaryText},l.a.createElement(v.a,{fontWeight:"fontWeightMedium"},null===se||void 0===se||null===(s=se.filter((function(e){return e.id===Qe})))||void 0===s||null===(S=s[0])||void 0===S||null===(k=S.variants)||void 0===k||null===(P=k.filter((function(e){return e.id===Xe})))||void 0===P||null===(_=P[0])||void 0===_?void 0:_.label))))),l.a.createElement(b.a,{item:!0,style:{paddingBottom:"16px"}},l.a.createElement(q.a,{size:"small","aria-label":"small outlined button group",color:"primary",disabled:te},null===se||void 0===se||null===(B=se.filter((function(e){return e.id===Qe})))||void 0===B||null===(F=B[0])||void 0===F||null===(Y=F.variants)||void 0===Y?void 0:Y.map((function(e){return l.a.createElement(E.a,Object.assign({key:e.id},e.id===Xe?{className:Me.selectedButton}:{},{onClick:function(){return He.push({pathname:Ve.pathname,search:"?".concat(new URLSearchParams({option:Qe,variant:e.id}).toString())})}}),e.label)}))))),l.a.createElement(h.a,{style:{marginTop:"16px"}}),l.a.createElement(b.a,{item:!0,container:!0,direction:"column",xs:!0,style:{paddingTop:"16px"}},l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText},"Descrizione")),l.a.createElement(b.a,{item:!0},(null===ie||void 0===ie?void 0:ie.description)&&z()(null===ie||void 0===ie?void 0:ie.description))))),l.a.createElement(b.a,{item:!0,xs:3},l.a.createElement(y.a,{variant:"outlined"},l.a.createElement(O.a,null,l.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"8px"}},l.a.createElement(g.a,{className:Me.orderTotal,variant:"h6"},Object(M.a)(null===ie||void 0===ie?void 0:ie.price)),l.a.createElement(g.a,{variant:"body2",className:Me.secondaryText},"IVA inclusa"),l.a.createElement(g.a,{component:"div",style:{paddingTop:"16px",paddingBottom:"8px",color:"#007600"},variant:"body2"},l.a.createElement(v.a,{fontWeight:"fontWeightMedium"},"Disponibilit\xe0 immediata")),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},l.a.createElement(g.a,{className:Me.greyText,style:{paddingTop:"16px",paddingBottom:"8px",flexGrow:1},variant:"body2"},"Quantit\xe0"),l.a.createElement(j.a,{type:"number",disabled:te,value:ke,onChange:function(e){return Te(e.target.value)},onKeyDown:function(e){return e.preventDefault()},inputProps:{min:"1",step:"1",max:10,style:{textAlign:"center "}}})),l.a.createElement(E.a,{startIcon:l.a.createElement(U.a,null),variant:"contained",color:"primary",disabled:te,style:{marginTop:"24px"},onClick:function(){Ye?(ae(!0),Z(he,ke).catch((function(){return Ke("Impossibile aggiungere l'elemento al carrello","error")})).finally((function(){return ae(!1)}))):Je()}},"Aggiungi al carrello")))))),pe.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{item:!0},l.a.createElement(h.a,null)),l.a.createElement(b.a,{item:!0},l.a.createElement(x.a,{value:Ie,onChange:function(e,t){return De(t)},indicatorColor:"secondary",textColor:"secondary",centered:!0},pe.map((function(e){return l.a.createElement(C.a,{key:e.label,label:e.label,disabled:te})})))),l.a.createElement(b.a,{item:!0,container:!0,xs:!0},pe.map((function(e,t){return l.a.createElement(l.a.Fragment,{key:t},Ie===t&&l.a.Children.toArray(z()(e.description,{replace:function(e){if(e.attribs)return"img"===e.name&&(e.attribs.style="height: auto;width: 100%"),e}})).map((function(e,t){return l.a.createElement(b.a,{item:!0,key:t},e)})))}))))),l.a.createElement(b.a,{item:!0,style:{paddingTop:"32px"}},l.a.createElement(h.a,null)),l.a.createElement(b.a,{item:!0},l.a.createElement(g.a,{component:"div",style:{paddingTop:"16px"}},l.a.createElement(v.a,{fontWeight:"fontWeightMedium",className:Me.primaryText},"Altri prodotti che potrebbero interessarti"))),l.a.createElement(b.a,{item:!0,style:{marginLeft:"25px",marginRight:"25px",marginTop:"16px"}},l.a.createElement(H.a,{excludeProductId:Ge,categoryId:null===ie||void 0===ie?void 0:ie.categoryId})))))}}).call(this,a(334).Buffer)},715:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(6),r=a(0),i=a.n(r),o=a(716),c=a.n(o),l=(a(1108),a(1109),a(251)),s=a(25);function u(e){var t=e.categoryId,a=e.excludeProductId,o=Object(s.a)().getProducts,u=Object(r.useState)([]),d=Object(n.a)(u,2),m=d[0],p=d[1];return Object(r.useEffect)((function(){t&&o(t,{recordForPage:20,page:1}).then((function(e){var t=e;a&&(t=t.filter((function(e){return e.id_ArticlesRegistry!==a}))),p(t.map((function(e){return{title:e.description,price:e.sellingPriceTotVat,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot}})))}))}),[t,a]),i.a.createElement(i.a.Fragment,null,m.length>0&&i.a.createElement(c.a,{draggable:!1,swipe:!1,touchMove:!1,dots:!1,infinite:!1,slidesToShow:4},m.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(l.a,Object.assign({addToCart:!0},e)))}))))}},723:function(e,t,a){"use strict";var n=a(6);function r(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}function i(e){for(var t=0,a=e.length-1;a>=0;a--)t+=+e[a]*Math.pow(2,e.length-1-a);return t}var o=function(e,t,a){var n="#";return n+=r(e),n+=r(t),n+=r(a)},c=function(e){var t=function(e){var t=e.substring(1,3),a=e.substring(3,5),n=e.substring(5,7);return t=parseInt(t,16),a=parseInt(a,16),n=parseInt(n,16),[t=t.toString(2),a=a.toString(2),n=n.toString(2)]}(e),a=Object(n.a)(t,3),r=a[0],o=a[1],c=a[2];return[i(r),i(o),i(c)]};t.a=function(e,t){var a=c(e),r=Object(n.a)(a,3),i=r[0],l=r[1],s=r[2];return o(i-=15*t,l-=15*t,s-=15*t)}},739:function(e,t,a){e.exports=a(1111)},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(67),r=a(6),i=a(0),o=a.n(i),c=a(51),l=a(204),s=o.a.createContext();s.Consumer;function u(e){var t=e.children,a=Object(i.useContext)(c.b).sessionData,u=Object(i.useState)(!1),d=Object(r.a)(u,2),m=d[0],p=d[1],f=Object(i.useState)([]),g=Object(r.a)(f,2),b=g[0],h=g[1],v=a.inceptiumid,q=a.user;Object(i.useEffect)((function(){var e=Object(l.c)(v,q);h(e)}),[v,q]);return o.a.createElement(s.Provider,{value:{isOpen:m,favoriteInceptiumMaps:b,open:function(){return p(!0)},close:function(){return p(!1)},toggle:function(){return p(!m)},handleNewFavoriteInceptiumMap:function(e){h((function(t){var a=Object(n.a)(t),r=a.findIndex((function(t){return t.id===e.id}));return r>=0?(a.splice(r,1),a.unshift(e)):(Object(l.e)(a),a.unshift(e)),Object(l.d)(v,q,a),a}))},emptyInceptiumAppsFavorites:function(){h([]),Object(l.a)(v,q)}}},t)}},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(16),r=a(6),i=a(0),o=a.n(i),c=a(1146),l=a(490),s=a(391),u=a.n(s),d=a(113),m=a(48),p=a(14),f=a(240),g=a.n(f),b=a(509),h=a(411),v=a.n(h),q=a(1118),E=a(162),y=a(291),O=a(489),j=a(39),x=a(93),C=a(1148),w=a(5),S=a(307),N=a.n(S),k=a(56),T=(a(25),a(147)),P=a(148),A=Object(w.a)((function(e){return{badge:{right:-3,top:12,border:"2px solid ".concat(e.palette.primary.main),padding:"0 4px"}}}))(C.a),I=Object(m.a)((function(e){return{icon:{color:e.palette.common.white}}}));function D(){var e=I(),t=Object(i.useContext)(k.a).isAuth,a=Object(i.useContext)(P.a),n=a.userCart,r=a.toggle,c=Object(T.a)();return o.a.createElement(E.a,{title:"Visualizza carrello"},o.a.createElement(d.a,{"aria-label":"cart",onClick:function(){return t?r():c()}},o.a.createElement(A,{badgeContent:null===n||void 0===n?void 0:n.totalItems,color:"secondary"},o.a.createElement(N.a,{className:e.icon}))))}var R=a(51),_=a(46);function L(e){var t=e.children,a=(e.title,o.a.useContext(x.a).toggle),i=o.a.useState(null),s=Object(r.a)(i,2),f=s[0],h=s[1],C=Boolean(f),w=function(){return h(null)},S=o.a.useContext(k.a).isAuth,N=o.a.useContext(R.b).authEcommerce,P=o.a.useContext(k.a).settings,A=Object(T.a)(),I=Object(_.g)(),L=Object(m.a)((function(e){return{toolbar:{paddingRight:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(4)},menuButtonHidden:{display:"none"},grow:{flexGrow:1},search:Object(n.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(p.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(p.d)(e.palette.common.white,.25)},"&:focus":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(5),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(n.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:400,"&:focus":{width:500}}),appBarSpacer:e.mixins.toolbar,menu:{minWidth:150},menuIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}}))();return o.a.createElement(c.a,{elevation:0,position:"absolute",className:L.appBar},o.a.createElement(l.a,{className:L.toolbar},o.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,className:L.menuButton},o.a.createElement(u.a,null)),o.a.createElement(q.a,{style:{maxHeight:48,width:"auto",objectFit:"contain",cursor:"pointer"},component:"img",alt:"",image:P.logo,title:"",onClick:function(){I.push("/ecommerce")}}),o.a.createElement("div",{className:L.search},o.a.createElement("div",{className:L.searchIcon},o.a.createElement(g.a,null)),o.a.createElement(b.a,{placeholder:"Cerca prodotto per nome",classes:{root:L.inputRoot,input:L.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&I.push("/ecommerce/home/".concat(e.target.value))}})),o.a.createElement("div",{className:L.grow}),o.a.createElement(E.a,{title:"Profilo"},o.a.createElement(d.a,{edge:"end","aria-label":"account of current user",color:"inherit",onClick:function(e){return h(e.currentTarget)},className:L.menuIcon},o.a.createElement(v.a,null))),o.a.createElement(y.a,{id:"fade-menu",anchorEl:f,keepMounted:!0,open:C,onClose:w,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"}},S?o.a.createElement("div",null,o.a.createElement(O.a,{className:L.menu,component:j.b,to:"/ecommerce/user/orders",onClick:w},"I miei ordini"),o.a.createElement(O.a,{className:L.menu,onClick:function(){N(!1,!0).catch(console.error).finally(w)}},"Esci")):o.a.createElement("div",null,o.a.createElement(O.a,{className:L.menu,onClick:function(){A(),w()}},"Accedi"))),o.a.createElement(D,null),t))}},95:function(e,t,a){"use strict";var n=a(16),r=a(0),i=a.n(r),o=a(114),c=a(26),l=a(48),s=a(1135),u=a(39),d=a(1124),m=a(1125),p=a(601),f=a(411),g=a.n(f),b=a(93),h=a(51),v=a(8),q=a(60),E=a(6),y=a(113),O=a(1130),j=a(202),x=a(711),C=a.n(x),w=a(200),S=a.n(w),N=a(25),k=a(46),T=a(50),P=Object(l.a)((function(e){return{categoryItem:{paddingLeft:e.spacing(5)},categoryNested:{paddingLeft:e.spacing(2)},loaderWrapper:{textAlign:"center"}}})),A=function(){var e=Object(r.useState)([]),t=Object(E.a)(e,2),a=(t[0],t[1]),o=Object(r.useState)([]),c=Object(E.a)(o,2),l=c[0],s=c[1],u=Object(r.useState)(!1),f=Object(E.a)(u,2),g=f[0],h=f[1],x=Object(r.useState)({}),w=Object(E.a)(x,2),A=w[0],I=w[1],D=Object(r.useState)({}),R=Object(E.a)(D,2),_=R[0],L=R[1],B=Object(k.g)(),z=Object(T.a)(),F=Object(r.useContext)(b.a).toggle,U=P(),W=Object(N.a)(),M=W.getCategories,G=W.getFeaturesRegistry;Object(r.useEffect)((function(){M().then((function(e){Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)>0?(e.push({id_FeaturesRegistry:"all",description:"Linee"}),s(e)):z("Categorie non disponibili","warning")})).finally((function(){return h(!0)}))}),[]);return i.a.createElement(i.a.Fragment,null,g?function e(t){var r,o=[];if(Array.isArray(t)){var c,u=Object(q.a)(t);try{for(u.s();!(c=u.n()).done;){var f=c.value;o.push(e(f))}}catch(b){u.e(b)}finally{u.f()}return o}if(Array.isArray(null===t||void 0===t?void 0:t.subcategories)&&(null===t||void 0===t||null===(r=t.subcategories)||void 0===r?void 0:r.length)>0){var g=e(null===t||void 0===t?void 0:t.subcategories);o.push(i.a.createElement(i.a.Fragment,{key:null===t||void 0===t?void 0:t.id_ArticlesCategory},i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(m.a,{button:!0,className:U.categoryItem,key:null===t||void 0===t?void 0:t.id_ArticlesCategory,onClick:function(){F(),"Linee"==(null===t||void 0===t?void 0:t.description)?B.push():B.push("/ecommerce/category/".concat(null===t||void 0===t?void 0:t.categoryFullPathCode))}},i.a.createElement(p.a,{primary:null===t||void 0===t?void 0:t.description})),i.a.createElement(y.a,{onClick:function(){return I(Object(v.a)(Object(v.a)({},A),{},Object(n.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!A[null===t||void 0===t?void 0:t.id_ArticlesCategory])))}},A[null===t||void 0===t?void 0:t.id_ArticlesCategory]?i.a.createElement(C.a,null):i.a.createElement(S.a,null))),i.a.createElement(O.a,{in:!!A[null===t||void 0===t?void 0:t.id_ArticlesCategory],timeout:"auto",unmountOnExit:!0},i.a.createElement(d.a,{component:"div",disablePadding:!0,className:U.categoryNested},g))))}else o.push(i.a.createElement("div",{style:{display:"flex",flexDirection:"row"},key:null===t||void 0===t?void 0:t.id_ArticlesCategory},i.a.createElement(m.a,{button:!0,onClick:function(){F(),"all"!=(null===t||void 0===t?void 0:t.id_FeaturesRegistry)&&((null===t||void 0===t?void 0:t.id_FeaturesRegistry)?B.push("/ecommerce/home/".concat(null===t||void 0===t?void 0:t.id_FeaturesRegistry,"?description=").concat(null===t||void 0===t?void 0:t.description)):B.push("/ecommerce/category/".concat(null===t||void 0===t?void 0:t.categoryFullPathCode)))},key:null===t||void 0===t?void 0:t.id_ArticlesCategory,className:U.categoryItem},i.a.createElement(p.a,{primary:null===t||void 0===t?void 0:t.description})),void 0===_[null===t||void 0===t?void 0:t.id_ArticlesCategory]&&i.a.createElement(y.a,{onClick:function(){"Linee"==(null===t||void 0===t?void 0:t.description)?G().then((function(e){if((null===e||void 0===e?void 0:e.length)>0){var r=l.map((function(t){return"Linee"==t.description&&(t.subcategories=e),t}));a(r),I(Object(v.a)(Object(v.a)({},A),{},Object(n.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!0)))}})).catch(console.error):void 0===_[null===t||void 0===t?void 0:t.id_ArticlesCategory]&&M(null===t||void 0===t?void 0:t.id_ArticlesCategory).then((function(e){if((null===e||void 0===e?void 0:e.length)>0){var a=l.map((function(a){return a.id_ArticlesCategory===(null===t||void 0===t?void 0:t.id_ArticlesCategory)&&(a.subcategories=e),a}));s(a),I(Object(v.a)(Object(v.a)({},A),{},Object(n.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!0)))}L(Object(v.a)(Object(v.a)({},_),{},Object(n.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,(null===e||void 0===e?void 0:e.length)>0)))})).catch(console.error)}},i.a.createElement(S.a,null))));return o}(l):i.a.createElement("div",{className:U.loaderWrapper},i.a.createElement(j.a,null)))},I=a(56),D=a(147);t.a=function(e){var t=e.children,a=Object(r.useContext)(b.a),f=a.isOpen,v=a.toggle,q=a.close,E=Object(r.useContext)(h.b).sessionData,y=Object(r.useContext)(I.a).isAuth,O=E.user,j=Object(D.a)(),x=Object(l.a)((function(e){return{drawerOpen:{width:360,flexShrink:0},drawerClose:{width:e.spacing(7),flexShrink:0},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:360,flexShrink:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(n.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),drawerHeader:{height:e.spacing(7),paddingLeft:e.spacing(5),backgroundColor:e.palette.primary.main,display:"flex",alignItems:"center"},accountIcon:{color:e.palette.common.white},accountText:{marginLeft:e.spacing(1),color:e.palette.common.white},toolbar:e.mixins.toolbar,categoryItem:{paddingLeft:e.spacing(5)},categoryNested:{paddingLeft:e.spacing(2)}}}))();return i.a.createElement(o.a,{ModalProps:{onBackdropClick:v},className:f?x.drawerOpen:x.drawerClose,classes:{paper:f?x.drawerPaper:x.drawerPaperClose},open:f},i.a.createElement(s.a,y?{to:"/ecommerce/user/profile",component:u.b,onClick:function(){return q()}}:{onClick:function(){j(),v()}},i.a.createElement("div",{className:x.drawerHeader},i.a.createElement(g.a,{className:x.accountIcon}),i.a.createElement(c.a,{variant:"h6",className:x.accountText},"Ciao, ",y?O:"Accedi"))),i.a.createElement(d.a,null,i.a.createElement(m.a,{className:x.categoryItem},i.a.createElement(p.a,{secondary:"CATEGORIE"})),i.a.createElement(A,null)),t)}},97:function(e,t,a){"use strict";function n(e){var t=Number(e);return"".concat(Number.isNaN(t)?"-":t.toFixed(2).replace(".",",")," \u20ac")}a.d(t,"a",(function(){return n}))}},[[739,1,2]]]);