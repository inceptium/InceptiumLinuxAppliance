(this.webpackJsonpinceptium=this.webpackJsonpinceptium||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a=n(9),r=n(5),i=n(0),c=n.n(i),o=n(1086),s=n(464),l=n(371),u=n.n(l),d=n(128),p=n(77),b=n(19),j=n(231),m=n.n(j),h=n(681),f=n(390),O=n.n(f),g=n(1022),x=n(159),v=n(290),q=n(463),y=n(40),C=n(97),w=n(1088),S=n(7),N=n(301),T=n.n(N),P=n(58),k=(n(30),n(139)),A=n(140),I=n(1),D=Object(S.a)((function(e){return{badge:{right:-3,top:12,border:"2px solid ".concat(e.palette.primary.main),padding:"0 4px"}}}))(w.a),E=Object(p.a)((function(e){return{icon:{color:e.palette.common.white}}}));function R(){var e=E(),t=Object(i.useContext)(P.a).isAuth,n=Object(i.useContext)(A.a),a=n.userCart,r=n.toggle,c=Object(k.a)();return Object(I.jsx)(x.a,{title:"Visualizza carrello",children:Object(I.jsx)(d.a,{"aria-label":"cart",onClick:function(){return t?r():c()},children:Object(I.jsx)(D,{badgeContent:null===a||void 0===a?void 0:a.totalItems,color:"secondary",overlap:"rectangular",children:Object(I.jsx)(T.a,{className:e.icon})})})})}var L=n(54),_=n(49);function B(e){var t=e.children,n=(e.title,c.a.useContext(C.a).toggle),i=c.a.useState(null),l=Object(r.a)(i,2),j=l[0],f=l[1],w=Boolean(j),S=function(){return f(null)},N=c.a.useContext(P.a).isAuth,T=c.a.useContext(L.b).authEcommerce,A=c.a.useContext(P.a).settings,D=Object(k.a)(),E=Object(_.g)(),B=Object(p.a)((function(e){return{toolbar:{paddingRight:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(4)},menuButtonHidden:{display:"none"},grow:{flexGrow:1},search:Object(a.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(b.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.a)(e.palette.common.white,.25)},"&:focus":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(5),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(a.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:400,"&:focus":{width:500}}),appBarSpacer:e.mixins.toolbar,menu:{minWidth:150},menuIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}}))();return Object(I.jsx)(o.a,{elevation:0,position:"absolute",className:B.appBar,children:Object(I.jsxs)(s.a,{className:B.toolbar,children:[Object(I.jsx)(d.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,className:B.menuButton,children:Object(I.jsx)(u.a,{})}),Object(I.jsx)(g.a,{style:{maxHeight:48,width:"auto",objectFit:"contain",cursor:"pointer"},component:"img",alt:"",image:A.logo,title:"",onClick:function(){E.push("/ecommerce")}}),Object(I.jsxs)("div",{className:B.search,children:[Object(I.jsx)("div",{className:B.searchIcon,children:Object(I.jsx)(m.a,{})}),Object(I.jsx)(h.a,{placeholder:"Cerca prodotto per nome",classes:{root:B.inputRoot,input:B.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&E.push("/ecommerce/home/".concat(e.target.value))}})]}),Object(I.jsx)("div",{className:B.grow}),Object(I.jsx)(x.a,{title:"Profilo",children:Object(I.jsx)(d.a,{edge:"end","aria-label":"account of current user",color:"inherit",onClick:function(e){return f(e.currentTarget)},className:B.menuIcon,children:Object(I.jsx)(O.a,{})})}),Object(I.jsx)(v.a,{id:"fade-menu",anchorEl:j,keepMounted:!0,open:w,onClose:S,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:N?Object(I.jsxs)("div",{children:[Object(I.jsx)(q.a,{className:B.menu,component:y.b,to:"/ecommerce/user/orders",onClick:S,children:"I miei ordini"}),Object(I.jsx)(q.a,{className:B.menu,onClick:function(){T(!1,!0).catch(console.error).finally(S)},children:"Esci"})]}):Object(I.jsx)("div",{children:Object(I.jsx)(q.a,{className:B.menu,onClick:function(){D(),S()},children:"Accedi"})})}),Object(I.jsx)(R,{}),t]})})}},101:function(e,t,n){"use strict";var a=n(8),r=n(9),i=n(0),c=n.n(i),o=n(120),s=n(33),l=n(77),u=n(1043),d=n(40),p=n(1029),b=n(1030),j=n(561),m=n(390),h=n.n(m),f=n(97),O=n(54),g=n(48),x=n(5),v=n(128),q=n(1039),y=n(207),C=n(664),w=n.n(C),S=n(205),N=n.n(S),T=n(30),P=n(49),k=n(53),A=n(1),I=Object(l.a)((function(e){return{categoryItem:{paddingLeft:e.spacing(5)},categoryNested:{paddingLeft:e.spacing(2)},loaderWrapper:{textAlign:"center"}}})),D=function(){var e=Object(i.useState)([]),t=Object(x.a)(e,2),n=(t[0],t[1]),o=Object(i.useState)([]),s=Object(x.a)(o,2),l=s[0],u=s[1],d=Object(i.useState)(!1),m=Object(x.a)(d,2),h=m[0],O=m[1],C=Object(i.useState)({}),S=Object(x.a)(C,2),D=S[0],E=S[1],R=Object(i.useState)({}),L=Object(x.a)(R,2),_=L[0],B=L[1],F=Object(P.g)(),z=Object(k.a)(),U=Object(i.useContext)(f.a).toggle,W=I(),M=Object(T.a)(),G=M.getCategories,V=M.getFeaturesRegistry;Object(i.useEffect)((function(){G().then((function(e){Array.isArray(e)&&(null===e||void 0===e?void 0:e.length)>0?(e.push({id_FeaturesRegistry:"all",description:"Linee"}),u(e)):z("Categorie non disponibili","warning")})).finally((function(){return O(!0)}))}),[]);return Object(A.jsx)(A.Fragment,{children:h?function e(t){var i,o=[];if(Array.isArray(t)){var s,d=Object(g.a)(t);try{for(d.s();!(s=d.n()).done;){var m=s.value;o.push(e(m))}}catch(f){d.e(f)}finally{d.f()}return o}if(Array.isArray(null===t||void 0===t?void 0:t.subcategories)&&(null===t||void 0===t||null===(i=t.subcategories)||void 0===i?void 0:i.length)>0){var h=e(null===t||void 0===t?void 0:t.subcategories);o.push(Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(A.jsx)(b.a,{button:!0,className:W.categoryItem,onClick:function(){U(),"Linee"==(null===t||void 0===t?void 0:t.description)?F.push():F.push("/ecommerce/category/".concat(null===t||void 0===t?void 0:t.categoryFullPathCode))},children:Object(A.jsx)(j.a,{primary:null===t||void 0===t?void 0:t.description})},null===t||void 0===t?void 0:t.id_ArticlesCategory),Object(A.jsx)(v.a,{onClick:function(){return E(Object(a.a)(Object(a.a)({},D),{},Object(r.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!D[null===t||void 0===t?void 0:t.id_ArticlesCategory])))},children:D[null===t||void 0===t?void 0:t.id_ArticlesCategory]?Object(A.jsx)(w.a,{}):Object(A.jsx)(N.a,{})})]}),Object(A.jsx)(q.a,{in:!!D[null===t||void 0===t?void 0:t.id_ArticlesCategory],timeout:"auto",unmountOnExit:!0,children:Object(A.jsx)(p.a,{component:"div",disablePadding:!0,className:W.categoryNested,children:h})})]},null===t||void 0===t?void 0:t.id_ArticlesCategory))}else o.push(Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(A.jsx)(b.a,{button:!0,onClick:function(){U(),"all"!=(null===t||void 0===t?void 0:t.id_FeaturesRegistry)&&(null!==t&&void 0!==t&&t.id_FeaturesRegistry?F.push("/ecommerce/home/".concat(null===t||void 0===t?void 0:t.id_FeaturesRegistry,"?description=").concat(null===t||void 0===t?void 0:t.description)):F.push("/ecommerce/category/".concat(null===t||void 0===t?void 0:t.categoryFullPathCode)))},className:W.categoryItem,children:Object(A.jsx)(j.a,{primary:null===t||void 0===t?void 0:t.description})},null===t||void 0===t?void 0:t.id_ArticlesCategory),void 0===_[null===t||void 0===t?void 0:t.id_ArticlesCategory]&&Object(A.jsx)(v.a,{onClick:function(){"Linee"==(null===t||void 0===t?void 0:t.description)?V().then((function(e){if((null===e||void 0===e?void 0:e.length)>0){var i=l.map((function(t){return"Linee"==t.description&&(t.subcategories=e),t}));n(i),E(Object(a.a)(Object(a.a)({},D),{},Object(r.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!0)))}})).catch(console.error):void 0===_[null===t||void 0===t?void 0:t.id_ArticlesCategory]&&G(null===t||void 0===t?void 0:t.id_ArticlesCategory).then((function(e){if((null===e||void 0===e?void 0:e.length)>0){var n=l.map((function(n){return n.id_ArticlesCategory===(null===t||void 0===t?void 0:t.id_ArticlesCategory)&&(n.subcategories=e),n}));u(n),E(Object(a.a)(Object(a.a)({},D),{},Object(r.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,!0)))}B(Object(a.a)(Object(a.a)({},_),{},Object(r.a)({},null===t||void 0===t?void 0:t.id_ArticlesCategory,(null===e||void 0===e?void 0:e.length)>0)))})).catch(console.error)},children:Object(A.jsx)(N.a,{})})]},null===t||void 0===t?void 0:t.id_ArticlesCategory));return o}(l):Object(A.jsx)("div",{className:W.loaderWrapper,children:Object(A.jsx)(y.a,{})})})},E=n(58),R=n(139);t.a=function(e){var t=e.children,n=Object(i.useContext)(f.a),c=n.isOpen,m=n.toggle,g=n.close,x=Object(i.useContext)(O.b).sessionData,v=Object(i.useContext)(E.a).isAuth,q=x.user,y=Object(R.a)(),C=Object(l.a)((function(e){return{drawerOpen:{width:360,flexShrink:0},drawerClose:{width:e.spacing(7),flexShrink:0},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:360,flexShrink:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(r.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),drawerHeader:{height:e.spacing(7),paddingLeft:e.spacing(5),backgroundColor:e.palette.primary.main,display:"flex",alignItems:"center"},accountIcon:{color:e.palette.common.white},accountText:{marginLeft:e.spacing(1),color:e.palette.common.white},toolbar:e.mixins.toolbar,categoryItem:{paddingLeft:e.spacing(5)},categoryNested:{paddingLeft:e.spacing(2)}}}))();return Object(A.jsxs)(o.a,{ModalProps:{onBackdropClick:m},className:c?C.drawerOpen:C.drawerClose,classes:{paper:c?C.drawerPaper:C.drawerPaperClose},open:c,children:[Object(A.jsx)(u.a,Object(a.a)(Object(a.a)({},v?{to:"/ecommerce/user/profile",component:d.b,onClick:function(){return g()}}:{onClick:function(){y(),m()}}),{},{children:Object(A.jsxs)("div",{className:C.drawerHeader,children:[Object(A.jsx)(h.a,{className:C.accountIcon}),Object(A.jsxs)(s.a,{variant:"h6",className:C.accountText,children:["Ciao, ",v?q:"Accedi"]})]})})),Object(A.jsxs)(p.a,{children:[Object(A.jsx)(b.a,{className:C.categoryItem,children:Object(A.jsx)(j.a,{secondary:"CATEGORIE"})}),Object(A.jsx)(D,{})]}),t]})}},1015:function(e,t,n){},1016:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(28),c=n.n(i),o=n(1096),s=n(1090),l=n(40),u=n(49),d=n(209),p=n(1);var b=function(){return Object(p.jsx)("h2",{children:"404 - Page not found"})},j=n(8),m=n(5),h=n(297),f=n(1020),O=n(1021),g=n(1022),x=n(35),v=n(77),q=n(47),y=n(62),C=n(196),w=n.p+"static/media/logo.db0c59e0.png",S=n(54),N=n(30),T=n(53),P=n(370),k=n(128),A=n(639),I=n.n(A),D=n(638),E=n.n(D);var R=function(){var e,t,n=Object(a.useContext)(S.b),i=n.setData,c=n.isAuth,o=n.sessionData.inceptiumid,s=Object(N.a)(!0,!1).login,l=Object(T.a)(),d=Object(u.h)(),b=r.a.useState(!1),A=Object(m.a)(b,2),D=A[0],R=A[1],L=(null===d||void 0===d||null===(e=d.state)||void 0===e||null===(t=e.from)||void 0===t||t.pathname,Object(v.a)((function(e){return{wrapper:{minHeight:"100vh",backgroundColor:e.palette.primary.main},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardcontent:{padding:e.spacing(5)},media:{height:0,paddingTop:"34.25%"}}}))());return c?Object(p.jsx)(u.a,{to:{pathname:"/dashboard"}}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(q.b,{initialValues:{inceptiumid:localStorage.getItem("inceptiumid")||o,user:"",password:""},onSubmit:function(e,t){var n=t.setSubmitting,a=t.setErrors;s(e).then((function(t){n(!1),t.disabled?a("L'utente \xe8 disabilitato"):i(Object(j.a)(Object(j.a)({},e),t))})).catch((function(e){n(!1),a(e.error||e.message),l(e.message,"error")}))},validationSchema:y.a().shape({inceptiumid:y.c().required("InceptiumID \xe8 obbligatorio"),user:y.c().required("Nome utente/Email \xe8 obbligatorio"),password:y.c().required("Password \xe8 obbligatorio")}),children:function(e){var t=e.values,n=e.touched,a=e.errors,r=e.isSubmitting,i=e.handleChange,c=e.handleBlur,o=e.handleSubmit;return Object(p.jsx)(x.a,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",className:L.wrapper,children:Object(p.jsx)(x.a,{item:!0,xs:6,sm:3,style:{minWidth:"400px"},children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(O.a,{className:L.cardcontent,children:[Object(p.jsx)(g.a,{className:L.media,image:w}),Object(p.jsxs)("form",{className:L.form,onSubmit:o,children:[Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"inceptiumid",label:"Inceptium ID",onChange:i,onBlur:c,value:t.inceptiumid,helperText:a.inceptiumid&&n.inceptiumid&&a.inceptiumid,error:a.inceptiumid&&n.inceptiumid,disabled:r}),Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"user",label:"Nome Utente/Email",autoComplete:"user",onChange:i,onBlur:c,value:t.user,helperText:a.user&&n.user&&a.user,error:a.user&&n.user,disabled:r}),Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:D?"text":"password",id:"password",autoComplete:"current-password",onChange:i,onBlur:c,value:t.password,helperText:a.password&&n.password&&a.password,error:a.password&&n.password,disabled:r,InputProps:t.password.trim().length>0?{endAdornment:Object(p.jsx)(P.a,{position:"start",children:Object(p.jsx)(k.a,{onClick:function(){return R((function(e){return!e}))},children:D?Object(p.jsx)(E.a,{}):Object(p.jsx)(I.a,{})})})}:{}}),Object(p.jsx)("div",{className:L.submit,children:Object(p.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:r,isLoading:r,children:"Login"})}),Object(p.jsx)("div",{children:Object(p.jsx)("a",{target:"_blank",href:window.location.origin+"/inapi/invite/userrequest.html?inceptiumid="+localStorage.getItem("inceptiumid"),children:"Password Dimenticata ?"})})]})]})})})})}})})},L=n(97),_=n(640),B=Object(a.createContext)(),F=Object(_.a)(B.Consumer),z=B.Provider,U=n(228),W=n(355),M=n(683),G=n(9),V=n(1086),H=n(464),Q=n(371),X=n.n(Q),J=n(19),K=n(33),Y=n(231),Z=n.n(Y),$=n(681),ee=n(463),te=n(641),ne=n.n(te),ae=n(290),re=n(642),ie=n.n(re),ce=n(1085),oe=n(159),se=n(230),le=n.n(se),ue=n(408);function de(){var e="user-menu",t=r.a.useState(null),n=Object(m.a)(t,2),a=n[0],i=n[1],c=Boolean(a),o=r.a.useContext(S.b).logout,s=function(){i(null)},u=Object(v.a)((function(e){return{grow:{flexGrow:1},title:Object(G.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(G.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(G.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),paper:{width:e.spacing(30)}}}))(),d=Object(p.jsxs)(ae.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:e,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:s,PaperProps:{className:u.paper},children:[Object(p.jsx)(ee.a,{disabled:!0,children:Object(p.jsx)(S.a,{children:function(e){var t=e.sessionData,n=t.user,a=t.inceptiumid;return Object(p.jsxs)(K.a,{children:[a," - ",n]})}})}),Object(p.jsx)(ue.a,{}),Object(p.jsx)(F,{I:"manage",a:"User",children:function(){return Object(p.jsxs)(ee.a,{component:l.b,to:"/user/list",onClick:s,children:[Object(p.jsx)(ce.a,{children:Object(p.jsx)(ne.a,{})}),Object(p.jsx)(K.a,{variant:"inherit",children:"Gestione utenti"})]})}}),Object(p.jsxs)(ee.a,{onClick:function(){s(),o()},children:[Object(p.jsx)(ce.a,{children:Object(p.jsx)(ie.a,{})}),Object(p.jsx)(K.a,{variant:"inherit",children:"Logout"})]})]});return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:u.grow}),Object(p.jsx)("div",{className:u.sectionDesktop,children:Object(p.jsx)(oe.a,{title:"Menu utente",enterDelay:200,children:Object(p.jsx)(k.a,{edge:"end","aria-label":"user menu","aria-controls":e,"aria-haspopup":"true",onClick:function(e){return i(e.currentTarget)},color:"inherit",children:Object(p.jsx)(le.a,{})})})}),d]})}var pe=n(560),be=Object(v.a)({root:{flexGrow:1}});function je(){var e=be();return Object(a.useContext)(U.a).isLoading&&Object(p.jsx)("div",{className:e.root,children:Object(p.jsx)(pe.a,{color:"secondary"})})}function me(e){var t=e.children,n=e.title,a=r.a.useContext(L.a).toggle,i=Object(v.a)((function(e){return{toolbar:{paddingRight:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(4)},menuButtonHidden:{display:"none"},grow:{flexGrow:1},search:Object(G.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(J.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(J.a)(e.palette.common.white,.25)},"&:focus":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(5),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(G.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:200,"&:focus":{width:320}}),appBarSpacer:e.mixins.toolbar}}))();return Object(p.jsxs)(V.a,{elevation:0,position:"absolute",className:i.appBar,children:[Object(p.jsxs)(H.a,{className:i.toolbar,children:[Object(p.jsx)(k.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,className:i.menuButton,children:Object(p.jsx)(X.a,{})}),Object(p.jsx)(K.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:n}),Object(p.jsx)("div",{className:i.grow}),t,Object(p.jsxs)("div",{className:i.search,children:[Object(p.jsx)("div",{className:i.searchIcon,children:Object(p.jsx)(Z.a,{})}),Object(p.jsx)($.a,{placeholder:"Cerca\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"}})]}),Object(p.jsx)(de,{})]}),Object(p.jsx)(je,{})]})}var he=n(120),fe=n(644),Oe=n.n(fe),ge=n(1029),xe=n(1030),ve=n(561),qe=n(645),ye=n.n(qe),Ce=n(208);var we=function(e){var t=e.children,n=r.a.useContext(L.a),a=n.isOpen,i=n.favoriteInceptiumMaps,c=n.emptyInceptiumAppsFavorites,o=Object(v.a)((function(e){return{drawerOpen:{width:240,flexShrink:0},drawerClose:{width:e.spacing(7),flexShrink:0},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,flexShrink:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(G.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),toolbar:e.mixins.toolbar}}))();return Object(p.jsxs)(he.a,{variant:"permanent",className:a?o.drawerOpen:o.drawerClose,classes:{paper:a?o.drawerPaper:o.drawerPaperClose},open:a,children:[Object(p.jsx)("div",{className:o.toolbar}),Object(p.jsx)(ue.a,{}),Object(p.jsxs)(ge.a,{children:[Object(p.jsxs)(xe.a,{button:!0,component:l.b,to:"/dashboard",divider:!0,children:[Object(p.jsx)(ce.a,{children:Object(p.jsx)(Oe.a,{})}),Object(p.jsx)(ve.a,{disableTypography:!0,primary:Object(p.jsx)(K.a,{type:"body2",style:{fontWeight:"600"},children:"Dashboard"})})]},"dashboard"),i.map((function(e){return Object(p.jsx)(oe.a,{title:e.title,children:Object(p.jsxs)(xe.a,{button:!0,component:l.b,to:"/app/".concat(e.id),divider:!0,children:[Object(p.jsx)(ce.a,{children:Object(p.jsx)("img",{alt:"",src:e.image,style:{height:"30px",width:"30px",objectFit:"fill"}})}),Object(p.jsx)(ve.a,{disableTypography:!0,primary:Object(p.jsx)(K.a,{type:"body2",style:{fontWeight:"600"},children:Object(Ce.b)(e.title,15)})})]},e.id)},e.id)})),0!==i.length&&Object(p.jsx)(oe.a,{title:"Svuota",children:Object(p.jsxs)(xe.a,{button:!0,divider:!0,onClick:c,children:[Object(p.jsx)(ce.a,{children:Object(p.jsx)(ye.a,{})}),Object(p.jsx)(ve.a,{disableTypography:!0,primary:Object(p.jsx)(K.a,{type:"body2",style:{fontWeight:"bold",color:"red"},children:"Svuota Preferiti"})})]},"delete")})]}),t]})},Se=n(1087),Ne=n(1088),Te=Object(v.a)((function(e){return{media:{width:180,height:180,margin:"auto"},badge:{margin:e.spacing(2),width:"100%"},card:{padding:e.spacing(1)}}}));function Pe(e){var t=e.title,n=e.description,r=e.image,i=e.id,c=e.notifications,o=e.appVersion,s=Te(),u=Object(a.useContext)(L.a).handleNewFavoriteInceptiumMap;return Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,lg:4,children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(Se.a,{component:l.b,to:"/app/".concat(i),className:s.card,onClick:function(){u({title:t,image:r,id:i})},children:[Object(p.jsx)(g.a,{className:s.media,image:r,children:Object(p.jsx)(Ne.a,{className:s.badge,badgeContent:c,color:"error",overlap:"rectangular"})}),Object(p.jsxs)(O.a,{children:[Object(p.jsx)(K.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(p.jsx)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:o}),Object(p.jsx)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:n})]})]})})})}var ke=n.p+"static/media/app_icon.82a94199.png",Ae=(n(194),Object(v.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appSeparator:{minHeight:e.spacing(10)}}})));function Ie(){var e=Ae(),t=Object(N.a)().getApps,n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){t().then((function(e){console.log(e),c(e)})).catch(console.error)}),[]),Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(me,{title:"Dashboard"}),Object(p.jsx)(we,{}),Object(p.jsxs)("main",{className:e.content,children:[Object(p.jsx)("div",{className:e.appBarSpacer}),Object(p.jsx)("div",{className:e.appSeparator}),Object(p.jsx)(M.a,{maxWidth:"lg",className:e.container,children:Object(p.jsx)(x.a,{container:!0,spacing:3,children:null===i||void 0===i?void 0:i.map((function(e){return Object(p.jsx)(Pe,{id:e.class_path_name,title:e.app_name,appVersion:e.fullAppVersion,description:"".concat(e.developer," - ").concat(e.contact_mail),image:e.iconPath,notifications:e.numberOfNotification},e.class_path_name)}))})})]})]})}var De=n(10),Ee=n(21),Re=n(646),Le=n.n(Re),_e=n(647),Be=n.n(_e),Fe=n(232),ze=n(138),Ue=Object(v.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240}}}));function We(e){var t=Ue(),n=Object(N.a)(),r=n.getUsers,i=n.deleteUser,c=n.isLoading,o=Object(a.useState)(),s=Object(m.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(!1),b=Object(m.a)(d,2),j=b[0],h=b[1],f=Object(T.a)(),O=Object(a.useState)({id:"",username:""}),g=Object(m.a)(O,2),v=g[0],q=g[1],y=function(){r().then((function(e){return u(e)}))};Object(a.useEffect)(y,[]);var C=function(){var e=Object(Ee.a)(Object(De.a)().mark((function e(t){return Object(De.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t).then((function(){f("Utente cancellato"),y()})).catch((function(e){return f("Impossibile cancellare l'utente ".concat(t," ").concat(e.message),"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:t.root,children:[Object(p.jsx)(me,{title:"Gestione utenti"}),Object(p.jsx)(we,{}),Object(p.jsxs)("main",{className:t.content,children:[Object(p.jsx)("div",{className:t.appBarSpacer}),Object(p.jsx)(M.a,{maxWidth:"lg",className:t.container,children:Object(p.jsx)(x.a,{container:!0,spacing:3,children:Object(p.jsxs)(x.a,{item:!0,xs:12,children:[Object(p.jsx)(Fe.a,{isLoading:c,title:"Lista utenti",columns:[{title:"Utente",field:"username"},{title:"Nome e cognome",field:"fullName"},{title:"E-mail",field:"email"},{title:"Tipologia",field:"type"},{title:"Descrizione",field:"description"},{title:"Stato",field:"isOnline",render:function(e){return Object(p.jsx)("div",{children:e.isOnline?Object(p.jsx)(oe.a,{title:"Connesso",children:Object(p.jsx)(Le.a,{})}):Object(p.jsx)(oe.a,{title:"Disconnesso",children:Object(p.jsx)(Be.a,{})})})}}],data:l,actions:[{icon:"add",tooltip:"Aggiungi utente",isFreeAction:!0,onClick:function(){return e.history.push("/user/add")}},{icon:"edit",tooltip:"Modifica",onClick:function(t,n){var a=n.username;return e.history.push("/user/".concat(a,"/edit"))}},function(t){if("admin"!==t.username)return{icon:"list",tooltip:"Gestione permessi",onClick:function(t,n){var a=n.username;return e.history.push("/user/".concat(a,"/manage-permissions"))}}},function(e){if("admin"!==e.username)return{icon:"delete",tooltip:"Elimina",onClick:function(e,t){var n=t.id,a=t.username;h(!0),q({id:n,username:a})}}}]}),Object(p.jsx)(ze.a,{isOpen:j,handlePrimaryClose:function(){return h(!1)},handleSecondaryClose:function(){h(!1),C(v.id)},handleClose:function(){return h(!1)},title:"Attenzione",description:"Sei sicuro di voler eliminare l'utente ".concat(v.username,"?")})]})})})]})]})}var Me=n(4),Ge=n(475),Ve=n(460),He=n(461),Qe=n(462),Xe=["confirmPassword"],Je=Object(v.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},form:{marginTop:e.spacing(1),padding:e.spacing(2)},formControl:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},submitContainer:{display:"flex",justifyContent:"flex-end"}}}));function Ke(e){var t=e.match.params.username,n=Object(T.a)(),i=Je(),c=Object(u.g)(),o=Object(N.a)(),s=o.addUser,l=o.getUser,d=o.updateUser,b=o.isLoading,g=r.a.useRef(null),v=r.a.useState(0),w=Object(m.a)(v,2),S=w[0],P=w[1];r.a.useEffect((function(){g.current&&P(g.current.offsetWidth)}),[b]);var k=Object(a.useState)({username:"",name:"",surname:"",password:"",confirmPassword:"",email:"",type:"",description:""}),A=Object(m.a)(k,2),I=A[0],D=A[1];Object(a.useEffect)((function(){t&&l(t).then((function(e){D(Object(j.a)(Object(j.a)({},e),{},{confirmPassword:e.password}))}))}),[t]);var E=function(){var e=Object(Ee.a)(Object(De.a)().mark((function e(a,r){var i,o,l,u;return Object(De.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.setErrors,o=r.setSubmitting,a.confirmPassword,l=Object(Me.a)(a,Xe),e.prev=2,!t){e.next=13;break}if(u={username:t},Object.keys(I).forEach((function(e){l[e]!==I[e]&&(u[e]=l[e])})),delete u.confirmPassword,!u){e.next=11;break}return e.next=10,d(u);case 10:n("Utente aggiornato","success");case 11:e.next=16;break;case 13:return e.next=15,s(l);case 15:n("Utente aggiunto","success");case 16:c.push("/user/list"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),i(e.t0.error||e.t0.message),n(e.t0.message,"error"),o(!1);case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:i.root,children:[Object(p.jsx)(me,{title:"Gestione utenti"}),Object(p.jsx)(we,{}),Object(p.jsxs)("main",{className:i.content,children:[Object(p.jsx)("div",{className:i.appBarSpacer}),Object(p.jsx)(M.a,{maxWidth:"lg",className:i.container,children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(O.a,{className:i.cardcontent,children:[Object(p.jsxs)(K.a,{variant:"h6",gutterBottom:!0,children:[t?"Modifica":"Aggiungi"," utente"]}),Object(p.jsx)(q.b,{enableReinitialize:!0,initialValues:I,onSubmit:E,validationSchema:y.a().shape({username:y.c().required("Il nome utente \xe8 obbligatorio"),email:y.c().email("Inserire un indirizzo email valido"),password:y.c().required("Il campo password non pu\xf2 essere vuoto"),type:y.c().required("Specificare la tipologia di account"),confirmPassword:y.c().oneOf([y.b("password"),null],"Le password non coincidono").required("Il campo password non pu\xf2 essere vuoto")}),children:function(e){var t=e.values,n=e.touched,a=e.errors,r=e.isSubmitting,c=e.handleChange,o=e.handleBlur,s=e.handleSubmit;return Object(p.jsx)("form",{className:i.form,onSubmit:s,children:Object(p.jsxs)(x.a,{container:!0,spacing:3,children:[Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"username",label:"Nome utente",onChange:c,onBlur:o,inputProps:{form:{autocomplete:"off"}},value:t.username,helperText:a.username&&n.username&&a.username,error:a.username&&n.username,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsxs)(Ve.a,{variant:"outlined",className:i.formControl,fullWidth:!0,children:[Object(p.jsx)(He.a,{ref:g,htmlFor:"outlined-age-native-simple",children:"Tipologia account"}),Object(p.jsxs)(Ge.a,{native:!0,value:t.type,onChange:c,labelWidth:S,inputProps:{id:"type"},error:a.type&&n.type,disabled:r||b||"admin"===t.username,children:[Object(p.jsx)("option",{value:""}),Object(p.jsx)("option",{value:"admins",children:"Amministratore"}),Object(p.jsx)("option",{value:"users",children:"Utente"})]}),Object(p.jsx)(Qe.a,{error:!0,children:a.type&&n.type&&a.type})]})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"name",label:"Nome",onChange:c,onBlur:o,value:t.name,helperText:a.name&&n.name&&a.name,error:a.name&&n.name,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"surname",label:"Cognome",onChange:c,onBlur:o,value:t.surname,helperText:a.surname&&n.surname&&a.surname,error:a.surname&&n.surname,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",onChange:c,onBlur:o,value:t.password,helperText:a.password&&n.password&&a.password,error:a.password&&n.password,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Conferma Password",type:"password",id:"confirmPassword",onChange:c,onBlur:o,value:t.confirmPassword,helperText:a.confirmPassword&&n.confirmPassword&&a.confirmPassword,error:a.confirmPassword&&n.confirmPassword,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email",onChange:c,onBlur:o,inputProps:{form:{autocomplete:"off"}},value:t.email,helperText:a.email&&n.email&&a.email,error:a.email&&n.email,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"description",label:"Description",onChange:c,onBlur:o,value:t.description,helperText:a.description&&n.description&&a.description,error:a.description&&n.description,disabled:r||b})}),Object(p.jsx)(x.a,{item:!0,xs:12,sm:12,children:Object(p.jsx)("div",{className:i.submitContainer,children:Object(p.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:r||b,isLoading:r,children:"Salva"})})})]})})}})]})})})]})]})}var Ye=n(15),Ze=n(48),$e=n(144),et=n(378),tt=n(55),nt=Object(v.a)((function(e){return{badge:{marginLeft:e.spacing(1),marginRight:e.spacing(2)},badge_children:{marginLeft:e.spacing(2),marginRight:e.spacing(1)}}}));function at(e){var t=e.id,n=e.label,i=e.items,c=e.notification,o=nt(),s=r.a.useState(null),l=Object(m.a)(s,2),u=l[0],d=l[1],b=Object(a.useContext)(tt.a).dispatch,j=Boolean(u),h=function(){d(null)},f=Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ae.a,{anchorEl:u,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},id:t,keepMounted:!0,open:j,onClose:h,children:function e(t){var n=[];if(Array.isArray(t)){var a,i=Object(Ze.a)(t);try{for(i.s();!(a=i.n()).done;){var c=a.value;n.push(e(c))}}catch(l){i.e(l)}finally{i.f()}return n}if(Array.isArray(t.children)&&t.children.length>0){var s=e(t.children);n.push(r.a.createElement(et.a,{label:Object(p.jsxs)(p.Fragment,{children:[t.menuName,t.numberOfNotification>0&&Object(p.jsx)(Ne.a,{overlap:"rectangular",className:o.badge_children,badgeContent:t.numberOfNotification,color:"error"})]}),parentMenuOpen:!!u},s))}else n.push(Object(p.jsxs)(ee.a,{disabled:!t.actionEvent,onClick:function(){b(t.actionEvent),h()},children:[t.icon?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(K.a,{variant:"inherit",children:t.menuName})}):t.menuName,t.numberOfNotification>0&&Object(p.jsx)(Ne.a,{overlap:"rectangular",className:o.badge_children,badgeContent:t.numberOfNotification,color:"error"})]},t.id_menu));return n}(i)})});return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)($e.a,{color:"inherit",onClick:function(e){return d(e.currentTarget)},children:n}),f,c>0&&Object(p.jsx)(Ne.a,{className:o.badge,badgeContent:c,color:"error",overlap:"rectangular"})]})}var rt=n(473),it=n(237),ct=n(221),ot=n(115),st=n(379),lt=n(243);n(615);function ut(e){var t=e.appClass,n=e.url,r=e.onDragStart,i=e.containerRef,c=e.zIndex,o=(e.children,Object(a.useState)(null)),s=Object(m.a)(o,2),l=s[0],u=s[1],d=Object(a.useContext)(tt.a).setComponentData,b=Object(a.useState)([]),h=Object(m.a)(b,2),f=h[0],O=h[1],g=Object(N.a)().get;if(Object(a.useEffect)((function(){return function(){if("function"===typeof d){console.log("Clearing autolayout aliases");var e,t=Object(Ze.a)(f);try{var n=function(){var t=e.value;d((function(e){var n=Object(j.a)({},e);return delete n[t],n}))};for(t.s();!(e=t.n()).done;)n()}catch(a){t.e(a)}finally{t.f()}}}}),[f]),Object(a.useEffect)((function(){function e(){return(e=Object(Ee.a)(Object(De.a)().mark((function e(){var t,a,r;return Object(De.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(n);case 3:t=e.sent,a=Object(lt.a)(t),r=[],rt.a.deepForEach(a,(function(e){return e.props.aliasName&&r.push(e.props.aliasName)})),console.log("Autolayout ALIASES",r),O(r),u(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),u(Object(p.jsx)(ot.a,{children:Object(p.jsxs)(it.a,{componentAlign:"center",children:[Object(p.jsx)(K.a,{component:"h5",color:"error",children:"Errore durante la creazione del layout"}),Object(p.jsx)(K.a,{variant:"body2",children:e.t0.message})]})}));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),!t||!n)return console.warn("No app class supplied"),Object(p.jsx)(p.Fragment,{});if(Array.isArray(l)&&l.length>1)throw new Error("Invalid layout structure: there must be only one container at most");return l?Object(p.jsx)(st.b,{appClass:t,onDragStart:r,containerRef:i,zIndex:c,children:l}):Object(p.jsx)(ct.a,{})}var dt=n(236),pt=n(663),bt=n(241),jt=(n(99),Object(v.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",overflowX:"hidden"},container:Object(G.a)({height:"calc(100vh - 64px)",width:"calc(100vw - ".concat(e.spacing(7),"px)")},e.breakpoints.up("sm"),{height:"calc(100vh - ".concat(e.mixins.toolbar[e.breakpoints.up("sm")].minHeight,"px)")})}}))),mt={};function ht(e){var t=e.match,n=jt(),r=Object(a.useState)(!1),i=Object(m.a)(r,2),c=i[0],o=i[1],s=Object(N.a)(),l=s.startApp,u=s.executeCommand,d=Object(a.useState)({title:"Caricamento...",menu:[]}),b=Object(m.a)(d,2),j=b[0],h=b[1],f=Object(T.a)(),O=Object(a.useCallback)((function(e,t){if(!t)return console.error("Cannot handle empty action"),e;console.log("Handling action",t);var n=t.actionType,a=t.urlToCall,r=t.appClass,i=t.parentIsAlreadyRendered,c=t.jsonToHandle;switch(console.log(n),n){case"SHOW_COMPONENT":if(i){var s=Object(lt.a)(c);t.generatedLayout=s;break}if(!e.find((function(e){return e.appClass===t.strClassToCall}))){var l=Math.max.apply(Math,Object(Ye.a)(Object.values(mt)).concat([0]));return[].concat(Object(Ye.a)(e),[{appClass:t.strClassToCall,url:t.urlToCall,zIndex:mt[t.strClassToCall]||l+1}])}break;case"CLOSE_COMPONENT":return delete mt[r],e.filter((function(e){return e.appClass!==r}));case"EXECUTE_COMMAND":var d=t.data,p=t.waitForEnd;o(!0),u(a,d,p).then((function(e){p?e.newEventFromTask&&q(e.newEventFromTask):f("Operazione in esecuzione in background.","success")})).catch((function(e){return f("Errore durante l'esecuzione del comando","error")})).finally((function(){return o(!1)}));break;case"OPEN_URL":return t.openInNewFrame?[].concat(Object(Ye.a)(e),[{type:"modalFrame",appClass:a,height:t.frameHeight,url:a}]):(window.open(a,"_blank"),e);default:console.error("Invalid action type")}return e}),[]),g=Object(a.useReducer)(O,[]),x=Object(m.a)(g,2),v=x[0],q=x[1],y=Object(a.useRef)({prevDraggedNode:null}),C=Object(a.useRef)(),w=t.params.id;return console.log("Loading app",w),Object(a.useEffect)((function(){l(w).then((function(e){console.log("Application loaded",e),h({title:e.app_name,menu:e.menu}),e.newevent&&q(e.newevent)})).catch((function(e){return console.log("Failed to start app",e)}))}),[w]),Object(p.jsxs)("div",{className:n.root,children:[Object(p.jsx)(bt.a,{open:c}),Object(p.jsxs)(tt.b,{dispatch:q,children:[Object(p.jsx)(me,{title:j.title,children:j.menu.map((function(e){return Object(p.jsx)(at,{id:e.id_menu,label:e.menuName,items:e.children,notification:e.numberOfNotification},e.id_menu)}))}),Object(p.jsx)(we,{}),Object(p.jsxs)("main",{className:n.content,children:[Object(p.jsx)("div",{className:n.appBarSpacer}),Object(p.jsx)("div",{className:n.container,ref:C,children:Object(p.jsx)(p.Fragment,{children:v.map((function(e,t){var n=e.appClass,a=e.url,r=e.type,i=e.height,c=e.zIndex;return"modalFrame"===r?Object(p.jsx)(dt.a,{isOpen:!0,fullWidth:!0,maxWidth:"xl",handleClose:function(){return q({actionType:"CLOSE_COMPONENT",appClass:a})},children:Object(p.jsx)(pt.a,{id:t,url:a,height:i||"950px"})},t):Object(p.jsx)(ut,{appClass:n,url:a,containerRef:C,zIndex:c,onDragStart:function(e,t){var a=y.current;if(a.prevDraggedNode){if((null===a||void 0===a?void 0:a.prevDraggedNode)!==t.node){a.prevDraggedNode=t.node;var r=Math.max.apply(Math,Object(Ye.a)(Object.values(mt)).concat([0]))+1;a.prevDraggedNode.style.zIndex=r,mt[n]=r}}else a.prevDraggedNode=t.node}},t)}))})})]})]})]})}var ft=n(398),Ot=n(474),gt=Object(v.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},row:{display:"flex"},appIcon:{height:e.spacing(5),marginTop:"7px",marginBottom:"7px",marginLeft:e.spacing(1),marginRight:e.spacing(2)}}}));function xt(e){var t=e.match,n=e.history,r=gt(),i=t.params.username,c=Object(a.useState)([]),o=Object(m.a)(c,2),s=o[0],l=o[1],u=Object(N.a)(),d=u.getApps,b=u.isLoading;return Object(a.useEffect)((function(){d().then((function(e){var t,n=Object(Ze.a)(e);try{for(n.s();!(t=n.n()).done;)t.value.permit=Math.random()>=.5}catch(a){n.e(a)}finally{n.f()}l(e)})).catch(console.error)}),[]),Object(p.jsxs)("div",{className:r.root,children:[Object(p.jsx)(me,{title:"Gestione permessi"}),Object(p.jsx)(we,{}),Object(p.jsxs)("main",{className:r.content,children:[Object(p.jsx)("div",{className:r.appBarSpacer}),Object(p.jsx)(M.a,{maxWidth:"lg",className:r.container,children:Object(p.jsx)(x.a,{container:!0,spacing:3,children:Object(p.jsx)(x.a,{item:!0,xs:12,children:Object(p.jsx)(Fe.a,{title:"Permessi utente: ".concat(i),isLoading:b,actions:[{icon:"save",tooltip:"Salva modifiche",isFreeAction:!0,onClick:function(){return n.push("/user/list")}}],columns:[{title:"Applicazione",field:"app_name",render:function(e){return Object(p.jsxs)("div",{className:r.row,children:[Object(p.jsx)("img",{src:ke,className:r.appIcon,alt:""}),Object(p.jsx)("p",{children:e.app_name})]})}},{title:"Consenti",field:"permit",render:function(e){return Object(p.jsx)(Ot.a,{checked:e.permit,onChange:function(){},value:"primary",inputProps:{"aria-label":"primary checkbox"}})}}],data:s,options:{search:!1}})})})})]})]})}var vt=n(207),qt=n(100),yt=n(101),Ct=n(245),wt=n(1099),St=n(242),Nt=Object(v.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(4),height:"100%"},productsContainer:{marginTop:e.spacing(0)},appSeparator:{minHeight:e.spacing(10)},paginationContainer:{marginTop:e.spacing(6),"& > *":{marginTop:e.spacing(2),justifyContent:"center",display:"flex"}}}})),Tt="",Pt=function(){var e=Object(u.h)(),t=Object(u.g)(),n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(m.a)(o,2),l=s[0],d=(s[1],Object(a.useState)(!0)),b=Object(m.a)(d,2),h=b[0],f=b[1],O=Object(a.useState)([]),g=Object(m.a)(O,2),v=(g[0],g[1],Object(a.useState)({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})),q=Object(m.a)(v,2),y=q[0],C=q[1],w=Nt(),S=Object(u.i)().id,T=new URLSearchParams(e.search).get("description"),P=Object(N.a)(),k=P.getProductsByName;P.getCategory;return Object(a.useEffect)((function(){C({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})}),[e.search]),Object(a.useEffect)((function(){f(!0),k(S,{recordForPage:32,page:y.currentPage}).then((function(e){var t,n;Array.isArray(e)&&(C(Object(j.a)(Object(j.a)({},y),{},{totalPages:null!==(t=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.totPage)&&void 0!==t?t:1})),c(e))})).catch(console.error).finally((function(){return f(!1)}))}),[S,y.currentPage]),l?Object(p.jsx)(St.a,{}):Object(p.jsxs)("div",{className:w.root,children:[Object(p.jsx)(qt.a,{title:"Home"}),Object(p.jsx)(yt.a,{}),Object(p.jsxs)("main",{className:w.content,children:[Object(p.jsx)("div",{className:w.appBarSpacer}),Object(p.jsx)("div",{className:w.appSeparator,children:Object(p.jsx)(K.a,{style:{textAlign:"center",paddingTop:"30px",paddingBottom:"20px",color:"#1386bf",fontSize:"30pt"},children:T})}),Object(p.jsx)(M.a,{maxWidth:"lg",className:w.container,children:Object(p.jsxs)(p.Fragment,{children:[h?Object(p.jsx)(ot.a,{children:Object(p.jsx)(vt.a,{})}):null,Object(p.jsx)(x.a,{container:!0,spacing:3,className:w.productsContainer,children:i.map((function(e){return Object(p.jsxs)(x.a,{item:!0,children:[(t=e.categoryFullPathDescription,Tt!=t&&(Tt=t,1)?Object(p.jsx)(K.a,{style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"},children:e.categoryFullPathDescription}):Object(p.jsx)(K.a,{style:{paddingTop:"20px",paddingBottom:"5px",color:"#83a2a8",fontSize:"10pt"},children:e.categoryFullPathDescription})),Object(p.jsx)(Ct.a,{title:e.description,price:e.sellingPriceTotVat,available:!0,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,hasSizeAndColors:!!e.sizesAndColors,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot})]},e.id_ArticlesRegistry);var t}))}),Object(p.jsx)("div",{className:w.paginationContainer,children:Object(p.jsx)(wt.a,{size:"large",count:y.totalPages,page:y.currentPage,onChange:function(n,a){t.push({pathname:e.pathname,search:"?".concat(new URLSearchParams({page:a}).toString())})}})})]})})]})]})},kt=n(58),At=n(140),It=Object(v.a)((function(e){return{form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Dt=function(){var e=Object(a.useContext)(kt.a),t=e.showLoginDialog,n=e.setShowLoginDialog,r=Object(a.useContext)(S.b),i=r.sessionData,c=r.setData,o=Object(N.a)().login,s=function(){return n(!1)},l=It(),u=Object(T.a)();return Object(p.jsx)(q.b,{initialValues:{user:"",password:""},validationSchema:y.a().shape({user:y.c().required("Inserire il nome utente"),password:y.c().required("Inserire una password")}),enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting,a=t.setErrors,r=Object(j.a)(Object(j.a)({},e),{},{inceptiumid:i.inceptiumid});o(r).then((function(e){c(Object(j.a)(Object(j.a)({},r),e)),s()})).catch((function(e){a(e.error||e.message),u(e.message,"error")})).finally((function(){return n(!1)}))},children:function(e){var n=e.values,a=e.errors,r=e.handleChange,i=e.handleBlur,c=e.touched,o=e.isSubmitting,u=e.submitForm,d=e.handleSubmit;return Object(p.jsx)(ze.a,{isOpen:t,title:"Effettua l'accesso",primaryButtonText:"Accedi",primaryButtonDisabled:o,secondaryButtonText:"Annulla",secondaryButtonDisabled:o,handlePrimaryClose:u,handleSecondaryClose:s,handleClose:s,children:Object(p.jsxs)("form",{className:l.form,onSubmit:d,children:[Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"user",label:"Nome Utente",autoComplete:"user",onChange:r,onBlur:i,value:n.user,helperText:a.user&&c.user&&a.user,error:a.user&&c.user,disabled:o}),Object(p.jsx)(h.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:r,onBlur:i,value:n.password,helperText:a.password&&c.password&&a.password,error:a.password&&c.password,disabled:o})]})})}})},Et=n(179),Rt=n(1045),Lt=n(1043),_t=n(472),Bt=n.n(_t),Ft=Object(v.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100%"},productsContainer:{marginTop:e.spacing(4)},greyText:{color:Et.a[600]},emptyCategoryIcon:{fontSize:100,color:Et.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)},paginationContainer:{marginTop:e.spacing(6),"& > *":{marginTop:e.spacing(2),justifyContent:"center",display:"flex"}}}}));function zt(){var e=Object(u.h)(),t=Object(u.g)(),n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(m.a)(o,2),d=s[0],b=s[1],h=Object(a.useState)(!0),f=Object(m.a)(h,2),O=f[0],g=f[1],v=Object(a.useState)([]),q=Object(m.a)(v,2),y=q[0],C=q[1],w=Object(a.useState)({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1}),S=Object(m.a)(w,2),T=S[0],P=S[1],k=Ft(),A=Object(u.i)().id,I=Object(N.a)(),D=I.getProducts,E=I.getCategory;return Object(a.useEffect)((function(){P({currentPage:parseInt(new URLSearchParams(e.search).get("page")||1,10),totalPages:1})}),[e.search]),Object(a.useEffect)((function(){g(!0),E(A).then((function(e){var t,n;if("string"!==typeof e||0!==e.length){var a=null!==(t=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.categoryFullPathDescription)&&void 0!==t?t:"";C(a.split("/"))}else b(!0)})),D(A,{recordForPage:20,page:T.currentPage}).then((function(e){var t,n;Array.isArray(e)&&(P(Object(j.a)(Object(j.a)({},T),{},{totalPages:null!==(t=null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.totPage)&&void 0!==t?t:1})),c(e))})).catch(console.error).finally((function(){return g(!1)}))}),[A,T.currentPage]),d?Object(p.jsx)(St.a,{}):Object(p.jsxs)("div",{className:k.root,children:[Object(p.jsx)(qt.a,{title:"Categoria"}),Object(p.jsx)(yt.a,{}),Object(p.jsxs)("main",{className:k.content,children:[Object(p.jsx)("div",{className:k.appBarSpacer}),Object(p.jsxs)(M.a,{maxWidth:"lg",className:k.container,children:[Object(p.jsxs)(Rt.a,{"aria-label":"breadcrumb",children:[Object(p.jsx)(Lt.a,{color:"inherit",to:"/ecommerce/home",component:l.b,children:"Home"}),y.map((function(e,t){return Object(p.jsx)(K.a,{color:t===y.length-1?"textPrimary":"textSecondary",style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"},children:e},t)}))]}),O?Object(p.jsx)(ot.a,{children:Object(p.jsx)(vt.a,{})}):i.length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{container:!0,spacing:3,className:k.productsContainer,children:i.map((function(e){return Object(p.jsx)(x.a,{item:!0,children:Object(p.jsx)(Ct.a,{title:e.description,price:e.sellingPriceTotVat,available:!0,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,hasSizeAndColors:!!e.sizesAndColors,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot})},e.id_ArticlesRegistry)}))}),Object(p.jsx)("div",{className:k.paginationContainer,children:Object(p.jsx)(wt.a,{size:"large",count:T.totalPages,page:T.currentPage,onChange:function(n,a){t.push({pathname:e.pathname,search:"?".concat(new URLSearchParams({page:a}).toString())})}})})]}):Object(p.jsxs)("div",{className:k.emptyContentContainer,children:[Object(p.jsx)(Bt.a,{className:k.emptyCategoryIcon}),Object(p.jsx)(K.a,{variant:"subtitle1",className:k.greyText,children:"Non ci sono prodotti in questa categoria."})]})]})]})]})}var Ut=n(666),Wt=n(389),Mt=n(1093),Gt=n(1095),Vt=n(180),Ht=n(1094),Qt=n(1025),Xt=n(571),Jt=n(469),Kt=n(1101),Yt=n(205),Zt=n.n(Yt),$t=n(671),en=n.n($t),tn=Object(v.a)((function(e){return{spinner:{position:"absolute",margin:"-16px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},primaryText:{color:e.palette.text.primary},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(14),color:e.palette.text.secondary},imageContainer:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function nn(e){var t,n=e.expanded,r=e.handleSelect,i=e.handleChange,c=e.addresses,o=e.selectedAddressId,s=e.userData,l=Object(a.useState)(!1),u=Object(m.a)(l,2),d=u[0],b=u[1],j=tn(),h=null===(t=c.filter((function(e){return e.id===o})))||void 0===t?void 0:t[0];return Object(p.jsxs)(Mt.a,{expanded:n,onChange:i("addressPanel"),children:[Object(p.jsx)(Gt.a,{expandIcon:Object(p.jsx)(Zt.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{alignItems:"center"},children:Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center",flexGrow:1},children:[Object(p.jsxs)("div",{style:{flexBasis:"33.33%",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)("div",{className:j.imageContainer,children:Object(p.jsx)(en.a,{})}),Object(p.jsx)(K.a,{className:j.heading,children:"Indirizzo di consegna"})]}),Object(p.jsx)(K.a,{component:"div",className:j.secondaryHeading,children:h&&Object(p.jsxs)(K.a,{component:"div",children:[Object(p.jsx)(Vt.a,{fontWeight:"fontWeightRegular",className:j.primaryText,children:s.fullName||""}),h.address||"",Object(p.jsx)("br",{}),"".concat(h.postalCode||""," ").concat(h.city||""," ").concat(h.province||""," - ").concat(h.nation||""),Object(p.jsx)("br",{}),s.phoneNumber||""]})})]})}),Object(p.jsxs)(Ht.a,{style:{position:"relative"},children:[d&&Object(p.jsx)("div",{className:j.spinner,children:Object(p.jsx)(vt.a,{})}),Object(p.jsxs)(Ve.a,{component:"fieldset",disabled:d,children:[Object(p.jsx)(Qt.a,{component:"legend",children:"Altri indirizzi"}),Object(p.jsx)(Xt.a,{"aria-label":"address",name:"address",value:null!==o&&void 0!==o?o:-1,onChange:function(e){b(!0),r(e.target.value).finally((function(){return b(!1)}))},children:c.map((function(e){return Object(p.jsx)(Jt.a,{value:e.id,control:Object(p.jsx)(Kt.a,{}),style:{marginTop:"16px"},label:Object(p.jsxs)(K.a,{component:"div",className:j.secondaryHeading,children:[Object(p.jsx)(Vt.a,{fontWeight:"fontWeightRegular",className:j.primaryText,children:s.fullName}),e.address,Object(p.jsx)("br",{}),"".concat(e.postalCode," ").concat(e.city," ").concat(e.province," - ").concat(e.nation),Object(p.jsx)("br",{}),s.phoneNumber]})},e.id)}))})]})]})]})}var an=n(672),rn=n.n(an),cn=Object(v.a)((function(e){return{spinner:{position:"absolute",margin:"-16px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},primaryText:{color:e.palette.text.primary},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},imageContainer:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function on(e){var t,n=e.expanded,r=e.handleSelect,i=e.handleChange,c=e.payments,o=e.selectedPaymentId,s=Object(a.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],b=cn(),j=null===(t=c.filter((function(e){return e.id===o})))||void 0===t?void 0:t[0];return Object(p.jsxs)(Mt.a,{expanded:u||n,onChange:i("paymentPanel"),children:[Object(p.jsx)(Gt.a,{expandIcon:Object(p.jsx)(Zt.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",style:{alignItems:"center"},children:Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center",flexGrow:1},children:[Object(p.jsxs)("div",{style:{flexBasis:"33.33%",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)("div",{className:b.imageContainer,children:Object(p.jsx)(rn.a,{})}),Object(p.jsx)(K.a,{className:b.heading,children:"Modalit\xe0 di pagamento"})]}),Object(p.jsx)(K.a,{component:"div",className:b.secondaryHeading,children:j&&Object(p.jsx)(K.a,{component:"div",children:Object(p.jsx)(Vt.a,{fontWeight:"fontWeightRegular",className:b.primaryText,children:j.label})})})]})}),Object(p.jsxs)(Ht.a,{style:{position:"relative"},children:[u&&Object(p.jsx)("div",{className:b.spinner,children:Object(p.jsx)(vt.a,{})}),Object(p.jsxs)(Ve.a,{component:"fieldset",disabled:u,children:[Object(p.jsx)(Qt.a,{component:"legend",children:"Seleziona la modalit\xe0 di pagamento"}),Object(p.jsx)(Xt.a,{"aria-label":"payment",name:"payment",value:null!==o&&void 0!==o?o:-1,onChange:function(e){d(!0),r(e.target.value).finally((function(){return d(!1)}))},children:c.map((function(e){return Object(p.jsx)(Jt.a,{value:e.id,control:Object(p.jsx)(Kt.a,{}),style:{marginTop:"8px"},label:Object(p.jsx)(K.a,{children:e.label})},e.id)}))})]})]})]})}var sn=n(103),ln=n(392),un=Object(v.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},title:{fontSize:14},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},greyText:{color:e.palette.text.secondary},emptyCategoryIcon:{fontSize:100,color:Et.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)},verticalPadding:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},orderTotal:{fontSize:e.typography.pxToRem(15)},stickyCard:{position:"sticky",top:"90px"}}}));function dn(){var e,t,n=un(),i=Object(a.useContext)(At.a),c=i.userCart,o=i.updateProductQty,s=i.isOpen,l=i.placeOrder,d=Object(a.useState)(!0),b=Object(m.a)(d,2),h=b[0],g=b[1],x=Object(a.useState)([]),v=Object(m.a)(x,2),q=v[0],y=v[1],C=Object(a.useState)([]),w=Object(m.a)(C,2),S=w[0],T=w[1],P=Object(a.useState)([]),k=Object(m.a)(P,2),A=k[0],I=k[1],D=Object(a.useState)({}),E=Object(m.a)(D,2),R=E[0],L=E[1],_=Object(a.useState)({}),B=Object(m.a)(_,2),F=B[0],z=B[1],U=Object(a.useState)(!1),W=Object(m.a)(U,2),G=W[0],V=W[1],H=Object(u.g)(),Q=Object(N.a)(),X=Q.getUserData,J=Q.getUserShippingAddresses,Y=Q.getPaymentMethods,Z=Q.getCartList,$=Q.getUserCart,ee=Q.updateCartPaymentMethod,te=Q.updateCartShippingAddress,ne=function(e){return function(t,n){V(!!n&&e)}};Object(a.useEffect)((function(){h||s||(g(!0),ie(c.userId).finally((function(){return g(!1)})))}),[s,c.userId]);var ae=function(){var e=Object(Ee.a)(Object(De.a)().mark((function e(){var t,n,a,r,i,c;return Object(De.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:return t=e.sent,n=t.codPaymentType||void 0,a=t.id_PersonShippingAddress||void 0,r=t.cartTotalPrice,i=t.cartTotalPriceVAT,c=t.cartTotalVAT,z({paymentId:n,addressId:a,noVATtotalPrice:r,wVATtotalPrice:i,totalVAT:c}),e.abrupt("return",{paymentId:n,addressId:a});case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(Ee.a)(Object(De.a)().mark((function e(){var t;return Object(De.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(null===c||void 0===c?void 0:c.id);case 2:if(t=e.sent,!(Array.isArray(t)&&t.length>0)){e.next=7;break}I(t.map((function(e){return{productId:e.codTot,quantity:e.cartQuantity,title:e.basicDescription,imageURL:e.imageURL,price:e.articlePriceTotVat,cartProductId:e.id_UserCartList,option:e.basicSizeDes,variant:e.basicColorDes,hasOptionVariant:!!e.sizeAndColors,rawProduct:e}}))),e.next=10;break;case 7:if(!Array.isArray(A)||0!==A.length){e.next=10;break}return H.push("/ecommerce/home"),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(Ee.a)(Object(De.a)().mark((function e(t){var n,a,r,i,c,o,s,l;return Object(De.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("Aborting request due to empty userId"),e.abrupt("return");case 3:return e.prev=3,e.next=6,ae();case 6:return n=e.sent,a=n.paymentId,r=n.addressId,e.next=11,X(t);case 11:return i=e.sent,L({fullName:"".concat(i.personName," ").concat(i.personSurname),phoneNumber:i.phoneNumber,email:i.emailAddress}),c={id:"-1",city:i.residenceCity,nation:i.residenceNation,postalCode:i.residencePostalCode,province:i.residenceProvince,address:i.residenceStreet},e.next=16,J(t);case 16:return o=e.sent,s=o.map((function(e){return{id:e.id_PersonShippingAddress,city:e.shippingCity,nation:e.shippingNation,postalCode:e.shippingPostalCode,province:e.shippingProvice,address:e.shippingStreet}})),y([c].concat(Object(Ye.a)(s))),e.next=21,Y();case 21:return l=e.sent,T(l.map((function(e){return{id:e.codPaymentType,label:e.paymentTypedescription}}))),e.next=25,re();case 25:if(void 0!==r){e.next=28;break}return V("addressPanel"),e.abrupt("return");case 28:if(void 0!==a){e.next=31;break}return V("paymentPanel"),e.abrupt("return");case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),console.error(e.t0);case 36:case"end":return e.stop()}}),e,null,[[3,33]])})));return function(t){return e.apply(this,arguments)}}();null===(e=q.filter((function(e){return e.id===F.addressId})))||void 0===e||e[0],null===(t=S.filter((function(e){return e.id===F.paymentId})))||void 0===t||t[0];Object(a.useEffect)((function(){ie(c.userId).catch(console.error).finally((function(){return g(!1)}))}),[]);var ce=function(){g(!0),l().then((function(){return H.push("/ecommerce/home")})).catch((function(e){return g(!1)}))};return Object(p.jsxs)("div",{className:n.root,children:[Object(p.jsx)(qt.a,{title:"Completa l'ordine"}),Object(p.jsx)(yt.a,{}),Object(p.jsxs)("main",{className:n.content,children:[Object(p.jsx)("div",{className:n.appBarSpacer}),Object(p.jsxs)(M.a,{maxWidth:"lg",className:n.container,children:[h&&Object(p.jsx)(ln.a,{}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column"},className:n.productsContainer,children:[Object(p.jsx)("div",{className:n.verticalPadding,children:Object(p.jsx)(K.a,{variant:"body1",children:"Riepilogo ordine"})}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:3},children:[Object(p.jsx)(nn,{expanded:"addressPanel"===G,handleSelect:function(e){return te(e).then((function(){return ae()})).then((function(){void 0===F.paymentId?V("paymentPanel"):V(!1)}))},handleChange:ne,addresses:q,userData:R,selectedAddressId:F.addressId}),Object(p.jsx)(on,{expanded:"paymentPanel"===G,handleSelect:function(e){return ee(e).then((function(){return ae()})).then((function(){void 0===F.addressId?V("addressPanel"):V(!1)}))},handleChange:ne,payments:S,selectedPaymentId:F.paymentId}),Object(p.jsxs)("div",{className:n.verticalPadding,children:[Object(p.jsx)(K.a,{variant:"body1",style:{paddingTop:"8px",paddingBottom:"8px"},children:"Elenco articoli"}),Object(p.jsx)(f.a,{className:n.root,children:Object(p.jsx)(O.a,{children:A.map((function(e,t){return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(Wt.a,Object(j.a)(Object(j.a)({},e),{},{deleteProduct:!1,handleUpdateProductQty:function(t){return function(e,t){return o(Object(j.a)(Object(j.a)({},e),{},{cartQuantity:t})).then((function(){return ae()})).then((function(){return re()}))}(e.rawProduct,t)}})),t!==A.length-1&&Object(p.jsx)(ue.a,{style:{width:"90%"}})]},e.cartProductId)}))})})]}),Object(p.jsx)(f.a,{children:Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"24px"},children:[Object(p.jsx)($e.a,{size:"large",variant:"contained",color:"primary",style:{marginRight:"16px"},disabled:h||!F.paymentId||!F.addressId,onClick:ce,children:"Ordina"}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(p.jsxs)(K.a,{className:n.orderTotal,variant:"h6",children:["Totale ordine: ",Object(sn.a)(F.wVATtotalPrice)]}),Object(p.jsx)(K.a,{className:n.greyText,variant:"body2",children:"Procedendo con l'acquisto, accetti le condizioni di vendita dello store."})]})]})})]}),Object(p.jsx)("div",{style:{paddingLeft:"32px",flex:1},children:Object(p.jsx)(f.a,{className:n.stickyCard,variant:"outlined",children:Object(p.jsx)(O.a,{children:Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"8px"},children:[Object(p.jsx)($e.a,{variant:"contained",color:"primary",disabled:h||!F.paymentId||!F.addressId,onClick:ce,children:"Ordina"}),Object(p.jsx)(K.a,{className:n.greyText,style:{paddingTop:"16px",paddingBottom:"8px"},variant:"body2",children:"Procedendo con l'acquisto, accetti le condizioni di vendita dello store."}),Object(p.jsx)(ue.a,{}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingTop:"16px"},children:[Object(p.jsx)(K.a,{className:n.greyText,style:{flexGrow:1},variant:"body2",children:"Totale prodotti"}),Object(p.jsx)(K.a,{variant:"body2",children:Object(sn.a)(F.noVATtotalPrice)})]}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"16px"},children:[Object(p.jsx)(K.a,{className:n.greyText,style:{flexGrow:1},variant:"body2",children:"IVA"}),Object(p.jsx)(K.a,{variant:"body2",children:Object(sn.a)(F.totalVAT)})]}),Object(p.jsx)(ue.a,{}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingTop:"8px"},children:[Object(p.jsx)(K.a,{className:n.orderTotal,style:{flexGrow:1},variant:"h6",children:"Totale ordine"}),Object(p.jsx)(K.a,{className:n.orderTotal,variant:"h6",children:Object(sn.a)(F.wVATtotalPrice)})]})]})})})})]})]})]})]})]})}var pn=["component","auth"];var bn=function(e){var t=e.component,n=e.auth,r=Object(Me.a)(e,pn),i=Object(a.useContext)(S.b),c=i.isLoaded,o=i.error,s=Object(a.useContext)(kt.a),l=Object(u.h)();return Object(p.jsx)(u.b,Object(j.a)(Object(j.a)({},r),{},{render:function(e){return o?Object(p.jsx)(ot.a,{children:Object(p.jsx)(K.a,{variant:"body1",color:"error",children:o})}):!c||l.pathname.includes("ecommerce")&&s&&!s.isLoaded?Object(p.jsx)(ct.a,{}):n&&!s.isAuth?Object(p.jsx)(u.a,{to:{pathname:"/ecommerce/home"}}):Object(p.jsx)(t,Object(j.a)({},e))}}))};function jn(){var e=Object(u.h)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function mn(){return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(qt.a,{}),Object(p.jsx)(yt.a,{})]})}function hn(){return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(qt.a,{}),Object(p.jsx)(yt.a,{})]})}var fn=n(195),On=Object(fn.b)({palette:{primary:{light:"#8aedff",main:"#51bbe5",dark:"#008bb3",contrastText:"#FFFFFF"},secondary:{main:"#ff8a80"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontSize:14},shape:{borderRadius:0}});var gn=function(e){var t=e.baseURL;return Object(p.jsx)(s.a,{theme:On,children:Object(p.jsx)(l.a,{basename:"/portaledef",children:Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(o.a,{})," ",Object(p.jsx)(U.b,{children:Object(p.jsx)(ft.b,{children:Object(p.jsx)(S.c,{baseURL:t,children:Object(p.jsx)(z,{value:W.a,children:Object(p.jsx)(L.b,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.a,{exact:!0,from:"/",to:"/dashboard"}),Object(p.jsx)(u.a,{exact:!0,from:"/ecommerce/",to:"/ecommerce/home"}),Object(p.jsx)(bn,{exact:!0,path:"/login",component:R}),Object(p.jsx)(d.a,{exact:!0,path:"/dashboard",component:Ie}),Object(p.jsx)(d.a,{exact:!0,path:"/user/list",component:We}),Object(p.jsx)(d.a,{exact:!0,path:"/user/add",component:Ke}),Object(p.jsx)(d.a,{exact:!0,path:"/user/:username/edit",component:Ke}),Object(p.jsx)(d.a,{exact:!0,path:"/user/:username/manage-permissions",component:xt}),Object(p.jsx)(d.a,{path:"/app/:id",component:ht}),Object(p.jsxs)(kt.b,{children:[Object(p.jsx)(jn,{}),Object(p.jsxs)(At.b,{children:[Object(p.jsx)(Dt,{})," ",Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/home/:id",component:Pt}),Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/home",component:Pt}),Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/category/:id",component:zt}),Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/product/:id",component:Ut.a}),Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/cart/order",component:dn,auth:!0}),Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/user/profile",component:hn}),Object(p.jsx)(bn,{exact:!0,path:"/ecommerce/user/orders",component:mn})]})]}),Object(p.jsx)(u.b,{component:b})]})})})})})})]})})})},xn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function vn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(p.jsx)(gn,{baseURL:window.location.href.replace(/\/?(\?|#|$)/,"/$1")}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/portaledef",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/portaledef","/service-worker.js");xn?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):vn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):vn(t,e)}))}}()},103:function(e,t,n){"use strict";function a(e){var t=Number(e);return"".concat(Number.isNaN(t)?"-":t.toFixed(2).replace(".",",")," \u20ac")}n.d(t,"a",(function(){return a}))},115:function(e,t,n){"use strict";n(0);var a=n(77),r=n(35),i=n(1),c=Object(a.a)((function(){return{wrapper:{minHeight:"100vh"}}}));t.a=function(e){var t=e.children,n=c();return Object(i.jsx)(r.a,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",className:n.wrapper,children:t})}},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){if(!e||"string"!==typeof e||0===e.length)return e;var n=null===e||void 0===e?void 0:e.match(/(@[a-zA-Z0-9&._-]+)/g);if(!n)return e;for(var a={},r=e,i=0;i<(null===n||void 0===n?void 0:n.length);i++){var c=n[i].replace("@","");null!=t[c]&&(a[c]=t[c]||"",r=r.replace(n[i],a[c]))}return r}},126:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAC3FBMVEUAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpDsiL4AAAA83RSTlMAAQIDBAUGBwgJCgsMDQ4PEBETFBUWFxgZGhscHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREZHSElKS0xNTk9RUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hqa2xtbm9wcXJzdHV2d3h5e3x9fn+AgYKDhIWGh4iJioyNj5CRkpOUlZaXmJmam5+goaKjpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uzt7u/w8fLz9PX29/j5+vv8/f64GdQDAAALuklEQVR42uzZ83sc2wPH8c9s1NRGcBl+773RtW3btutes7ZtG0EdFVvbbtJYzc3nH/ieM5On3ZndJJvt83TOD/v6eXDeY8DPz8/Pz8/Pz8/Pz89PPXf3Xb6+bisGPapBddL1c9mQ9ASo794zbFjhfVDdXfn0Rv6dqnfkUSpft6ZOFyjlyRLlO07djrr977RRchds1PHO+wwpLeHBnbUdiahP/Gm798kt0/IoSccHt6+r42wS6pd8zii5A/a4s4iuDraD2R1edJhKzttT4lhLs4HedyhVklhDsxPN4eIJbztMJY/h6nuDFjUxuKT5bxcpnUuGd1KMkqpfmuMqe2IzrVIjYLih2z7qziTDWylnqdv74w24Om5455/x06dP3Ux3qdOmCzM2ltKw72Z4L+EADaUbZ0yvz6S+796IK/bC8jJ6a057NEbH+fRW2YoXcUWil9Jre99DY32wn15bFg3fPXme3sr6vBkar/kXOfTW+Sfhq/hC6v47sWfPnt27d+8S9kh7d2/fvn2b4HQ6t2515s7pfpsDvnHc3nNurlyI0ymWt13asWPHzp07dwlinWJtx6upK4yHbwLWUSrum9Q8WBckBEshwYGBgQEGhyNAw5XR5EJ0gbWCDMG65ol9iymtD4BP3qV0IBH2SzpA6R34IiBX74iCCqL0ktwA+ODWGpL5sVBDbD7Jmlvhg24UekIVPSl0gw8mkyzqAlV0KSI5GT5IJZkLdeSSTIMP1hszKiON5Hr4YINrSOCbffu5+qINvODodPsLX/T5q+9ffb544faODhVCfqDFbDQk/rOJznxelu+c8Fmc7SFzaXG0CeoT2ye7iu4qs/vE2huygBbHmqNuj88tY13K5j5uZ8h8Whxthro8lWEeeUF+gbkr40nVQ6T4OZSkqh0Tuz97W1RYp7Co257tPnHnxctnWJzqIVr3Qhqq07+JD4CrgP99m1FNQ2E3TemQiOU05A1LhifJw/JpWBqu8Mn+8HHqygdFoi7XDKmoXcJDdoTMo8XRULh5v5y6FYmoT/LK2tz3bAjpTov5cPM1dWU/aKif9mNt8VdXPyTko6Ejhl8yYkT3zrB6h7qD96Bh9x2i7q2rHeKF+8spZYfDG+E5lMruVS6ky3FKa1vDO23WUTrWSbEQbZnR0QreamWULNHUCvmeUk4reK91LqVvlQq5oYjCkTA0RthRCoXXqRQyi0L53WiceyoozFAo5CFKXdFY3Sk9oE5IGoUMBxrLsZrCKmVCHqBQkQAPIl8fuCDTmbN48FuR8CCxksJ9qoTMpDAC7p6YW0RJKpr/NNyNojBdkZBrSkkWRcIqYSnNliW6z1tMsiRSjZCuFMbA6qtSWpV+DauxFL5XIkRbT7I6GRYDWevI6kXph1lrECxSqkmuVSLkunKSGzWYfUld8bC7mwIIvWtIMXVfw0zLJFl2rQoh73m6h9xURik1DpIUu4pS2c2ePvq/o0LIGJIXLcPTVlGaFIjLAidSWqXB5JZqkqMUCNFySO4NhMnjRoflK4pR8gRMgvaRzNbsD2l7nuQ0mC2kkBoIs4BUCgthNp3kuTb2hyR4+LEVod9ZrofV9UUkSyNg0otkzc32hzxD4UWYvEVhENwNovA2TF6i8JT9IR9SuBMmQ0lWJ8FdUjXJoTC5i8L79of8SLIqGibLSR4Igrug/SRXwCSmiuT39of8RLI0HCa55uFaEjdpcBVeSrKP/SG/kSzuCFeO7STnwJPZJLc74KpTMclf7Q/5mWRJmDlkC8kl8GQJyc0aXIUpske6kay4ESbpJHcGwF3ALpKpMImqJPmj/SEfk6y53f3ZvDIW7uKqSI6GyR0UPrQ/5HkKz8HkUwq/wd3vFD72sIBn7Q9JofCjh6PlbHtYdThLsvJGD+9lSfaHdLhAciJMtAzPr+Iz6GGZk0jmtbM/xLHV/YqK1yj1hVk/Sq/AxLGD5BaH/SGYQLIyBiaBuR5KjI7sQJjEVpEcBwVCPqXwBcweqKE0sR0kqd0kSv/dD7OvKHysQIixSVNh8Sd1R7tdB+m67kep+93T+CqjVQhxbPJ019Cm01CycfLIyRtLaJiqwSyukmSOQ4UQ/Eyhv1tfP7r7V4PFAAq9oURIbCXJ8+1h9fQ2mjmfglWH8yQrotUIwVIKf8NNk0+zeFnWJyFw8y+FxVAk5GkKRdfBneOOnnM2Hzl5ZPOcnnc44O76YgpPqRISkENhLjzTmrVqpsGz+RSyHKqE4HlK76OxPqT0LJQJ0VZRuBCLxokroLBCUycESRUUnC3RGK22mf50KRGCvygtC4b3QpabbvWKhARnUZodBG8FzaGUGaRWCGIuGCXB3pYbHfnRUCwEL1O3qCW80XIxpZoXoVwIulKXE4WGReVS9yMUDMFf1J19HQ154yx1f0LJEPSiYXxn1KfLeBp6QtEQvF1E3ZkfW6AuLbqeoa7wLSgbguQtNBzs0RmedOlxkIbNSVA4BM2GsFbelJc7wKzjK1PzaagZ3AwKh0iPZPJSy4q/X7k9rGVoSGjL8Ntf/XtFHiVp48OA6iEI/HQ3XRSdObTv0Jliutj1SQCUD5FCP85m3bI/agKoH2LQHhx5mJ4cHvmABigeYtb84T9TT9LVyVV/PNwMFuqHSK0SXvju71ETp0wc9fd3LyS0gmRPSCrUkeprSAbJTKgjk2Q6fDDT+G+hinZ5JKfDBz9T+Byq+IJCH/jgAQonOkENnU9SuBc+CNlDIbM9VNAhi8KuYPjiG0qZYbBfeBalr+CT0J2UTnzZGfbq/NVJSjuawDf3VlGXn7PGTjkXqKu8B776pJLqqPgYvrvfSVVsvRdXosm3O6iCHd+E4AoFP9B7Rto6O6VN731/MP7fvhkWPQ4CYRgLSMACFuogFiIBCesgBmIBC1hAAhZeA9fCu7Odlr8fnZvh+ZHSlm14sgFye/NtNpvNZrPZbDabzX/HYX9XkIBjfHbhSZPgjBs4Ru/iBhFAG03fAHEkSMMTiYxT2t+LcPwqYudOMxH2dmKDSwAqO54WvV6k+jeRng6R/nLORG7XaTa4an6P3mNEP0bcLZ20QATZRKLeaz4DbSaCwN5A08E3/oYrQAmMvhm3ao5kXvohcgHF7vzzS0SnQ3k1m3531uEXAMQRLcEtFpEEtKAixUZ/jTGbCLXryEKhiH+9pjEnjvEtWS3iMlBUpAHB5u39JSI3cPb3iSIJuFwEKtufIuRYIBIakEzE23cTkQMoIwsUKX1al94hjSQKOn6xyFgzH0OkjtVGL/W3yKtHTIBQ5AHl7j+UP0W4aoUFIv18ZYhkmxgFSN8i3e8lQ5ELSvPu0Y/uEJFKEUvFChFfgQYcTI5OEYSJiG94UhxFGnDJk6FdoVksPxHhDXJwd5On2sW971OEOTgpkoCq3rW/RY7Pdxm/EXGXisQGpfipSARQHUXs/ms9lRmKbojKsUbEFT1X0LFczjCR0VUoEoFG3WtECAb1dCtFgghPEG1l8d/PRqdIYO/e9TX4JMkF6/hsnr2RuEgxjvzJsrXZbDabzWZTgGKPh/oIJlqMOfQjFmPKNNYlDJp46+5WVvMeeBLt8fBdKdsz/1SEsRQh1f9EhJU7DqvZv0FYBULzcxGLVZEsIpkfmMiyal5DaxSoVl1NHFxjcy7yFptoJFbBW1s7SsB1Aae2eWcFij2AOhGZxFLk/IkIqz4PIPNWamMsWcuVLnO6mMg8liJHBdIPRFiBq0DQKqke+apZMpF5bIJyW/eF1TwBUj+K1e7eaqbj6GciH7EmksMvRBpI5XRv7mQObGhpLmKxtmpJG+uviayp5p0fRQQBzpuzokIpUxGLtaoq63/r50jmdcy8tSOQG6ruKsJrHN9FprEmcgGyXCRq1TFoo7z/79pl9aB3kWmsiiSszwh3r062PXCMz49EMDUmoqSP2AQF7b1c3xYUwWwrt6cS32xfKNbr/Bb5iDWREt1yERGxZtIyXE/EwRLfaEaW8rwo8SM2ColDTkhaUc3bbDabzWaz2Ww2m80/rYmgtUAmJ5YAAAAASUVORK5CYII="},138:function(e,t,n){"use strict";n(0);var a=n(144),r=n(1037),i=n(1036),c=n(1040),o=n(1041),s=n(236),l=n(1),u=function(e){var t=e.isOpen,n=e.title,u=e.description,d=e.handlePrimaryClose,p=e.handleSecondaryClose,b=e.primaryButtonText,j=e.primaryButtonDisabled,m=e.secondaryButtonText,h=e.secondaryButtonDisabled,f=e.handleClose,O=e.fullWidth,g=e.maxWidth,x=e.children;return Object(l.jsxs)(s.a,{isOpen:t,fullWidth:O,maxWidth:g,handleClose:f,children:[Object(l.jsx)(o.a,{id:"alert-dialog-title",children:n}),Object(l.jsxs)(i.a,{children:[Object(l.jsx)(c.a,{id:"alert-dialog-description",children:u}),x]}),Object(l.jsxs)(r.a,{children:[Object(l.jsx)(a.a,{onClick:d,color:"primary",disabled:j,children:b}),Object(l.jsx)(a.a,{onClick:p,color:"primary",autoFocus:!0,disabled:h,children:m})]})]})};u.defaultProps={fullWidth:!1,maxWidth:"md",primaryButtonText:"No",secondaryButtonText:"Si"},t.a=u},139:function(e,t,n){"use strict";var a=n(0),r=n(58);t.a=function(){var e=Object(a.useContext)(r.a).setShowLoginDialog;return function(){return e(!0)}}},140:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return D}));var a=n(8),r=n(10),i=n(21),c=n(5),o=n(0),s=n.n(o),l=n(77),u=n(120),d=n(179),p=n(33),b=n(159),j=n(128),m=n(408),h=n(144),f=n(365),O=n.n(f),g=n(301),x=n.n(g),v=n(30),q=n(389),y=n(3),C=(n(196),n(103)),w=n(49),S=n(1),N=Object(l.a)((function(e){return{root:{width:500,display:"flex",flexDirection:"column",flexGrow:1},headerContainer:{display:"flex",flexDirection:"row",alignItems:"center",padding:e.spacing(3),height:70,backgroundColor:e.palette.primary.main},icon:{color:e.palette.common.white},text:{color:e.palette.common.white},greyText:{color:d.a[600]},emptyCartIconContainer:{height:100,width:100,marginTop:e.spacing(3),marginBottom:e.spacing(3)},emptyCartIcon:{fontSize:100,color:d.a[600]},emptyTitleText:{paddingTop:e.spacing(3),paddingBottom:e.spacing(4)},textLeft:{textAlign:"start"},textRight:{textAlign:"end"},grow:{flexGrow:1},contentContainer:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",height:0},placeOrderContainer:{padding:e.spacing(3),textAlign:"center"},footerContainer:{height:70,padding:24,display:"flex",alignItems:"center",flexDirection:"row",backgroundColor:e.palette.primary.main}}}));function T(e){var t=e.open,n=e.toggle,r=N(),i=Object(w.g)(),l=Object(o.useContext)(I),d=l.userCart,f=l.removeFromCart,g=l.updateProductQty,T=Object(v.a)(),P=T.getCartList,k=T.getUserCart,A=Object(o.useState)(),D=Object(c.a)(A,2),E=D[0],R=D[1],L=Object(o.useState)([]),_=Object(c.a)(L,2),B=_[0],F=_[1],z=function(){return k().then((function(e){return R(e.cartTotalPriceVAT)})).catch(console.error)},U=function(){return P(null===d||void 0===d?void 0:d.id).then((function(e){Array.isArray(e)&&F(e.map((function(e){return{productId:e.codTot,quantity:e.cartQuantity,title:e.basicDescription,imageURL:e.imageURL,price:e.articlePriceTotVat,cartProductId:e.id_UserCartList,option:e.basicSizeDes,variant:e.basicColorDes,hasOptionVariant:!!e.sizeAndColors,rawProduct:e}})))})).catch((function(e){console.error("Error while updating cart",e),F([])}))};return Object(o.useEffect)((function(){t&&(U(),z())}),[t,d]),Object(S.jsx)(u.a,{anchor:"right",open:t,onClose:n,children:Object(S.jsxs)("div",{className:r.root,children:[Object(S.jsxs)("div",{className:r.headerContainer,children:[Object(S.jsx)("div",{style:{flex:1,padding:"16px"},children:Object(S.jsx)(x.a,{className:r.icon})}),Object(S.jsx)("div",{style:{flexGrow:1,textAlign:"center"},children:Object(S.jsx)(p.a,{variant:"h6",className:r.text,children:"Riepilogo carrello"})}),Object(S.jsx)("div",{style:{flex:1,textAlign:"end"},children:Object(S.jsx)(b.a,{title:"Chiudi carrello",children:Object(S.jsx)(j.a,{onClick:n,children:Object(S.jsx)(O.a,{className:r.icon})})})})]}),0===B.length?Object(S.jsxs)("div",{className:r.contentContainer,children:[Object(S.jsx)(p.a,{variant:"h6",className:Object(y.default)(r.greyText,r.emptyTitleText),children:"IL TUO CARRELLO \xc8 VUOTO!"}),Object(S.jsx)("div",{className:r.emptyCartIconContainer,children:Object(S.jsx)(x.a,{className:r.emptyCartIcon})}),Object(S.jsx)(p.a,{variant:"subtitle1",className:r.greyText,children:"Naviga nello store e aggiungi articoli al tuo carrello."})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:r.contentContainer,children:B.map((function(e){return Object(S.jsxs)(s.a.Fragment,{children:[Object(S.jsx)(q.a,Object(a.a)(Object(a.a)({},e),{},{handleUpdateProductQty:function(t){return function(e,t){return g(Object(a.a)(Object(a.a)({},e),{},{cartQuantity:t})).then((function(){return U()})).then((function(){return z()}))}(e.rawProduct,t)},handleRemoveProduct:function(e){return function(e){return f(e).then((function(){return U()})).then((function(){return z()}))}(e)}})),Object(S.jsx)(m.a,{style:{width:"90%"}})]},e.cartProductId)}))}),Object(S.jsx)(m.a,{}),Object(S.jsx)("div",{className:r.placeOrderContainer,children:Object(S.jsx)(h.a,{size:"medium",variant:"outlined",color:"secondary",onClick:function(){n(),i.push("/ecommerce/cart/order")},children:"Procedi all'ordine"})}),Object(S.jsxs)("div",{className:r.footerContainer,children:[Object(S.jsx)("div",{className:r.textLeft,children:Object(S.jsx)(p.a,{variant:"h6",className:r.text,children:"Totale"})}),Object(S.jsx)("div",{className:r.grow}),Object(S.jsx)("div",{className:r.textRight,children:Object(S.jsx)(p.a,{variant:"h6",className:r.text,children:Object(C.a)(E)})})]})]})]})})}T.defaultProps={open:!1};var P=n(53),k=n(54),A=n(58),I=s.a.createContext();I.Consumer;function D(e){var t=e.children,n=Object(o.useState)(!1),s=Object(c.a)(n,2),l=s[0],u=s[1],d=Object(o.useState)({}),p=Object(c.a)(d,2),b=p[0],j=p[1],m=Object(o.useContext)(A.a),h=m.isLoaded,f=m.isAuth,O=Object(o.useContext)(k.b),g=(O.ecomSettings,O.sessionData,Object(P.a)()),x=Object(v.a)(),q=x.getUserCart,y=x.getCartList,C=x.addToCart,w=x.removeFromCart,N=x.updateCartProduct,D=x.refreshUserCart,E=x.createOrder,R=Object(o.useState)(!0),L=Object(c.a)(R,2),_=(L[0],L[1]),B=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(null!==t&&void 0!==t?t:null===b||void 0===b?void 0:b.id);case 2:return n=e.sent,e.abrupt("return",Array.isArray(n)?n.length:0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(null===b||void 0===b?void 0:b.id);case 3:t=e.sent,j(Object(a.a)(Object(a.a)({},b),{},{totalItems:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){h&&Object(i.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return t=e.sent,e.next=6,B(null===t||void 0===t?void 0:t.id_UserCart);case 6:n=e.sent,j(Object(a.a)(Object(a.a)({},b),{},{id:null===t||void 0===t?void 0:t.id_UserCart,totalItems:n,userId:t.id_CustomersAndSuppliers})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:return e.prev=13,_(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))()}),[f,h]);var z=function(){return u(!0)},U=function(){return u(!l)};return Object(S.jsxs)(I.Provider,{value:{close:function(){return u(!1)},open:z,toggle:U,isOpen:l,userCart:b,addToCart:function(e,t){return C(null===b||void 0===b?void 0:b.id,e,t).then((function(){return D()})).then(F).then((function(){return z()})).catch((function(e){throw g("Impossibile aggiungere l'oggetto al carrello. Riprovare","error"),e}))},removeFromCart:function(e){return w(e).then((function(){return D()})).then(F).catch((function(e){throw g("Impossibile eliminare l'oggetto dal carrello. Riprovare.","error"),e}))},updateProductQty:function(e){return N(e).then((function(){return D()})).catch((function(e){throw g("Impossibile modificare la quantit\xe0 per l'oggetto selezionato. Riprovare.","error"),e}))},placeOrder:function(){return E().then((function(){return D()})).then(F).catch((function(e){throw g("Impossibile creare l'ordine. Riprovare.","error"),e}))}},children:[h&&Object(S.jsx)(T,{open:l,toggle:U}),t]})}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(8),r=n(5),i=n(4),c=n(0),o=n(77),s=n(207),l=n(144),u=n(1),d=["isLoading","children"],p=Object(o.a)((function(e){return{wrapper:{position:"relative"},buttonProgress:{color:e.palette.secondary,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function b(e){var t=e.isLoading,n=e.children,o=Object(i.a)(e,d),b=p(),j=Object(c.useState)(!1),m=Object(r.a)(j,2),h=m[0],f=m[1],O=t||h;return Object(u.jsxs)("div",{className:b.wrapper,children:[Object(u.jsx)(l.a,Object(a.a)(Object(a.a)({},o),{},{disabled:O||(null===o||void 0===o?void 0:o.disabled),onClick:function(){var e=null===o||void 0===o?void 0:o.onClick;return e&&"function"===typeof e.then?(f(!0),e().finally((function(){return f(!1)}))):"function"===typeof e?e():void console.warn("Button onClick not fired")},children:n})),O&&Object(u.jsx)(s.a,{size:24,className:b.buttonProgress})]})}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){switch(null===e||void 0===e?void 0:e.toLowerCase()){case"left":case"start":case"top":return"flex-start";case"bottom":case"end":case"right":return"flex-end";case"stretch":return"stretch";default:return"center"}}},208:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(15),r=function(e){return 0===Object.keys(e).length};function i(){return JSON.parse(localStorage.getItem("preferences"))||{}}function c(e,t){var n=JSON.parse(localStorage.getItem("preferences"))||{};if(r(n))return[];var a=n[e]||{};return r(a)?[]:a[t]||[]}function o(e,t,n){var c=i();if(r(c)){var o={};o[t]=n,c[e]=o}else{var s=c[e];s[t]=Object(a.a)(n),c[e]=s}var l=JSON.stringify(c);localStorage.setItem("preferences",l)}function s(e){3===e.length&&e.pop()}function l(e,t){var n=i(),a=n[e];Reflect.deleteProperty(a,t),r(a)&&(Reflect.deleteProperty(n,e),r(n)&&localStorage.removeItem("preferences"))}function u(e,t){return e.length>t?e.substring(0,t-3).concat("..."):e}},209:function(e,t,n){"use strict";(function(e){var a=n(8),r=n(4),i=(n(0),n(49)),c=n(33),o=n(54),s=n(221),l=n(115),u=n(1),d=["component"];t.a=function(t){var n=t.component,p=Object(r.a)(t,d);return Object(u.jsx)(i.b,Object(a.a)(Object(a.a)({},p),{},{render:function(t){return Object(u.jsx)(o.a,{children:function(r){var o,d,p=r.isAuth,b=r.isLoaded,j=r.error;return b?j&&"development"!==(null===(o=e)||void 0===o||null===(d=Object({NODE_ENV:"production",PUBLIC_URL:"/portaledef",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===d?void 0:d.NODE_ENV)?Object(u.jsx)(l.a,{children:Object(u.jsx)(c.a,{variant:"body1",color:"error",children:j})}):p?Object(u.jsx)(n,Object(a.a)({},t)):Object(u.jsx)(i.a,{to:{pathname:"/login",state:{from:t.location}}}):Object(u.jsx)(s.a,{})}})}}))}}).call(this,n(410))},221:function(e,t,n){"use strict";n(0);var a=n(207),r=n(115),i=n(1);t.a=function(){return Object(i.jsx)(r.a,{children:Object(i.jsx)(a.a,{})})}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(5),r=n(0),i=n.n(r),c=n(1),o=i.a.createContext();o.Consumer;function s(e){var t=e.children,n=Object(r.useState)(!1),i=Object(a.a)(n,2),s=i[0],l=i[1];return Object(c.jsx)(o.Provider,{value:{isLoading:s,setLoading:l},children:t})}},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(5),r=n(0),i=n(1),c=Object(r.createContext)({isLoading:!1,handleINFormLoader:function(){}}),o=function(e){var t=e.children,n=Object(r.useState)(!1),o=Object(a.a)(n,2),s=o[0],l=o[1];return Object(i.jsx)(c.Provider,{value:{isLoading:s,handleINFormLoader:function(e){l(e)}},children:t})}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(8),r=n(4),i=(n(0),n(292)),c=n.n(i),o=n(1),s=["children"];function l(e){var t=e.children,n=Object(r.a)(e,s);return Object(o.jsx)(c.a,Object(a.a)(Object(a.a)({localization:{pagination:{labelDisplayedRows:"{from}-{to} di {count}",labelRowsSelect:"righe",firstAriaLabel:"Prima pagina",firstTooltip:"Prima pagina",previousAriaLabel:"Pagina precedente",previousTooltip:"Pagina precedente",nextAriaLabel:"Pagina successiva",nextTooltip:"Pagina successiva",lastAriaLabel:"Ultima pagina",lastTooltip:"Ultima pagina"},toolbar:{nRowsSelected:"{0} righe selezionate",searchTooltip:"Cerca",searchPlaceholder:"Cerca"},header:{actions:"Azioni"},body:{emptyDataSourceMessage:"Nessun dato da visualizzare",filterRow:{filterTooltip:"Filtra"},editRow:{deleteText:"Sei sicuro di cancellare questo record?",cancelTooltip:"Annulla",saveTooltip:"Salva"},addTooltip:"Aggiungi record"}},options:{actionsColumnIndex:-1}},n),{},{header:!1,toolbar:!1,children:t}))}},236:function(e,t,n){"use strict";var a=n(8),r=n(4),i=(n(0),n(1035)),c=n(1),o=["isOpen","handleClose","children"],s=function(e){var t=e.isOpen,n=e.handleClose,s=e.children,l=Object(r.a)(e,o);return Object(c.jsx)(i.a,Object(a.a)(Object(a.a)({open:t,onClose:n,fullWidth:!0,maxWidth:l.maxWidth||"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l),{},{children:s}))};s.defaultProps={fullWidth:!1,maxWidth:"md"},t.a=s},237:function(e,t,n){"use strict";var a=n(8),r=n(0),i=n.n(r),c=n(203),o=n(1),s=function(e){var t=e.componentDirection,n=e.componentAlign,r=e.spacing,s=e.children;return Object(o.jsx)("div",{className:"INVerticalGridContainer",style:{display:"flex",flexDirection:"column",width:"100%",justifyContent:t,alignContent:n},children:i.a.Children.toArray(s).map((function(e,t){var n,i=(n=e.props)?Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},n.width&&{width:n.width}),n.height&&{height:n.height}),n.padding_Bottom&&{paddingBottom:n.padding_Bottom}),n.padding_Top&&{paddingTop:n.padding_Top}),n.padding_Left&&{paddingLeft:n.padding_Left}),n.padding_Right&&{paddingRight:n.padding_Right}),n.grow&&{flexGrow:n.grow}),n.componentAlign&&{alignSelf:Object(c.a)(n.componentAlign)}):{};return Object(o.jsx)("div",{className:"INVerticalGridItem",style:Object(a.a)({display:"flex",paddingTop:r,paddingBottom:r},i),children:e},t)}))})};s.defaultProps={componentDirection:"center",componentAlign:"center",spacing:16},t.a=s},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(8),r=n(4),i=n(0),c=n.n(i),o=n(1),s=["children"],l=c.a.createContext();l.Consumer;function u(e){var t=e.children,n=Object(r.a)(e,s);return Object(o.jsx)(l.Provider,{value:Object(a.a)({},n),children:t})}},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(8),r=n(4),i=n(0),c=n.n(i),o=n(1),s=["children"],l=c.a.createContext();function u(e){var t=e.children,n=Object(r.a)(e,s);return Object(o.jsx)(l.Provider,{value:Object(a.a)({},n),children:t})}},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(0);var a=n(409),r=n(207),i=n(77),c=n(35),o=n(33),s=n(1),l=Object(i.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},progress:{textAlign:"center"}}}));function u(e){var t=e.open,n=e.message,i=l();return Object(s.jsx)("div",{children:Object(s.jsx)(a.a,{className:i.backdrop,open:t,children:Object(s.jsxs)(c.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(s.jsx)(c.a,{item:!0,xs:12,className:i.progress,children:Object(s.jsx)(r.a,{color:"inherit"})}),n&&Object(s.jsx)(c.a,{item:!0,xs:12,children:Object(s.jsx)(o.a,{children:n})})]})})})}},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(77),r=n(683),i=n(33),c=(n(0),n(665)),o=n.n(c),s=n(179),l=n(100),u=n(101),d=n(1),p=Object(a.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),height:"100%"},greyText:{color:s.a[600]},emptyCategoryIcon:{fontSize:100,color:s.a[600]},emptyContentContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",paddingTop:e.spacing(8)}}}));function b(){var e=p();return Object(d.jsxs)("div",{className:e.root,children:[Object(d.jsx)(l.a,{title:"Pagina non trovata"}),Object(d.jsx)(u.a,{}),Object(d.jsxs)("main",{className:e.content,children:[Object(d.jsx)("div",{className:e.appBarSpacer}),Object(d.jsx)(r.a,{maxWidth:"lg",className:e.container,children:Object(d.jsxs)("div",{className:e.emptyContentContainer,children:[Object(d.jsx)(o.a,{className:e.emptyCategoryIcon}),Object(d.jsx)(i.a,{variant:"subtitle1",className:e.greyText,children:"La pagina richiesta non \xe8 stata trovata."})]})})]})]})}},243:function(e,t,n){"use strict";var a=n(8),r=n(4),i=n(0),c=n.n(i),o=n(1),s=function(e){var t=e.text;return Object(o.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})},l=n(380),u=n(649),d=n(10),p=n(9),b=n(21),j=n(5),m=n(15),h=n(48),f=n(47),O=n(77),g=n(35),x=n(207),v=n(62),q=n(194),y=n.n(q),C=n(30),w=n(238),S=n(53),N=n(55),T=n(239),P=n(118),k=n(99),A=function(e){var t={};return Object.keys(e).forEach((function(n){var a;t[(a=n,a.replace("!","."))]=e[n]})),t};n(615);var I=Object(O.a)((function(e){return{form:{display:"flex",flexGrow:1,padding:e.spacing(3)}}})),D=function e(t){var n,a=[],r=c.a.Children.toArray(t),i=Object(h.a)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.props.children)a.push.apply(a,Object(m.a)(e(o.props.children)));else if(o.props.fieldName){var s;a.push({aliasName:o.props.aliasName,fieldName:o.props.fieldName,required:o.props.required,type:null===(s=o.props.boxType)||void 0===s?void 0:s.toLowerCase()})}}}catch(l){i.e(l)}finally{i.f()}return a};function E(e){var t,n={},r=c.a.Children.toArray(e),i=Object(h.a)(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.props.children)n=Object(a.a)(Object(a.a)({},n),E(o.props.children));else if(o.props.fieldName){var s=o.props.fieldName.replace(".","!"),l=o.props.value;n[s]=l}}}catch(u){i.e(u)}finally{i.f()}return n}var R=function(e){var t=e.dataSource,n=e.aliasName,r=e.listFieldToUpdate,s=e.refINPanelAlias,l=e.children,u=e.actionEvent,m=t||{},O=m.dataSourceClassName,q=m.dataSourceClassNameForUpdate,R=m.fieldNamePrimaryKey,L=m.fieldNameIDDependedClass,_=I(),B=Object(i.useState)(!1),F=Object(j.a)(B,2),z=F[0],U=F[1],W=Object(i.useState)(void 0),M=Object(j.a)(W,2),G=M[0],V=M[1],H=Object(i.useState)(D(l)),Q=Object(j.a)(H,2),X=Q[0],J=Q[1],K=Object(i.useState)(),Y=Object(j.a)(K,2),Z=Y[0],$=Y[1],ee=Object(i.useState)({}),te=Object(j.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useContext)(N.a),ie=re.dispatch,ce=re.componentData,oe=re.setData,se=Object(C.a)(!1),le=se.getRecord,ue=se.updateRecord,de=se.get,pe=Object(i.useRef)(),be=Object(S.a)(),je=Object(i.useState)(Object(o.jsx)(g.a,{container:!0,alignItems:"center",justifyContent:"center",style:{flexGrow:1},children:Object(o.jsx)(g.a,{item:!0,children:Object(o.jsx)(x.a,{})})})),me=Object(j.a)(je,2),he=me[0],fe=me[1],Oe=(Object(i.useContext)(k.b).chargeComponent,ce[n]),ge=Object(i.useContext)(T.a),xe=Object(i.useCallback)(y.a.debounce((function(e){var t,n={},r=Object(h.a)(X);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.aliasName]=e[i.fieldName]}}catch(c){r.e(c)}finally{r.f()}oe(null,null,Object(a.a)({},n))}),500),[]),ve=Object(i.useCallback)(function(){var e=Object(b.a)(Object(d.a)().mark((function e(t,i){var c,o,l,u,b,j,m,f,g,x,v,y,C,w,S,N,T,P,k,I,D,E,R,L,_,B,F,z,U;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("INDBForm handling action",i),f=null,e.t0=i.actionType,e.next="UPDATE_FIELD"===e.t0?5:"UPDATE_DB"===e.t0?19:"UPDATE_FORM_VALUES"===e.t0?33:"CANCEL_OPERATION"===e.t0?40:46;break;case 5:return e.next=7,null===(c=pe.current)||void 0===c?void 0:c.submitForm();case 7:return e.next=9,null===(o=pe.current)||void 0===o?void 0:o.validateForm();case 9:if(f=e.sent,!(Object.keys(f).length>0)){e.next=12;break}return e.abrupt("return");case 12:g=pe.current.values,x=A(g),v=Object(a.a)({},ne),y=Object(h.a)(r);try{for(y.s();!(C=y.n()).done;)w=C.value,S=void 0,S=x[w]instanceof Date?x[w].getTime():x[w],v[w]=S}catch(d){y.e(d)}finally{y.f()}return ue(q||O,v).then((function(){be("Record aggiornato con successo","success"),"undefined"!==typeof ge?(ge.showPanel(s),oe(n,null)):console.log("Cannot redirect to list since no INSSTab found")})).catch((function(e){var t;be((null===(t=e.action)||void 0===t?void 0:t.messageToShow)||e.message,"error")})).finally((function(){var e;return null===(e=pe.current)||void 0===e?void 0:e.setSubmitting(!1)})),e.abrupt("break",47);case 19:return e.next=21,null===(l=pe.current)||void 0===l?void 0:l.submitForm();case 21:return e.next=23,null===(u=pe.current)||void 0===u?void 0:u.validateForm();case 23:if(f=e.sent,!(Object.keys(f).length>0)){e.next=26;break}return e.abrupt("return");case 26:N=pe.current.values,T=A(N),P=Object(a.a)({},ne),k=Object(h.a)(r);try{for(k.s();!(I=k.n()).done;)D=I.value,E=void 0,E=T[D]instanceof Date?T[D].getTime():T[D],P[D]=E}catch(d){k.e(d)}finally{k.f()}return ue(q||O,P).then((function(){be("Record aggiornato con successo","success"),"undefined"!==typeof ge?(ge.showPanel(s),oe(n,null)):console.log("Cannot redirect to list since no INSSTab found")})).catch((function(e){var t;be((null===(t=e.action)||void 0===t?void 0:t.messageToShow)||e.message,"error")})).finally((function(){var e;return null===(e=pe.current)||void 0===e?void 0:e.setSubmitting(!1)})),e.abrupt("break",47);case 33:null===(b=pe.current)||void 0===b||b.setSubmitting(!0),R=pe.current.values,L=Object(a.a)({},ne),_=Object(h.a)(r);try{for(_.s();!(B=_.n()).done;)F=B.value,L[F]=R[F]}catch(d){_.e(d)}finally{_.f()}return ue(q||O,L,!1).then((function(e){for(var t=0,n=Object.keys(R);t<n.length;t++){var a,r=n[t];null===(a=pe.current)||void 0===a||a.setFieldValue(r,e[r])}console.log("Form values updated",e)})).catch((function(e){var t;return be((null===(t=e.action)||void 0===t?void 0:t.messageToShow)||e.message||"Impossibile ricalcolare i valori del record","error")})).finally((function(){var e;return null===(e=pe.current)||void 0===e?void 0:e.setSubmitting(!1)})),e.abrupt("break",47);case 40:for(U in z=Object(a.a)({},G))z[U]="";return null===(j=pe.current)||void 0===j||j.setValues(z),oe(null,null,(m={},Object(p.a)(m,s,null),Object(p.a)(m,n,null),m)),"undefined"!==typeof ge?(ge.showPanel(s),oe(n,null)):console.log("Cannot redirect to list since no INSSTab found"),e.abrupt("break",47);case 46:ie(i);case 47:return e.abrupt("return",t);case 48:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[G,pe]),qe=Object(i.useReducer)(ve,{data:null}),ye=Object(j.a)(qe,2),Ce=(ye[0],ye[1]);Object(i.useEffect)((function(){var e=Oe;return O&&Oe||(console.warn("Not fetching data for non-data form"),e="01"),u?U(!0):e&&(U(!1),le(O,e).then((function(e){var t,n={},r=Object(a.a)(Object(a.a)({},E(l)),e),i=Object(h.a)(X);try{for(i.s();!(t=i.n()).done;){var c=t.value;["date","datetime","time"].includes(c.type)?n[c.fieldName]=Object(P.a)(r[c.fieldName],ce)||null:n[c.fieldName]=Object(P.a)(r[c.fieldName],ce)||""}}catch(o){i.e(o)}finally{i.f()}ae(Object(a.a)(Object(a.a)({},R&&r[R]?Object(p.a)({},R,r[R]):{}),L&&r[L]?Object(p.a)({},L,r[L]):{})),V(n)})).catch((function(e){return console.error("Failed to fetch INDBform data",e)})).finally((function(){return U(!0)}))),function(){V(void 0)}}),[]),Object(i.useEffect)((function(){var e,t=D(l),n={},a={},r=Object(h.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;["date","datetime","time"].includes(i.type)?n[i.fieldName]=null:n[i.fieldName]="",i.required&&(a[i.fieldName]=v.c().required("Campo obbligatorio"))}}catch(c){r.e(c)}finally{r.f()}return $(v.a().shape(a)),V(n),J(t),function(){console.log("CLEANUP VALUES INDBFORM"),V(void 0)}}),[l]);var we=!!u;return Object(i.useEffect)((function(){if(u){var e=u.urlToCall,t=Object(a.a)(Object(a.a)({},u),{},{parentIsAlreadyRendered:!0});de(e,{id:Oe}).then((function(e){var n=e;t.jsonToHandle=n,Ce(t),fe(t.generatedLayout)}))}}),[]),Object(o.jsx)(o.Fragment,{children:z?we?Object(o.jsx)(c.a.Fragment,{children:he}):Object(o.jsx)(f.b,{initialValues:G,innerRef:pe,validationSchema:Z,enableReinitialize:!0,onSubmit:function(){},children:function(e){var t,n=e.values,a=Object(h.a)(X);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(ce[r.aliasName]!==n[r.fieldName]){xe(n);break}}}catch(i){a.e(i)}finally{a.f()}return Object(o.jsx)("form",{noValidate:!0,autoComplete:"off",className:_.form,children:Object(o.jsx)(w.b,{dispatch:Ce,children:l})})}}):Object(o.jsx)(g.a,{container:!0,alignItems:"center",justifyContent:"center",style:{flexGrow:1},children:Object(o.jsx)(g.a,{item:!0,children:Object(o.jsx)(x.a,{})})})})},L=c.a.memo(R),_=n(397),B=n(144),F=n(386),z=n(1088),U=["text","actionEvent","fullWidth","width","padding","badge","imageURL","htmlText"],W=function(e){var t=e.text,n=e.actionEvent,c=e.fullWidth,s=(e.width,e.padding,e.badge),l=e.imageURL,u=e.htmlText,d=Object(r.a)(e,U),p=Object(i.useState)(!1),b=Object(j.a)(p,2),m=b[0],h=b[1],O=!1,g=function(e){return console.error("No dispatcher available")},x=(null===n||void 0===n?void 0:n.confirmAction)||((null===n||void 0===n?void 0:n.requestParameterList)||[]).length>0||((null===n||void 0===n?void 0:n.requestParameterComponentList)||[]).length>0,v=function(){return h(!1)},q=Object(f.e)(),y=Object(i.useContext)(w.a),C=Object(i.useContext)(N.a);q?(O=q.isSubmitting,g=y.dispatch):g=C.dispatch;var S=function(e){h(!1),"function"===typeof e&&e(!1),n?(console.log("INButton Handling action",n),g(n)):console.error("No event associated to this button")};return s||(s=0),Object(o.jsxs)(o.Fragment,{children:[x&&Object(o.jsx)(F.a,{isOpen:m,title:"Conferma",description:n.requestMessageToShow||n.confirmDescription||"Specificare i parametri",primaryButtonText:"Procedi",secondaryButtonText:"Annulla",handlePrimaryClose:function(e,t){var a=t.setSubmitting;n.data=e,h(n.waitForEnd),S(a)},handleSecondaryClose:v,handleClose:v,requestParameterList:n.requestParameterList||[],requestParameterComponentList:n.requestParameterComponentList||[]}),Object(o.jsx)(z.a,{badgeContent:s,color:"error",overlap:"rectangular",children:Object(o.jsx)(B.a,Object(a.a)(Object(a.a)({variant:"contained"},d.backgroundColor?{style:{background:d.backgroundColor,color:"white"}}:{color:"primary"}),{},{type:"button",fullWidth:c,disabled:O,onClick:function(e){e.preventDefault(),e.stopPropagation(),x?h(!0):S()},children:l?Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:Object(o.jsx)("img",{src:l})}),Object(o.jsx)("p",{children:t})]}):u?Object(o.jsx)("div",{dangerouslySetInnerHTML:{__html:u}}):t}))})]})};W.defaultProps={fullWidth:!0};var M=W,G=n(1020),V=n(1022);function H(e){var t=e.imageURL;return Object(o.jsx)(G.a,{style:{padding:"8px"},children:Object(o.jsx)(V.a,{style:{width:"100%",height:"100%"},component:"img",alt:"",image:t,title:""})})}var Q=n(676),X=n(158),J=n(33),K=n(159),Y=n(1086),Z=n(464),$=n(128),ee=n(388),te=n.n(ee),ne=n(387),ae=n.n(ne),re=n(662),ie=n.n(re),ce=n(379),oe=n(236),se=n(229),le=n(560);var ue=function(){var e=Object(i.useContext)(se.a).isLoading;return Object(o.jsx)("div",{children:e&&Object(o.jsx)(le.a,{color:"secondary"})})};function de(e){var t=e.children,n=e.width,r=void 0===n?1e3:n,c=e.height,s=void 0===c?500:c,l=e.minWidth,u=e.minHeight,d=e.maxWidth,b=e.maxHeight,m=e.title,h=e.dialogFrame,f=e.top,g=e.left,x=e.maximize,v=void 0!==x&&x,q=e.componentName,y=e.toolBarColor,C=void 0===y?"#ffffff":y,w=e.titleColor,S=void 0===w?"#30b6e3":w,T=Object(O.a)((function(e){var t,n;return{root:{display:"flex",flexGrow:1,alignSelf:"stretch",flexDirection:"column",overflowY:"auto"},grow:{flexGrow:1},appBarHang:(n={boxShadow:"none",backgroundColor:C,cursor:"grab"},Object(p.a)(n,"cursor","-moz-grap"),Object(p.a)(n,"cursor","-webkit-grab"),Object(p.a)(n,"&:active",(t={cursor:"grabbing"},Object(p.a)(t,"cursor","-moz-grabbing"),Object(p.a)(t,"cursor","-webkit-grabbing"),t)),n),content:{display:"flex",flexGrow:1,overflowY:"auto",overflowX:"hidden",flexDirection:"column"},titleClass:{color:S}}}))(),A=Object(i.useContext)(N.a),I=A.dispatch,D=A.componentData,E=Object(i.useContext)(ce.a),R=E.appClass,L=E.onDragStart,_=E.containerRef,B=E.zIndex,F=Object(i.useState)(!0),z=Object(j.a)(F,2),U=z[0],W=z[1],M=l||r,G=d||r,V=u||s,H=b||s,ee=function(){var e,t;return{x:16,y:16,width:G||(null===(e=_.current)||void 0===e?void 0:e.clientWidth)-32,height:H||(null===(t=_.current)||void 0===t?void 0:t.clientHeight)-32,maximized:!0}},ne=function(){var e,t;return{x:f||(null===(e=_.current)||void 0===e?void 0:e.clientWidth)/2-r/2||100,y:g||(null===(t=_.current)||void 0===t?void 0:t.clientHeight)/2-s/2||100,width:r,height:s,maximized:!1}},re=Object(i.useState)(v?ee():ne()),le=Object(j.a)(re,2),de=le[0],pe=le[1],be=de.maximized&&!(de.maximized&&de.width>M&&de.height>V)||!de.maximized&&!(!de.maximized&&de.width<G&&de.height<H),je=Object(o.jsx)(X.a,{elevation:10,className:T.root,children:Object(o.jsxs)(se.b,{children:[Object(o.jsxs)(Y.a,{position:"static",className:T.appBarHang,children:[Object(o.jsxs)(Z.a,{variant:"dense",children:[Object(o.jsx)(J.a,{variant:"h6",className:T.titleClass,children:Object(P.a)(m,D)}),Object(o.jsx)("div",{className:T.grow}),!h&&Object(o.jsx)(K.a,{title:de.maximized?"Riduci":"Ingrandisci","aria-label":de.maximized?"Riduci":"Ingrandisci",children:Object(o.jsx)("span",{children:Object(o.jsx)($.a,{color:"inherit",size:"medium",disabled:be,onClick:function(){return pe(de.maximized?ne():ee())},children:de.maximized?Object(o.jsx)(ae.a,{fontSize:"inherit",color:be?"disabled":"#ffffff"}):Object(o.jsx)(te.a,{fontSize:"inherit",color:be?"disabled":"#ffffff"})})})}),Object(o.jsx)(K.a,{title:"Chiudi","aria-label":"chiudi",children:Object(o.jsx)($.a,{color:"inherit",size:"medium",onClick:function(){return I({actionType:"CLOSE_COMPONENT",appClass:R})},children:Object(o.jsx)(ie.a,{fontSize:"inherit",color:"inherit"})})})]}),Object(o.jsx)(ue,{})]}),Object(o.jsx)("div",{className:T.content,children:t})]})});if(h){var me=Object(O.a)((function(){return Object(p.a)({},q,{height:s,width:r})}))();return Object(o.jsx)(oe.a,{classes:{paper:me[q]},isOpen:U,handleClose:function(){W(!1),I({actionType:"CLOSE_COMPONENT",appClass:R})},minWidth:l||r,minHeight:u||s,maxWidth:d||r,maxHeight:b||s,children:Object(o.jsx)(k.a,{children:je})})}return Object(o.jsx)(k.a,{children:Object(o.jsx)(Q.a,{size:{width:de.width,height:de.height},position:{x:de.x,y:de.y},onDragStop:function(e,t){return pe(Object(a.a)(Object(a.a)({},de),{},{x:t.x,y:t.y}))},onResizeStop:function(e,t,n,r,i){return pe(Object(a.a)(Object(a.a)({},de),{},{width:n.style.width,height:n.style.height}))},minWidth:l||r,minHeight:u||s,maxWidth:d||r,maxHeight:b||s,style:{display:"flex",zIndex:B},cancel:"input",bounds:"parent",dragHandleClassName:T.appBarHang,onDragStart:L,children:je})})}var pe=n(385),be=n(1044),je=n(1038),me=Object(O.a)((function(e){return{inSSTabContent:{flexGrow:1,display:"flex",padding:e.spacing(1)},inSSTabContainer:{display:"flex",flexGrow:1,flexDirection:"column"}}})),he=function(e){var t=e.children,n=me(),a=Object(i.useState)(0),r=Object(j.a)(a,2),s=r[0],l=r[1],u=Object(i.useContext)(N.a),d=(u.componentData,u.setData,Object(i.useContext)(k.b).selectedRow);Object(i.useEffect)((function(){for(var e=c.a.Children.toArray(t),n=0;n<e.length;n++)e[n].props.componentName}),[s]);var p=function(e,n){for(var a=c.a.Children.toArray(t),r=0;r<a.length;r++)if(a[r].props.aliasName===e&&(!n||a[r].props.componentName===n))return void l(r);console.warn("Cant find element for setRequiredIndex",e,n)};return Object(o.jsxs)("div",{className:n.inSSTabContainer,children:[Object(o.jsx)(be.a,{value:s,onChange:function(e,t){return l(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:c.a.Children.toArray(t).map((function(e,t){var n;return Object(o.jsx)(je.a,{label:e.props.title,disabled:"INComponentGroup"===(null===(n=e.props)||void 0===n?void 0:n.componentName)&&!d},t)}))}),Object(o.jsx)("div",{className:n.inSSTabContent,children:Object(o.jsx)(T.b,{showForm:function(e){return p(e,"INComponentGroup")},showPanel:function(e){p(e)},children:c.a.Children.toArray(t).map((function(e,t){return s===t&&e}))})})]})},fe=function(e){var t=e.children;return Object(o.jsx)(o.Fragment,{children:t})},Oe=n(471),ge=function(e){var t,n=!0,a=!0,r=[];switch(e){case"INForm":t=de,a=!1,r.push("title");break;case"INDBTreeView":case"INDBList":t=pe.a,n=!1,r.push("dataSource");break;case"INSSTab":t=he;break;case"INPanel":t=fe,r.push("title");break;case"INContainer":t=fe;break;case"INDataEntryBox":t=_.a,n=!1,r.push("fieldName","boxType");break;case"INTextEdit":t=u.a,n=!1,r.push("fieldName");break;case"INButton":t=M,n=!1,r.push("text");break;case"INImage":t=H,n=!1,r.push("imageURL");break;case"INComponentGroup":t=L;break;case"INLabel":t=s,n=!1,r.push("text");break;case"INCheckBox":t=l.a,n=!1,r.push("label");break;case"INContextMenu":t=Oe.a,n=!1,r.push("menu_list");break;default:throw new Error("Invalid component type ".concat(e))}return{className:t,canHaveChild:n,canBeChild:a,parentWrapper:undefined,childWrapper:undefined,mandatoryProps:r}},xe=n(237),ve=n(203),qe=function(e){var t=e.componentDirection,n=e.componentAlign,r=e.grow,i=e.spacing,s=e.children;return Object(o.jsx)("div",{className:"INHorizontalGridContainer",style:{display:"flex",width:"100%",flexGrow:null!==r&&void 0!==r?r:1,flexDirection:"row",alignContent:n,justifyContent:t},children:c.a.Children.toArray(s).map((function(e,t){var n,r=(n=e.props)?Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},n.width&&{width:n.width}),n.height&&{height:n.height}),n.padding_Bottom&&{paddingBottom:n.padding_Bottom}),n.padding_Top&&{paddingTop:n.padding_Top}),n.padding_Left&&{paddingLeft:n.padding_Left}),n.padding_Right&&{paddingRight:n.padding_Right}),n.grow&&{flexGrow:n.grow}),n.componentAlign&&{alignSelf:Object(ve.a)(n.componentAlign)}):{};return Object(o.jsx)("div",{className:"INHorizontalGridItem",style:Object(a.a)({display:"flex",paddingLeft:i,paddingRight:i},r),children:e},t)}))})};qe.defaultProps={componentDirection:"center",componentAlign:"center",spacing:16};var ye=qe,Ce=["componentLayout","components"],we=function(e){var t=e.componentLayout,n=(e.components,Object(r.a)(e,Ce));if(t&&"BORDER_LAYOUT"!==t){var a,i,c=(i=n,{componentDirection:Object(ve.a)(i.componentDirection),componentAlign:Object(ve.a)(i.componentAlign),grow:i.grow,spacing:i.layoutSpacing,height:i.height,left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.width});switch(t){case"BORDER_LAYOUT":case"GRID_LAYOUT":case"VERTICAL_GRID":a=xe.a;break;case"HORIZONTAL_GRID":a=ye;break;default:throw new Error("Invalid layout type ".concat(t))}return{className:a,attr:c}}},Se=["components","componentType"];t.a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)throw new Error("Empty layout data supplied");var i=t.components,o=t.componentType,s=Object(r.a)(t,Se),l=ge(o);if(!l.canHaveChild)throw new Error("The component ".concat(o," cannot have children"));for(var u=[],d=0;d<i.length;d++){var p=i[d],b=ge(p.componentType);if(!b.canBeChild)throw new Error("The component ".concat(p.componentType," cannot be a child"));if(b.mandatoryProps.length>0&&function(){var e=Object.keys(p),t=b.mandatoryProps.filter((function(t){return!e.includes(t)}));if(t.length>0)throw new Error("The component ".concat(p.componentType," is missing mandatory props: ").concat(t.toString()))}(),p.components&&Array.isArray(p.components)&&p.components.length>0){var j=e(p,d);u.push(j)}else u.push(c.a.createElement(b.className,Object(a.a)({key:n+d},p)))}var m=we(t);m&&(u=c.a.createElement(m.className,Object(a.a)({key:n},m.attr),u)),l.childWrapper&&(u=c.a.createElement(l.childWrapper,{key:n},u));var h=c.a.createElement(l.className,Object(a.a)({key:n},s),u);return l.parentWrapper?c.a.createElement(l.parentWrapper,{key:n},h):h}},245:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(5),r=n(0),i=n(77),c=n(682),o=n(1020),s=n(1022),l=n(1021),u=n(33),d=n(180),p=n(40),b=n(126),j=n(1097),m=n(297),h=n(159),f=n(128),O=n(391),g=n.n(O),x=n(207),v=n(227),q=n(140),y=n(58),C=n(139),w=n(53),S=(n(194),n(1)),N=Object(i.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end"},wrapper:{margin:e.spacing(1),position:"relative"},fabProgress:{color:v.a[500],position:"absolute",top:-1,left:-2,zIndex:1}}}));function T(e){var t=e.productId,n=e.show,i=N(),c=0,o=Object(r.useState)(!1),s=Object(a.a)(o,2),l=s[0],u=s[1],d=Object(r.useContext)(y.a).isAuth,p=Object(r.useContext)(q.a).addToCart,b=Object(C.a)(),O=Object(w.a)();return Object(S.jsx)("div",{className:i.root,children:Object(S.jsx)(j.a,{in:n||l,children:Object(S.jsx)("div",{className:i.wrapper,children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{type:"number",style:{width:50},disabled:l,onChange:function(e){c=e.target.value}}),Object(S.jsx)(h.a,{title:"Aggiungi al carrello","aria-label":"Aggiungi al carrello",children:Object(S.jsx)(f.a,{disabled:l,onClick:function(e){e.preventDefault(),e.stopPropagation(),l||(d?(u(!0),p(t,c<=0?1:c).catch((function(){return O("Impossibile aggiungere l'elemento al carrello","error")})).finally((function(){return u(!1)}))):b())},children:Object(S.jsx)(g.a,{})})}),l&&Object(S.jsx)(x.a,{size:48,thickness:2,className:i.fabProgress})]})})})})}var P=n(103),k=n(30),A=Object(i.a)((function(e){return{root:{maxWidth:280,minWidth:280,height:320},link:{textDecoration:"none"},cardDescriptionContainer:{display:"flex",alignItems:"center"},priceContainer:{flex:1},addToCartButtonContainer:{flex:1,alignSelf:"center",textAlign:"end"},media:{height:180,width:"100%",objectFit:"scale-down",padding:e.spacing(2)}}}));function I(e){var t=e.title,n=e.price,i=e.imageURL,j=e.available,m=e.productId,h=e.addToCart,f=e.id_firstsize,O=e.id_firstcolor,g=e.firstcodtot,x=A(),v=Object(r.useState)(!1),q=Object(a.a)(v,2),y=(q[0],q[1],Object(r.useState)(!1)),C=Object(a.a)(y,2),w=C[0],N=(C[1],Object(r.useState)([])),I=Object(a.a)(N,2);I[0],I[1],Object(k.a)().getProductOptions;return Object(S.jsx)(c.a,{in:!0,timeout:250,children:Object(S.jsxs)(o.a,{className:x.root,children:[Object(S.jsx)(p.b,{to:"/ecommerce/product/".concat(m,"?option=").concat(f,"&variant=").concat(O),className:x.link,children:Object(S.jsx)(s.a,{className:x.media,image:i||b.a,title:t,component:"img"})}),Object(S.jsxs)(l.a,{children:[Object(S.jsx)(u.a,{color:"textSecondary",variant:"body2",children:t}),Object(S.jsx)(u.a,{style:{paddingTop:"0px",paddingBottom:"0px",color:"#007600",fontSize:"10pt"},children:j?"Disponibile":Object(S.jsx)(d.a,{fontStyle:"italic",children:"Non disponibile"})}),Object(S.jsxs)("div",{className:x.cardDescriptionContainer,children:[Object(S.jsx)("div",{className:x.priceContainer,children:Object(S.jsx)(u.a,{variant:"h6",color:"textPrimary",children:Object(P.a)(n)})}),h&&Object(S.jsx)("div",{className:x.addToCartButtonContainer,children:!w&&Object(S.jsx)(T,{productId:g,show:!0})})]})]})]})})}I.defaultProps={imageURL:b.a,title:"",price:0,available:!0,productId:1,addToCart:!0}},295:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(29),r=n(32),i=n(56),c=n(85),o=n(396),s=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,a){var i;return Object(r.a)(this,n),(i=t.call(this,e)).error=a,i}return Object(a.a)(n)}(Object(o.a)(Error))},30:function(e,t,n){"use strict";(function(e){var a=n(48),r=n(10),i=n(21),c=n(8),o=n(5),s=n(0),l=n(246),u=n.n(l),d=n(54),p=n(228),b=n(229),j=n(53),m=n(295),h=n(407),f=function(e){var t=e.split("?"),n=Object(o.a)(t,2),a=n[0],r=n[1],i={};return r?(r.split("::").map((function(e){var t=e.split("="),n=Object(o.a)(t,2),a=n[0],r=n[1];return i[a]=r,e})),[a,i]):[a,i]};t.a=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=Object(s.useContext)(d.b),O=l.sessionData,g=l.baseURL,x=l.isAuth,v=l.logout,q=Object(s.useContext)(p.a),y=q.setLoading,C=Object(s.useContext)(b.a),w=C.handleINFormLoader,S=Object(j.a)(),N=Object(s.useState)(!1),T=Object(o.a)(N,2),P=T[0],k=T[1],A=Object(s.useMemo)((function(){return u.a.create({baseURL:g,paramsSerializer:function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("::")}})}),[g,x,O]);Object(s.useEffect)((function(){t?y(P):w&&w(P)}),[P]),Object(s.useEffect)((function(){console.log("Registering API Interceptors");var e=A.interceptors.request.use((function(e){return k(!0),x&&(e.params=Object(c.a)(Object(c.a)({},O),e.params)),console.log("Making API Request to ".concat(e.baseURL,"/").concat(e.url," params ").concat(JSON.stringify(e.params))),e}),(function(e){return n&&S("Errore del server. Riprovare.","error"),k(!1),Promise.reject(e)})),t=A.interceptors.response.use((function(e){return k(!1),console.log("Got response data",e),200===e.status&&"string"===typeof e.data&&(e.data.includes("UNAUTHORIZED")||e.data.includes("session not exist"))?(console.log("Got unauthorized 401"),void v()):e}),(function(e){var t;if(k(!1),401===(null===(t=e.response)||void 0===t?void 0:t.status))return console.log("Got unauthorized 401"),v(),void Promise.reject(e);n&&S("Errore del server. Riprovare.","error"),Promise.reject(e)}));return function(){console.log("Removing axios interceptors"),A.interceptors.request.eject(e),A.interceptors.response.eject(t)}}),[A,x]);var I=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(d.d)(A,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("get_users_of_inceptiumid");case 3:return t=e.sent,n=t.data,a=n.map((function(e){return{id:e.id_WebUsers,description:e.description,isOnline:"CONNECTED"===e.user_connected_status,type:e.user_profile,email:e.user_email,name:e.user_name,surname:e.user_surname,fullName:"".concat(e.user_name," ").concat(e.user_surname),username:e.user}})),e.abrupt("return",Promise.resolve(a));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,c=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],e.prev=1,e.next=4,A.get("get_user_by_login",{params:{user_login:t}});case 4:if(a=e.sent,i=a.data,n){e.next=8;break}return e.abrupt("return",i);case 8:return e.abrupt("return",{id:i.id_WebUsers,description:i.description,isOnline:"CONNECTED"===i.user_connected_status,type:i.user_profile,email:i.user_email,password:i.password,name:i.user_name,surname:i.user_surname,fullName:"".concat(i.user_name," ").concat(i.user_surname),username:i.user});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=Object(i.a)(Object(r.a)().mark((function t(n){var a,i,c,o,s,l,u,d,p,b,j,m;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.username,i=n.password,c=n.type,o=n.email,s=n.description,l=n.name,u=n.surname,t.next=3,E(a,!1);case 3:return(d=t.sent).description=s||d.description,d.user_email=o||d.user_email,d.user_name=l||d.user_name,d.user_surname=u||d.user_surname,d.user_type=c||d.user_type,d.user_profile=c||d.user_profile,d.password=i||d.password,d.user=a||d.user,p=JSON.stringify(d),b=e.from(p).toString("base64"),t.prev=14,t.next=17,A.get("update_user_of_inceptium_id",{params:{jsondata:b}});case 17:return j=t.sent,m=j.data,t.abrupt("return",Promise.resolve(m));case 22:return t.prev=22,t.t0=t.catch(14),t.abrupt("return",Promise.reject(t.t0));case 25:case"end":return t.stop()}}),t,null,[[14,22]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,c,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,i=t.type,e.prev=1,e.next=4,A.get("add_user_to_inceptiumid",{params:{new_user:n,new_user_password:a,new_user_type:"user",user_profile:i}});case 4:if(c=e.sent,o=c.data,Array.isArray(o)&&1===o.length){e.next=10;break}if(!o||!o.toLowerCase().includes("exists")){e.next=9;break}throw new new m.a("L'utente ".concat(n," esiste gi\xe0."),{username:"Questo utente esiste gi\xe0."});case 9:throw new Error("Impossibile aggiungere l'utente");case 10:return e.abrupt("return",R(t));case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("delete_user_of_inceptiumid",{params:{id_web_user:t}});case 3:return n=e.sent,a=n.data,e.abrupt("return",Promise.resolve(a));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("get_apps_inceptiumid");case 3:return t=e.sent,n=t.data,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var t=Object(i.a)(Object(r.a)().mark((function t(n,a,i,o){var s,l,u,d,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={},a&&(l=e.from("where ".concat(a)).toString("base64"),s["filter.b64"]=l),i&&(u=e.from("".concat(i)).toString("base64"),s["order.b64"]=u),t.prev=3,t.next=6,A.get("callappcommand",{params:Object(c.a)(Object(c.a)({command:"getrecords",class:n},s),o||{})});case 6:if(d=t.sent,""!==(p=d.data)){t.next=10;break}return t.abrupt("return",[]);case 10:return t.abrupt("return",Promise.resolve(p));case 13:return t.prev=13,t.t0=t.catch(3),t.abrupt("return",Promise.reject(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n,a,r){return t.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){var a,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("callappcommand",{params:{command:"getsinglerecord",class:t,id:n}});case 3:if(a=e.sent,""!==(i=a.data)){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Promise.resolve(i));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,c,o,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("load_app",{params:{classapp:t}});case 3:n=e.sent,a=n.data,console.log("App is loading with taskid",a);case 6:return e.next=9,A.get("get_task_status",{params:{taskid:a}});case 9:if(c=e.sent,o=c.data,i=o.newEventFromTask,"TASK_END"!==(s=o.currentStatus)){e.next=17;break}return e.abrupt("break",25);case 17:if("TASK_RUNNING"!==s){e.next=22;break}return e.next=20,Object(h.a)(1e3);case 20:e.next=23;break;case 22:throw new Error("Task failed");case 23:e.next=6;break;case 25:return console.log("App loaded "+i),e.abrupt("return",i);case 29:e.prev=29,e.t0=e.catch(0),console.error(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:return n=e.sent,e.next=6,A.get("get_app_dock",{params:{classapp:t}});case 6:return a=e.sent,i=a.data,c=i.menu_list,e.abrupt("return",Promise.resolve({menu:c,newevent:n}));case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,c,s,l,u,d,p,b=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=f(t),a=Object(o.a)(n,2),i=a[0],c=a[1],e.prev=1,s=b.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=b[u];return e.next=5,A.get(i,{params:Object.assign.apply(Object,[c].concat(l))});case 5:return d=e.sent,p=d.data,e.abrupt("return",Promise.resolve(p));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){var a,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("callappcommand",{params:Object(c.a)({command:"addnewrecord",class:t},n)});case 3:return a=e.sent,i=a.data,e.abrupt("return",Promise.resolve(i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var t=Object(i.a)(Object(r.a)().mark((function t(n,a){var i,c,o,s,l,u,d,p,b,j=arguments;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=!(j.length>2&&void 0!==j[2])||j[2],c=JSON.stringify(a),o=e.from(c).toString("base64"),t.prev=3,t.next=6,A.get("callappcommand",{params:{command:"updaterecord",persist:i,class:n,"jsondata.b64":o}});case 6:if(s=t.sent,"string"!==typeof(l=s.data)){t.next=37;break}if(!l.includes("SQL_UPDATE_ERROR")){t.next=11;break}return t.abrupt("return",Promise.reject(new Error("SQL_UPDATE_ERROR")));case 11:if(!l.includes("SQL_UPDATE_CANCEL")){t.next=24;break}u=l.replace("SQL_UPDATE_CANCEL",""),d={},t.prev=14,d=JSON.parse(u),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(14),console.error("Cannot parse response",u);case 21:return t.prev=21,t.abrupt("return",Promise.reject({error:"SQL Update canceled",action:d}));case 24:if(!l.includes("SQL_UPDATE_SUCCESS")){t.next=37;break}p=l.replace("SQL_UPDATE_SUCCESS",""),b={},t.prev=27,b=JSON.parse(p),t.next=34;break;case 31:t.prev=31,t.t1=t.catch(27),console.error("Cannot parse response",p);case 34:return t.prev=34,t.abrupt("return",Promise.resolve(b));case 37:return t.abrupt("return",Promise.resolve(l));case 40:return t.prev=40,t.t2=t.catch(3),t.abrupt("return",Promise.reject(t.t2));case 43:case"end":return t.stop()}}),t,null,[[3,40],[14,18,21,24],[27,31,34,37]])})));return function(e,n){return t.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("callappcommand",{params:{command:"deleterecord",class:t,id:n}});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.post(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z("com.eterea.data.registry.articles.ArticlesRegistry",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.eterea.data.registry.articles.ArticlesRelativeLink","codTot='".concat(t,"' AND linkType='").concat(n,"'")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.indoc.data.documentary.QDocumentary","class_TableRef='com.eterea.data.registry.articles.ArticlesRegistry' AND id_record_Ref='".concat(t,"'")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a,i,c,o,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("com.eterea.data.registry.articles.ArticlesSizes","id_ArticlesRegistry='".concat(t,"'"));case 3:return i=e.sent,e.next=6,F("com.eterea.data.registry.articles.QArticlesRegistrySizeColor","id_ArticlesRegistry='".concat(t,"'"));case 6:return c=e.sent,o=i.map((function(e){var t;return{label:e.description,id:e.id_ArticlesSizes,variants:null===(t=c.filter((function(t){return t.id_ArticlesSizes===e.id_ArticlesSizes})))||void 0===t?void 0:t.map((function(e){return{label:e.articleColorDes,productCode:e.codTot,id:e.id_QArticlesRegistrySizeColor,price:e.sellingPriceTotVat}}))}})),s=i.length>1||(null===i||void 0===i||null===(n=i[0])||void 0===n||null===(a=n.variants)||void 0===a?void 0:a.length)>1,e.abrupt("return",{hasMultipleOptions:s,options:o});case 12:return e.prev=12,e.t0=e.catch(0),console.error("Error fetching product variants",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H("com.eterea.data.cart.UserCartList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V("com.eterea.data.cart.UserCartList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,n,a=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1?a[1]:void 0,e.abrupt("return",F("com.eterea.data.registry.articles.QArticlesCategoryEC","id_Father = '".concat(t,"'"),null,n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.eterea.data.registry.articles.FeaturesRegistry","exposeOnWeb=true","order by progressiveOrder",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.eterea.data.registry.articles.QArticlesCategoryEC","categoryFullPathCode = '".concat(t,"'"),null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.eterea.data.registry.articles.QArticleRegistryIstant",t?"articlesCategoryCode like '".concat(t,"%'"):null,null,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.eterea.data.registry.articles.QArticleRegistryIstant",t?" (".concat(ie("ac.categoryFullPathDescription",t)," or ").concat(ie("ar.description",t)," ) or id_FeaturesRegistry='").concat(t,"'"):null,null,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(e,t){var n,r=t.split(" ").values(),i="",c=Object(a.a)(r);try{for(c.s();!(n=c.n()).done;){var o=n.value;i+=" and ".concat(e," like '%").concat(o,"%' ")}}catch(s){c.e(s)}finally{c.f()}return i="("+i.replace("and","")+")",console.log(i),i},ce=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("com.eterea.data.cart.UserCart");case 3:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===t;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=t[0];case 12:if(n=e.t2){e.next=15;break}throw new Error("Cannot get user cart");case 15:return e.abrupt("return",Promise.resolve(n));case 18:return e.prev=18,e.t3=e.catch(0),e.abrupt("return",Promise.reject(e.t3));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return n=e.sent,e.next=6,V("com.eterea.data.cart.UserCart",Object(c.a)(Object(c.a)({},n),{},{codPaymentType:t}),!0);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return n=e.sent,e.next=6,V("com.eterea.data.cart.UserCart",Object(c.a)(Object(c.a)({},n),{},{id_PersonShippingAddress:t}),!0);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:return t=e.sent,e.next=6,V("com.eterea.data.cart.UserCart",t,!0);case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("com.eterea.data.cart.UserCartList","id_UserCart = '".concat(t,"'"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z("com.eterea.data.registry.person.CustomersAndSuppliers",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F("com.eterea.data.registry.person.PersonShippingAddress","id_CustomersAndSuppliers = '".concat(t,"'")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){return F("com.eterea.data.cart.UserCartPaymentType")},je=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n,a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("callappcommand",{params:{command:"executemethod",class:"com.eterea.data.cart.UserCart",method:"_addNewArticle",id_UserCart:t,codTot:n,quantity:a}});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var t,n,a,i,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.get("callappcommand",{params:{command:"executemethod",class:"com.eterea.data.cart.action.Action_CreateOrder",method:"_executeAction"}});case 3:t=e.sent,n=t.data;case 5:return e.next=8,A.get("get_task_status",{params:{taskid:n}});case 8:if(a=e.sent,i=a.data,"TASK_END"!==(c=i.currentStatus)){e.next=15;break}return e.abrupt("break",23);case 15:if("TASK_RUNNING"!==c){e.next=20;break}return e.next=18,Object(h.a)(1e3);case 18:e.next=21;break;case 20:throw new Error("Task failed");case 21:e.next=5;break;case 23:return e.abrupt("return",Promise.resolve());case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n,a){var i,s,l,u,d,p,b,j,m;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),i=f(t),s=Object(o.a)(i,2),l=s[0],u=s[1],e.prev=2,e.next=5,A.get(l,{params:Object(c.a)(Object(c.a)({},u),n)});case 5:if(d=e.sent,p=d.data,a){e.next=10;break}return k(!1),e.abrupt("return",Promise.resolve());case 10:return e.next=13,A.get("get_task_status",{params:{taskid:p}});case 13:if(b=e.sent,j=b.data,"TASK_END"!==(m=j.currentStatus)){e.next=20;break}return e.abrupt("break",28);case 20:if("TASK_RUNNING"!==m){e.next=25;break}return e.next=23,Object(h.a)(1e3);case 23:e.next=26;break;case 25:throw new Error("Task failed");case 26:e.next=10;break;case 28:return k(!1),e.abrupt("return",Promise.resolve(b.data));case 32:return e.prev=32,e.t0=e.catch(2),k(!1),e.abrupt("return",Promise.reject(e.t0));case 36:case"end":return e.stop()}}),e,null,[[2,32]])})));return function(t,n,a){return e.apply(this,arguments)}}();return{login:I,startApp:W,loadApp:U,getApps:B,getUsers:D,addUser:L,getUser:E,deleteUser:_,updateUser:R,getRecords:F,getRecord:z,get:M,createRecord:G,updateRecord:V,deleteRecord:H,executeCommand:he,uploadResource:Q,isLoading:P,getUserCart:ce,refreshUserCart:le,getCartList:ue,addToCart:je,removeFromCart:Z,updateCartProduct:$,getProducts:ae,getProductsByName:re,getCategories:ee,getCategory:ne,getFeaturesRegistry:te,getProductDetails:X,getProductOptions:Y,getUserShippingAddresses:pe,getUserData:de,getPaymentMethods:be,updateCartPaymentMethod:oe,updateCartShippingAddress:se,getProductMedia:J,getProductDocumentary:K,createOrder:me}}}).call(this,n(260).Buffer)},355:function(e,t,n){"use strict";var a=n(675);t.a=Object(a.a)((function(e){e("manage","User")}))},379:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(8),r=n(4),i=n(0),c=n.n(i),o=n(1),s=["children"],l=c.a.createContext();l.Consumer;function u(e){var t=e.children,n=Object(r.a)(e,s);return Object(o.jsx)(l.Provider,{value:Object(a.a)({},n),children:t})}},380:function(e,t,n){"use strict";var a=n(8),r=n(5),i=n(4),c=(n(0),n(47)),o=n(469),s=n(474),l=n(1),u=["aliasName","fieldName","label"];t.a=function(e){var t=e.aliasName,n=e.fieldName,d=e.label,p=Object(i.a)(e,u),b=Object(c.d)({name:n||t}),j=Object(r.a)(b,1)[0],m=Object(c.e)().isSubmitting;return Object(l.jsx)(o.a,{control:Object(l.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{checked:!!j.value,disabled:p.disabled||m})),label:d})}},385:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return U}));var a=n(9),r=n(10),i=n(8),c=n(15),o=n(21),s=n(5),l=n(0),u=n.n(l),d=n(395),p=n(674),b=n(232),j=n(30),m=n(138),h=n(239),f=n(55),O=n(53),g=n(656),x=n.n(g),v=n(476),q=n(159),y=n(128),C=n(465),w=n(33),S=n(653),N=n(657),T=n.n(N),P=n(658),k=n.n(P),A=n(292),I=n(118),D=n(99),E=n(677),R=n(230),L=n.n(R),_=n(399),B=(n(471),n(655)),F=n(678),z=n(1);B.menu_list;function U(t){var n=t.componentType,g=t.dataSource,N=t.title,P=t.columns,R=t.search,B=t.inLineEdit,U=t.aliasName,W=t.refINDBpanelAlias,M=t.recordForPage,G=t.viewOnly,V=t.onRowSelect,H=t.toolbar,Q=t.header,X=t.height,J=(t.width,t.deleteRecord),K=t.addRecord,Y=t.menu_list,Z=t.comboBox_list,$=Object(l.useContext)(f.a),ee=$.setData,te=$.componentData,ne=$.dispatch,ae=Object(l.useContext)(h.a),re=Object(l.useContext)(D.b),ie=re.searchString,ce=re.changedSearchString,oe=re.selectedRow,se=re.changeSelectedRow,le=re.page,ue=re.onChangePage,de=re.setCharge,pe=re.changeOrderBy,be=re.orderBy,je=re.changeInceptiumFilter,me=re.inceptiumFilteringString,he=Object(j.a)(!1),fe=he.getRecords,Oe=he.createRecord,ge=he.deleteRecord,xe=he.updateRecord,ve=he.get,qe=u.a.useState(null),ye=Object(s.a)(qe,2),Ce=ye[0],we=ye[1],Se=u.a.useState(!1),Ne=Object(s.a)(Se,2),Te=Ne[0],Pe=Ne[1],ke=Object(l.useState)(null),Ae=Object(s.a)(ke,2),Ie=Ae[0],De=Ae[1],Ee=Object(l.useState)(!1),Re=Object(s.a)(Ee,2),Le=Re[0],_e=Re[1],Be=Object(l.useState)(!0),Fe=Object(s.a)(Be,2),ze=Fe[0],Ue=Fe[1],We=Object(l.useState)([]),Me=Object(s.a)(We,2),Ge=Me[0],Ve=Me[1],He=Object(l.useState)({}),Qe=Object(s.a)(He,2),Xe=Qe[0],Je=Qe[1],Ke=Object(O.a)(),Ye=Object(l.useState)({rowsPerPage:M||100,totalRows:0,page:0}),Ze=Object(s.a)(Ye,2),$e=Ze[0],et=Ze[1],tt=Object(l.useState)(),nt=Object(s.a)(tt,2),at=nt[0],rt=nt[1],it=Object(l.useState)(""),ct=Object(s.a)(it,2),ot=ct[0],st=ct[1],lt=Object(l.useRef)(),ut="INDBTreeView"===n,dt=be.direction,pt=g.dataSourceClassName,bt=g.dataSourceClassNameForUpdate,jt=g.fieldNamePrimaryKey,mt=g.fieldNameIDDependedClass,ht=g.recoversIDFromAlias,ft=g.newRecordCommand,Ot=g.selectRecordCommand,gt=null,xt=P||[];Array.isArray(Y)&&Y.length>0&&(gt=Y[0].children),xt=xt.map((function(e){var t,n={field:e.columnField,title:e.columnLabel,type:null===(t=e.columnType)||void 0===t?void 0:t.toLowerCase(),customSort:function(){return!0}};switch(null===n||void 0===n?void 0:n.type){case"currency":n.currencySetting={locale:"it-IT",currencyCode:"EUR",minimumFractionDigits:2};break;case"text":n.type="string";break;case"date":case"time":case"datetime":n.render=function(e){var t,a=e[n.field];if(a)return t="date"===n.type?"dd/MM/yyyy":"time"===n.type?"HH:mm":"dd/MM/yyyy HH:mm",Object(d.a)(a,t,{locale:p.a})}}return n}));var vt=function(){return ft?ve(Object(I.a)(ft,te)):Oe(bt)},qt=function(){var t=Object(o.a)(Object(r.a)().mark((function t(n,a,o,s){var l,u,d,p,b,j;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ue(!0),!mt||n||ut){t.next=5;break}return Ke("Nessun record selezionato","warning"),Ue(!1),t.abrupt("return",Promise.resolve());case 5:return l=mt?"".concat(mt,"='").concat(n||"","'"):"",u=xt.map((function(e){return"".concat(e.field," LIKE '%").concat(o,"%'")})).join(" OR "),o&&(l=l?"".concat(l," OR ").concat(u):u),d={recordForPage:$e.rowsPerPage,page:(null!==a&&void 0!==a?a:$e.page)+1},Ot?(b=e.from("where ".concat(l)).toString("base64"),j=e.from("".concat(s)).toString("base64"),p=ve(Object(I.a)(Ot,te),l?{"filter.b64":b}:{},s?{"order.b64":j}:{},d||{})):p=fe(pt,l,s,d),t.abrupt("return",p.then((function(e){var t,r,o=ut&&n?[].concat(Object(c.a)(Ge),Object(c.a)(e)):e;return et(Object(i.a)(Object(i.a)({},$e),{},{page:a||0,totalRows:((null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.totPage)||0)*((null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.recordForPage)||0)||o.length})),Ve(o),e})).catch(console.error).finally((function(){Ue(!1),st(o)})));case 11:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),yt=function(e){var t,n=be.columnId,a=be.direction,r="ORDER BY ".concat(null===(t=xt[n])||void 0===t?void 0:t.field," ").concat(a.toUpperCase());se(null),ce(e),-1===n?qt(ut?"":te[ht],0,e):qt(ut?"":te[ht],0,e,r)};Object(l.useEffect)((function(){var e,t=be.columnId,n=be.direction,a="ORDER BY ".concat(null===(e=xt[t])||void 0===e?void 0:e.field," ").concat(n.toUpperCase());if(pe(Object(i.a)(Object(i.a)({},be),{},{direction:"s,"+n})),-1===t)return lt.current.onChangeOrder(t,n),void qt(ut?"":te[ht],le,ie,null);lt.current.onChangeOrder(t,n),qt(ut?"":te[ht],le,ie,a)}),[]);var Ct={components:{Container:function(e){return Object(z.jsx)("div",Object(i.a)(Object(i.a)({className:"INDBListContainer"},e),{},{style:{width:"100%"}}))},Pagination:function(e){return Object(z.jsx)(v.a,Object(i.a)(Object(i.a)({},e),{},{rowsPerPageOptions:[$e.rowsPerPage],rowsPerPage:$e.rowsPerPage,count:$e.totalRows,page:$e.page,onChangePage:function(e,t){var n,a=be.columnId,r=be.direction,i="ORDER BY ".concat(null===(n=xt[a])||void 0===n?void 0:n.field," ").concat(r.toUpperCase());-1===a?qt(ut?"":te[ht],t,ie):qt(ut?"":te[ht],t,ie,i),ue(t),se(null)}}))}}};ut&&(Ct.parentChildData=function(e,t){return t.find((function(t){return e[mt]===t[jt]}))},Ct.components.Action=function(e){var t,n,a,r,i,c,o,s,l;if("toolbar"===(null===e||void 0===e||null===(t=e.action)||void 0===t?void 0:t.position)&&"Add"===(null===e||void 0===e||null===(n=e.action)||void 0===n?void 0:n.tooltip))return Object(z.jsx)(q.a,{title:null===e||void 0===e||null===(a=e.action)||void 0===a?void 0:a.tooltip,children:Object(z.jsx)(y.a,{onClick:function(t){var n,a,r,i,c;(e.action.onClick(t,e.data),at)?null===(n=at.tableData)||void 0===n||null===(a=n.childRows)||void 0===a||a.forEach((function(e){var t;null!==(t=e.tableData)&&void 0!==t&&t.isTreeExpanded&&lt.current.onTreeExpandChanged(e.tableData.path)})):null===(r=lt.current)||void 0===r||null===(i=r.dataManager)||void 0===i||null===(c=i.data)||void 0===c||c.forEach((function(e){var t;null!==(t=e.tableData)&&void 0!==t&&t.isTreeExpanded&&lt.current.onTreeExpandChanged(e.tableData.path,!0)}))},"aria-label":null===e||void 0===e||null===(r=e.action)||void 0===r?void 0:r.tooltip,children:Object(z.jsx)(x.a,{})})});if("function"===typeof e.action){var d=e.action(e.data);return Object(z.jsx)(q.a,{title:d.tooltip,children:Object(z.jsx)(y.a,{"aria-label":d.icon,size:"small",onClick:function(t){return d.onClick(t,e.data)},children:Object(z.jsx)(d.icon,{})})})}return"keyboard_backspace"===e.action.icon?Object(z.jsx)(q.a,{title:null===e||void 0===e||null===(i=e.action)||void 0===i?void 0:i.tooltip}):Object(z.jsx)(q.a,{title:null===e||void 0===e||null===(c=e.action)||void 0===c?void 0:c.tooltip,children:Object(z.jsx)(y.a,{"aria-label":null===e||void 0===e||null===(o=e.action)||void 0===o?void 0:o.tooltip,size:"small",onClick:function(t){var n;return null===e||void 0===e||null===(n=e.action)||void 0===n?void 0:n.onClick(t,null===e||void 0===e?void 0:e.data)},children:"object"===typeof(null===e||void 0===e||null===(s=e.action)||void 0===s?void 0:s.icon)?u.a.createElement(e.action.icon):Object(z.jsx)(C.a,{children:null===e||void 0===e||null===(l=e.action)||void 0===l?void 0:l.icon})})})});Object(l.useEffect)((function(){}),[me]),Ct.components.Toolbar=function(e){return Object(z.jsxs)("div",{style:{padding:"1em"},children:[Object(z.jsxs)("div",{style:{display:"flex",paddingRight:8,minHeight:64,alignItems:"center"},children:[ot&&Object(z.jsx)("div",{children:Object(z.jsxs)(w.a,{variant:"body1",children:["Risultati ricerca per: ",Object(z.jsx)("b",{children:ot})]})}),Object(z.jsx)("div",{style:{flex:1}}),R&&Object(z.jsx)(S.a,{searchData:yt,currentQuery:ot}),Object(z.jsx)(q.a,{title:"Aggiorna dati",children:Object(z.jsx)(y.a,{onClick:function(){var e;se(null);var t=be.columnId,n=be.direction,a="ORDER BY ".concat(null===(e=xt[t])||void 0===e?void 0:e.field," ").concat(n.toUpperCase());-1===t?qt(ut?"":te[ht],$e.page,ie):qt(ut?"":te[ht],$e.page,ie,a)},children:Object(z.jsx)(T.a,{color:"inherit"})})}),!G&&!B&&K&&Object(z.jsx)(q.a,{title:"Aggiungi record",children:Object(z.jsx)(y.a,{onClick:function(){"undefined"!==typeof ae?(ce(""),se(null),vt().then((function(e){var t,n,r=e[jt];ee(null,null,(t={},Object(a.a)(t,W,r),Object(a.a)(t,U,r),t)),de(null,null,(n={},Object(a.a)(n,W,r),Object(a.a)(n,U,r),n)),ae.showForm(W)})).catch((function(e){return Ke("Impossibile creare un nuovo record","err")}))):console.warn("Cannot handle add action")},children:Object(z.jsx)(k.a,{color:"inherit"})})}),B&&Object(z.jsx)(A.MTableToolbar,Object(i.a)({},e))]}),Object(z.jsx)(F.a,{comboBoxItems:Z,changeInceptiumFilter:je})]})},Ct.components=Object(l.useMemo)((function(){return Ct.components}),[$e,R?ot:null]);var wt=[];return B||G||wt.push({icon:"edit",tooltip:"Modifica record",onClick:function(e,t){var n,r,i=t[jt]||t.tableData.id;G||(de(null,null,(n={},Object(a.a)(n,W,i),Object(a.a)(n,U,i),n)),ee(null,null,(r={},Object(a.a)(r,W,i),Object(a.a)(r,U,i),r)));se(t),ae.showForm(W)}}),B||G||!J||wt.push({icon:"delete",tooltip:"Elimina record",onClick:function(e,t){_e(!0),De(t);var n,r,i=t[jt]||t.tableData.id;G||(de(null,null,(n={},Object(a.a)(n,W,i),Object(a.a)(n,U,i),n)),ee(null,null,(r={},Object(a.a)(r,W,i),Object(a.a)(r,U,i),r)));se(t)}}),Array.isArray(Y)&&Y.length>0&&wt.push({tooltip:Y[0].menuName,icon:function(){return Object(z.jsx)(L.a,{})},onClick:function(e,t){e.preventDefault(),e.stopPropagation();var n,r,i=t[jt]||t.tableData.id;G||(de(null,null,(n={},Object(a.a)(n,W,i),Object(a.a)(n,U,i),n)),ee(null,null,(r={},Object(a.a)(r,W,i),Object(a.a)(r,U,i),r)));se(t);var c=e.currentTarget;we(c),Pe(!0)}}),Object(z.jsxs)(z.Fragment,{children:[Y&&Y.length>0&&Object(z.jsx)(_.a,{actions:gt,dispatch:ne,setMenuAnchor:we,setMenuOpen:Pe,menuOpen:Te,menuAnchor:Ce}),Object(z.jsx)(b.a,Object(i.a)(Object(i.a)({tableRef:lt,toolbar:H,header:Q,isLoading:ze,title:N||"",columns:xt,onOrderChange:function(e,t){var n,a=dt.split(","),r=1===a.length?a[0]:a[1];if(1===a.length)if(se(null),pe({columnId:e,direction:t}),-1!==e){var i="ORDER BY ".concat(null===(n=xt[e])||void 0===n?void 0:n.field," ").concat(t.toUpperCase());qt(ut?"":te[ht],le,ot,i)}else qt(ut?"":te[ht],le,ot,null);else pe({direction:r,columnId:e})},data:Ge,actions:wt},Ct),{},{onRowClick:function(e,t){var n,r=t[jt]||t.tableData.id;if(ut&&!Xe[r]&&"update"!==t.tableData.editing&&"delete"!==t.tableData.editing&&qt(r).then((function(e){e.length>0&&lt.current.onTreeExpandChanged(t.tableData.path),Je(Object(i.a)(Object(i.a)({},Xe),{},Object(a.a)({},r,!0)))})),t.tableData.id===(null===at||void 0===at||null===(n=at.tableData)||void 0===n?void 0:n.id)){var c,o;if(rt(null),se(null),!G)ee(null,null,(c={},Object(a.a)(c,W,null),Object(a.a)(c,U,null),c)),de(null,null,(o={},Object(a.a)(o,W,null),Object(a.a)(o,U,null),o));V(null)}else{var s,l;if(se(t),rt(t),!G)ee(null,null,(s={},Object(a.a)(s,W,r),Object(a.a)(s,U,r),s)),de(null,null,(l={},Object(a.a)(l,W,r),Object(a.a)(l,U,r),l));V(t)}},options:{search:!1,debounceInterval:300,pageSize:$e.rowsPerPage,pageSizeOptions:[$e.rowsPerPage],emptyRowsWhenPaging:!1,actionsColumnIndex:-1,maxBodyHeight:X&&"".concat(X,"px")||"500px",rowStyle:function(e){var t,n=e.distinctiveColor;if(ut){var a,r,i=(null===e||void 0===e||null===(a=e.tableData)||void 0===a||null===(r=a.path)||void 0===r?void 0:r.length)-1;n=Object(E.a)(n,i)}return{backgroundColor:(null===oe||void 0===oe||null===(t=oe.tableData)||void 0===t?void 0:t.id)===e.tableData.id?ut?"#ade8f4":"#DDD":n}}}},B?{editable:Object(i.a)(Object(i.a)({},K?{onRowAdd:function(e){return new Promise((function(t,n){vt().then((function(t){return xe(bt,Object(i.a)(Object(i.a)({},t),e))})).then((function(){return Je({}),ee(U,null),qt(ut?"":te[ht],$e.page)})).catch((function(){Ke("Impossibile creare il record","error"),n()})).finally((function(){return t()}))}))}}:{}),{},{onRowUpdate:function(e){return new Promise((function(t,n){xe(bt,e).then((function(){return Je({}),ee(U,null),qt(ut?"":te[ht],$e.page)})).catch((function(){Ke("Impossibile aggiornare il record","error"),n()})).finally((function(){return t()}))}))}},J?{onRowDelete:function(e){return new Promise((function(t,n){ge(bt,e[jt]).then((function(){return Je({}),ee(U,null),Ke("Record cancellato con successo","success"),qt(ut?"":te[ht],$e.page)})).catch((function(){Ke("Impossibile cancellare il record","error"),n()})).finally((function(){return t()}))}))}}:{})}:{})),Object(z.jsx)(m.a,{isOpen:Le,handlePrimaryClose:function(){return _e(!1)},handleSecondaryClose:function(){_e(!1),ge(bt,Ie[jt]).then((function(){De(null),Je({}),ee(U,null),se(null),Ke("Record cancellato con successo","success"),qt(ut?"":te[ht],$e.page)})).catch((function(e){console.error("Error deleting record",e),Ke("Errore avvenuto durante la cancellazione del record","error")}))},handleClose:function(){return _e(!1)},title:"Attenzione",description:"Sei sicuro di voler eliminare il record selezionato?"})]})}U.defaultProps={inLineEdit:!1,search:!1,viewOnly:!1,toolbar:!0,header:!0,onRowSelect:function(e){return console.log("rowData selected",e)},addRecord:!0,deleteRecord:!0}}).call(this,n(260).Buffer)},386:function(e,t,n){"use strict";var a=n(15),r=n(0),i=n(47),c=n(77),o=n(138),s=n(380),l=n(237),u=n(241),d=n(397),p=n(118),b=n(55),j=n(243),m=n(1),h=Object(c.a)((function(e){return{form:{width:"100%",padding:e.spacing(3)},header:{paddingLeft:e.spacing(3)}}}));t.a=function(e){var t=e.isOpen,n=e.description,c=e.title,f=e.primaryButtonText,O=e.secondaryButtonText,g=e.handlePrimaryClose,x=e.handleClose,v=e.requestParameterList,q=e.requestParameterComponentList,y=h(),C=Object(r.useContext)(b.a).componentData,w={},S=v.map((function(e){switch(e.parameterType.toLowerCase()){case"boolean":return w[e.parameterName]=!1,Object(m.jsx)(s.a,{aliasName:e.parameterName,fieldName:e.parameterName,label:e.parameterDescription},e.parameterName);case"text":return w[e.parameterName]=Object(p.a)(e.parameterDefaultValue,C)||"",Object(m.jsx)(d.a,{boxType:"text",aliasName:e.parameterName,fieldName:e.parameterName,id:e.parameterName,name:e.parameterName,label:e.parameterDescription},e.parameterName);default:console.warn("Unsupported type",e.parameterType)}}));if(Array.isArray(q)){var N={componentType:"INContainer",componentLayout:"VERTICAL_GRID",components:Object(a.a)(q)},T=Object(j.a)(N);S.push(T)}return Object(m.jsx)(i.b,{initialValues:w,enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting;return g(e,{setSubmitting:n})},children:function(e){var a=e.isSubmitting,r=e.submitForm;return Object(m.jsxs)(o.a,{isOpen:t,title:c,description:n,primaryButtonText:f,primaryButtonDisabled:a,secondaryButtonText:O,secondaryButtonDisabled:a,handlePrimaryClose:r,handleSecondaryClose:x,handleClose:x,children:[S.length>0&&Object(m.jsx)("div",{className:y.form,children:Object(m.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(m.jsx)(l.a,{children:S})})}),Object(m.jsx)(u.a,{open:a})]})}})}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(5),r=n(0),i=n(77),c=n(207),o=n(1022),s=n(33),l=n(297),u=n(126),d=n(103),p=n(196),b=n(1),j=Object(i.a)((function(e){return{media:{height:130,width:"100%",maxWidth:130,objectFit:"scale-down",paddingRight:e.spacing(3)}}}));function m(e){var t=e.title,n=e.imageURL,i=e.price,m=e.quantity,h=e.cartProductId,f=e.option,O=e.variant,g=e.hasOptionVariant,x=e.handleRemoveProduct,v=e.handleUpdateProductQty,q=e.deleteProduct,y=void 0===q||q,C=j(),w=Object(r.useState)(!1),S=Object(a.a)(w,2),N=S[0],T=S[1];return Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",padding:"24px",position:"relative"},children:[N&&Object(b.jsx)("div",{style:{position:"absolute",top:"40%",left:"50%"},children:Object(b.jsx)(c.a,{})}),Object(b.jsx)(o.a,{className:C.media,image:n||u.a,title:t,component:"img"}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[Object(b.jsx)(s.a,{color:"textPrimary",gutterBottom:!0,variant:"subtitle2",children:t}),g&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(s.a,{color:"textSecondary",variant:"body2",children:["Variante: ",f," - ",O]})}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"8px",alignItems:"center"},children:[Object(b.jsx)(s.a,{color:"textSecondary",variant:"subtitle1",children:"Quantit\xe0"}),Object(b.jsx)("div",{style:{flexGrow:1}}),Object(b.jsx)(l.a,{type:"number",style:{width:50},disabled:N,value:m,onChange:function(e){T(!0);var t=e.target.value;v(t).finally((function(){return T(!1)}))},onKeyDown:function(e){return e.preventDefault()},inputProps:{min:"1",step:"1",style:{textAlign:"center "}}})]}),Object(b.jsxs)("div",{style:{flexDirection:"row",display:"flex",marginTop:"16px",alignItems:"center"},children:[y&&Object(b.jsx)(p.a,{disabled:N,color:"primary",onClick:function(){T(!0),x(h).catch((function(){return T(!1)}))},style:{padding:0},children:"Rimuovi"}),Object(b.jsx)("div",{style:{flexGrow:1}}),Object(b.jsx)(s.a,{variant:"subtitle1",color:"textPrimary",children:Object(d.a)(i)})]})]})]})}},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(77),r=n(409),i=n(207),c=(n(0),n(1)),o=Object(a.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function s(){var e=o();return Object(c.jsx)(r.a,{className:e.backdrop,open:!0,children:Object(c.jsx)(i.a,{color:"inherit"})})}},397:function(e,t,n){"use strict";var a=n(8),r=n(5),i=n(0),c=n(1098),o=n(288),s=n(1091),l=n(1103),u=n(1100),d=n(673),p=n(47),b=n(385),j=n(99),m=n(138),h=n(1),f=function(e){var t=e.isOpen,n=e.handleClose,a=e.handleDataSelect,c=e.actionEvent,o=Object(i.useState)(null),s=Object(r.a)(o,2),l=s[0],u=s[1],d=Object(p.e)();Object(i.useEffect)((function(){t||u(null)}),[t]),d||console.warn("INDataChoice cannot be outside of a INDBForm!");var f=c.dataChoicePutList.map((function(e){return{columnField:e.value.replace("@",""),columnLabel:e.label,columnType:e.aliasType}}));return Object(h.jsx)(j.a,{children:Object(h.jsx)(m.a,{title:c.requestMessageToShow||"Seleziona record",primaryButtonDisabled:null===l,isOpen:t,fullWidth:!0,maxWidth:"md",primaryButtonText:"Seleziona",secondaryButtonText:"Annulla",handlePrimaryClose:function(){var e=c.dataChoicePutList.map((function(e){return{fieldName:e.fieldName,value:l[e.value.replace("@","")]}}));a(e)},handleClose:n,handleSecondaryClose:n,children:Object(h.jsx)(b.a,{viewOnly:!0,search:!0,columns:f,onRowSelect:u,dataSource:{dataSourceClassName:c.strClassToCall,selectRecordCommand:c.urlToCall}})})})},O=n(77),g=n(370),x=n(159),v=n(128),q=n(660),y=n.n(q),C=n(238),w=n(4),S=n(460),N=n(461),T=n(475),P=n(463),k=["aliasName","fieldName","label","disabled","options"],A=function(e){var t=e.aliasName,n=e.fieldName,i=e.label,c=e.disabled,o=e.options,s=(Object(w.a)(e,k),n||t),l=Object(p.d)({name:s}),u=Object(r.a)(l,1)[0],d=Object(p.e)().isSubmitting;return Object(h.jsxs)(S.a,{style:{width:"100%"},children:[Object(h.jsx)(N.a,{id:s,children:i}),Object(h.jsx)(T.a,Object(a.a)(Object(a.a)({fullWidth:!0,labelId:"".concat(s,"-label"),id:s,disabled:c||d},u),{},{children:(o||[]).map((function(e){return Object(h.jsx)(P.a,{value:e,children:e},e)}))}))]})},I=n(55),D=n(53),E=n(659),R=n.n(E),L=n(241),_=n(118),B=n(30),F=(n(194),function(e){var t,n=e.required,b=e.editableBox,j=e.id,m=e.label,q=e.disabled,w=e.dataCalculateOnLostFocus,S=e.boxType,N=e.comboBoxList,T=e.aliasName,P=e.fieldName,k=e.prefix,E=e.suffix,F=e.actionEvent,z=e.fullWidth,U=e.backgroundColor,W=(e.width,e.uploadButton),M=e.uploadEndPoint,G=(e.padding,Object(p.e)()),V=G.setFieldValue,H=G.values,Q=Object(i.useContext)(I.a).componentData,X=Object(i.useContext)(I.a),J=Object(i.useContext)(C.a),K=Object(i.useState)(!1),Y=Object(r.a)(K,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(!1),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useRef)(),ie=Object(B.a)().uploadResource,ce=Object(D.a)().showMessage,oe=null===S||void 0===S?void 0:S.toLowerCase();t=J?J.dispatch:X.dispatch;var se=Object(O.a)((function(){return{root:U?{backgroundColor:U}:{},fileInput:{display:"none"}}}))(),le=P||T;return["number","text"].includes(oe)?Array.isArray(N)&&N.length>0?Object(h.jsx)(A,{aliasName:T,fieldName:P,label:m,disabled:q,options:N}):Object(h.jsxs)(h.Fragment,{children:[F&&"DATA_CHOICE"===F.actionType&&Object(h.jsx)(f,{fullWidth:z,isOpen:Z,handleClose:function(){return $(!1)},actionEvent:F,handleDataSelect:function(e){$(!1),e.map((function(e){return V(e.fieldName,e.value)})),setTimeout((function(){return re.current.focus()}),200)}}),Object(h.jsx)(L.a,{open:ne,message:"Caricamento del file in corso..."}),Object(h.jsx)(p.a,Object(a.a)(Object(a.a)({component:c.a,name:le,required:n},!1===b?{disabled:!0}:{}),{},{id:j,variant:"standard",className:se.root,label:m,type:oe,fullWidth:z,inputRef:re,InputProps:Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},w?{onBlur:function(){t({actionType:"UPDATE_FORM_VALUES"})}}:{}),W&&b?{endAdornment:Object(h.jsxs)(g.a,{position:"end",children:[Object(h.jsx)("input",{className:se.fileInput,id:"file-upload-".concat(le,"-").concat(T),type:"file",onChange:function(e){var t,n=e.target,a=null===n||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];if(a)if(((null===a||void 0===a?void 0:a.size)/1024/1024).toFixed(4)>10)ce("Il file supera le dimensioni massime di 10 MB","error");else{ae(!0);var r=Object(_.a)(M,Q),i=new FormData;i.append("file",a),ie(r,i).then((function(e){var t=e.data;return V(le,t)})).catch((function(){ce("Errore durante il caricamento del file. Riprovare.","error")})).finally((function(){ae(!1),setTimeout((function(){return re.current.focus()}),200)}))}else V(le,"")}}),Object(h.jsx)(x.a,{title:"Seleziona file",children:Object(h.jsx)("label",{htmlFor:"file-upload-".concat(le,"-").concat(T),children:Object(h.jsx)(v.a,{color:"primary","aria-label":"seleziona file",component:"span",disabled:!b,children:Object(h.jsx)(R.a,{})})})})]})}:{}),F&&"DATA_CHOICE"===F.actionType?{endAdornment:Object(h.jsx)(g.a,{position:"end",children:Object(h.jsx)(v.a,{"aria-label":"toggle password visibility",onClick:function(){return F&&"DATA_CHOICE"===F.actionType&&$(!0)},children:Object(h.jsx)(y.a,{})})})}:{}),k?{startAdornment:Object(h.jsx)(g.a,{position:"start",children:k})}:{}),E?{endAdornment:Object(h.jsx)(g.a,{position:"end",children:E})}:{})}))]}):Object(h.jsx)(o.b,{utils:d.a,children:Object(h.jsxs)(h.Fragment,{children:["time"===oe&&Object(h.jsx)(s.b,{name:le,ampm:!1,required:n,disabled:q,id:j,label:m,format:"HH:mm",clearable:!0,onChange:function(e){V(le,e)},value:H[le]}),"date"===oe&&Object(h.jsx)(l.a,{name:le,ampm:!1,required:n,disabled:q,id:j,label:m,emptyLabel:"",format:"dd/MM/yyyy",clearable:!0,onChange:function(e){V(le,e)},value:H[le]}),"datetime"===oe&&Object(h.jsx)(u.a,{name:le,ampm:!1,required:n,disabled:q,id:j,label:m,emptyLabel:"",format:"dd/MM/yyyy HH:mm",clearable:!0,onChange:function(e){V(le,e)},value:H[le]})]})})});F.defaultProps={boxType:"text",defaultValue:"",fullWidth:!0,uploadButton:!1};t.a=F},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return N}));var a=n(5),r=n(0),i=n.n(r),c=n(77),o=n(227),s=n(559),l=n(1083),u=n(128),d=n(365),p=n.n(d),b=n(633),j=n.n(b),m=n(635),h=n.n(m),f=n(636),O=n.n(f),g=n(634),x=n.n(g),v=n(1019),q=n(1),y=Object(c.a)((function(e){return{close:{padding:e.spacing(.5)},success:{backgroundColor:o.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:s.a[700]},icon:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),C={success:j.a,warning:x.a,error:h.a,info:O.a},w=function(e){var t=e.isVisible,n=e.hide,a=e.message,r=e.type,i=y(),c=C[r],o=function(e,t){"clickaway"!==t&&n()};return t&&Object(q.jsx)(l.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:5e3,onClose:o,children:Object(q.jsx)(v.a,{className:i[r],"aria-describedby":"client-snackbar",message:Object(q.jsxs)("span",{id:"client-snackbar",className:i.message,children:[Object(q.jsx)(c,{className:i.icon}),a]}),action:[Object(q.jsx)(u.a,{"aria-label":"close",color:"inherit",onClick:o,children:Object(q.jsx)(p.a,{className:i.icon})},"close")]})})},S=i.a.createContext();S.Consumer;function N(e){var t=e.children,n=Object(r.useState)(!1),i=Object(a.a)(n,2),c=i[0],o=i[1],s=Object(r.useState)({message:"",type:"info"}),l=Object(a.a)(s,2),u=l[0],d=l[1],p=function(){return o(!1)};return Object(q.jsxs)(S.Provider,{value:{isVisible:c,hide:p,show:function(e,t){d({message:e,type:t||u.type}),o(!0)},message:u.message},children:[Object(q.jsx)(w,{isVisible:c,hide:p,message:u.message,type:u.type}),t]})}},399:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(290),c=n(378),o=n(5),s=n(463),l=n(386),u=n(55),d=n(1);var p=function(e){var t=e.text,n=e.actionEvent,a=e.handleCloseActionMenu,i=r.a.useState(!1),c=Object(o.a)(i,2),p=c[0],b=c[1],j=function(e){return console.error("No dispatcher available")},m=(null===n||void 0===n?void 0:n.confirmAction)||((null===n||void 0===n?void 0:n.requestParameterList)||[]).length>0,h=function(){b(!1),a()},f=r.a.useContext(u.a);j=f.dispatch;var O=function(e){b(!1),"function"===typeof e&&e(!1),n?(j(n),a()):console.error("No event associated with this action")};return Object(d.jsxs)(r.a.Fragment,{children:[m&&Object(d.jsx)(l.a,{isOpen:p,title:"Conferma",description:n.requestMessageToShow||n.confirmDescription||"Specificare i parametri",primaryButtonText:"Procedi",secondaryButtonText:"Annulla",handlePrimaryClose:function(e,t){t.setSubmitting;n.data=e,b(n.waitForEnd),O()},handleSecondaryClose:h,handleClose:h,requestParameterList:n.requestParameterList||[]}),Object(d.jsx)(s.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),m?b(!0):O()},children:t})]})};t.a=function(e){var t=e.menuAnchor,n=e.menuOpen,a=e.actions,o=e.dispatch,s=e.setMenuOpen,l=e.setMenuAnchor,u=function(e){s(!1),l(null)},b=Object(d.jsx)(i.a,{id:"simple-menu",keepMounted:!0,anchorEl:t,open:n,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:function e(n){for(var a=[],i=0;i<n.length;i++){var b=n[i];if(Array.isArray(b.children)&&b.children.length>0){var j=e(b.children);a.push(r.a.createElement(c.a,{label:Object(d.jsx)(d.Fragment,{children:b.menuName}),parentMenuOpen:!!t},j))}else a.push(Object(d.jsx)(p,{handleCloseActionMenu:u,actionEvent:n[i].actionEvent,text:n[i].menuName,dispatch:o,setMenuOpen:s,setMenuAnchor:l},n[i].id_menu))}return a}(a)});return Object(d.jsx)(r.a.Fragment,{children:b})}},407:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},471:function(e,t,n){"use strict";var a=n(5),r=n(4),i=n(0),c=n.n(i),o=n(230),s=n.n(o),l=n(159),u=n(399),d=n(55),p=n(1),b=["dispatch","actions","tooltip","menu_list"];function j(e){var t,n=e.dispatch,i=e.actions,o=e.tooltip,j=e.menu_list,m=(Object(r.a)(e,b),c.a.useContext(d.a).dispatch),h=n||m,f=(null===(t=j[0])||void 0===t?void 0:t.children)||i,O=c.a.useState(null),g=Object(a.a)(O,2),x=g[0],v=g[1],q=c.a.useState(!1),y=Object(a.a)(q,2),C=y[0],w=y[1];return Object(p.jsxs)(c.a.Fragment,{children:[Object(p.jsx)(l.a,{title:o,children:Object(p.jsx)(s.a,{style:{cursor:"pointer"},onClick:function(e){var t=e.currentTarget;v(t),w(!0)}})}),f&&Object(p.jsx)(u.a,{menuAnchor:x,menuOpen:C,actions:f,dispatch:h,setMenuOpen:w,setMenuAnchor:v})]})}t.a=j,j.defaultProps={dispatch:null,actions:[]}},53:function(e,t,n){"use strict";var a=n(0),r=n(398);t.a=function(){return Object(a.useContext)(r.a).show}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return O}));var a=n(8),r=n(10),i=n(21),c=n(5),o=n(0),s=n.n(o),l=n(355),u=n(246),d=n.n(u),p=n(49),b=n(295),j=n(1),m=s.a.createContext(),h=m.Consumer;function f(e){var t=e.baseURL,n=e.children,s=Object(o.useState)({inceptiumid:localStorage.getItem("inceptiumid"),user:localStorage.getItem("user"),password:localStorage.getItem("password"),session:localStorage.getItem("session")}),u=Object(c.a)(s,2),b=u[0],h=u[1],f=Object(p.h)(),g=function(e){var t=e.session,n=e.inceptiumid,a=e.user,r=e.password,i=e.type,c=e.disabled;localStorage.setItem("session",t),localStorage.setItem("inceptiumid",n),localStorage.setItem("user",a),localStorage.setItem("password",r),localStorage.setItem("type",i),h({session:t,inceptiumid:n,user:a,password:r,type:i,disabled:c}),y(!0)},x=Object(o.useState)(!1),v=Object(c.a)(x,2),q=v[0],y=v[1],C=Object(o.useState)(!1),w=Object(c.a)(C,2),S=w[0],N=w[1],T=Object(o.useState)(),P=Object(c.a)(T,2),k=P[0],A=P[1],I=Object(o.useState)(),D=Object(c.a)(I,2),E=D[0],R=D[1],L=Object(o.useState)({}),_=Object(c.a)(L,2),B=_[0],F=_[1],z=Object(o.useState)({}),U=Object(c.a)(z,2),W=(U[0],U[1]),M=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("session"),localStorage.removeItem("inceptiumid"),localStorage.removeItem("user"),localStorage.removeItem("password"),localStorage.removeItem("type"),y(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(Object(r.a)().mark((function e(){var n,a,i,c,o,s,u,p,b,j,m,h,O;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("/"!==f.pathname?t.replace(f.pathname,"").replace(f.search,""):t,"assets/config/default.json"),console.log("Fetching configuration from",a),e.prev=2,e.next=5,d.a.get(a);case 5:if((i=e.sent).data&&null!==(c=i)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.baseURL){e.next=8;break}throw new Error("Invalid json supplied");case 8:i=i.data,console.log("Using remote configuration",i),R(null===(s=i)||void 0===s?void 0:s.baseURL),F(null===(u=i)||void 0===u?void 0:u.ecom),W(null===(p=i)||void 0===p?void 0:p.ecom.inceptiumid),localStorage.setItem("inceptiumid",null===(b=i)||void 0===b?void 0:b.ecom.inceptiumid),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(2),new Error("Failed to fetch server configuration from ".concat(a));case 19:if(j=[],q&&("admins"===localStorage.getItem("type")&&(j=[{subject:"User",actions:"manage"}]),l.a.update(j)),m=null!==localStorage.getItem("session"),y(m),null!==(n=i)&&void 0!==n&&n.ecom){e.next=26;break}return console.log("Not logging ecommerce due to empty config"),e.abrupt("return");case 26:return e.prev=26,e.next=29,V(m,!0,null===(h=i)||void 0===h?void 0:h.ecom,null===(O=i)||void 0===O?void 0:O.baseURL);case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),new Error("Failed to authenticate guest user on ecommerce portal");case 34:case"end":return e.stop()}}),e,null,[[2,16],[26,31]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){G().then((function(){return console.log("Configuration loaded")})).catch((function(e){return A(e.message)})).finally((function(){return N(!0)}))}),[]),Object(o.useEffect)((function(){V(q,S)}),[f]);var V=function(e,t,n,r){if(t&&f.pathname.includes("ecommerce")&&!e){console.log("Authenticating ecommerce");var i=d.a.create({baseURL:r||E,paramsSerializer:function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("::")}}),c=n||B;return O(i,c).then((function(e){return g(Object(a.a)(Object(a.a)({},c),e))}))}return Promise.resolve()};return Object(j.jsx)(m.Provider,{value:{isAuth:q,error:k,setData:g,ecomSettings:B,sessionData:b,logout:M,baseURL:E,isLoaded:S,authEcommerce:V},children:n})}var O=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t,n){var a,i,c,o,s,l,u,d,p,j,m,h;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.inceptiumid,i=n.user,c=n.password,e.prev=1,e.next=4,t.get("get_new_inceptium_session",{params:{inceptiumid:a,user:i,password:c}});case 4:if(o=e.sent,s=o.data,l=/\wsession=(.*)/.exec(s)){e.next=10;break}throw new Error("Got invalid response: ".concat(s));case 10:return u=l[1],e.next=13,t.get("get_user_by_login",{params:{user_login:"admin",inceptiumid:a,user:i,password:c,session:u}});case 13:if(d=e.sent,p=d.data,j=p.user_profile,!(m="true"===(m=p.disabled))){e.next=20;break}return e.abrupt("return",Promise.reject(new b.a("Questo utente \xe8 disabilitato",{user:"Questo utente \xe8 disabilitato"})));case 20:return e.abrupt("return",Promise.resolve({session:u,disabled:m,type:j}));case 23:if(e.prev=23,e.t0=e.catch(1),401!==(null===(h=e.t0.response)||void 0===h?void 0:h.status)){e.next=27;break}return e.abrupt("return",Promise.reject(new b.a("Controlla le credenziali e riprova",{user:"Controlla le credenziali e riprova",password:"Controlla le credenziali e riprova",inceptiumid:"Controlla le credenziali e riprova"})));case 27:return e.abrupt("return",Promise.reject(e.t0));case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n){return e.apply(this,arguments)}}()},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(9),r=n(8),i=n(5),c=n(4),o=n(0),s=n.n(o),l=n(1),u=["children"],d=s.a.createContext();d.Consumer;function p(e){var t=e.children,n=Object(c.a)(e,u),s=Object(o.useState)({}),p=Object(i.a)(s,2),b=p[0],j=p[1];return Object(l.jsx)(d.Provider,{value:Object(r.a)({setData:function(e,t,n){if(!e&&!n)throw new Error("Cannot set component data without id or object");j(n?Object(r.a)(Object(r.a)({},b),n):null===t?Object(r.a)(Object(r.a)({},b),{},Object(a.a)({},e,null)):Object(r.a)(Object(r.a)({},b),{},Object(a.a)({},e,Object(r.a)(Object(r.a)({},b[e]),{},{data:t}))))},setComponentData:j,componentData:b},n),children:t})}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(5),r=n(0),i=n.n(r),c=n(54),o=n(30),s=n(1),l=i.a.createContext();l.Consumer;function u(e){var t=e.children,n=Object(r.useContext)(c.b),i=n.isLoaded,u=n.isAuth,d=n.ecomSettings,p=n.sessionData,b=Object(r.useState)(!1),j=Object(a.a)(b,2),m=j[0],h=j[1],f=Object(o.a)().loadApp,O=Object(r.useState)(!1),g=Object(a.a)(O,2),x=g[0],v=g[1],q=p.user===d.user;return Object(r.useEffect)((function(){i&&(m&&h(!1),f("com.eterea.AppEterea").catch(console.error).finally((function(){return h(!0)})))}),[i,q,u]),Object(s.jsx)(l.Provider,{value:{isAuth:u&&!q,showLoginDialog:x,setShowLoginDialog:v,isLoaded:m,settings:d},children:t})}},615:function(e){e.exports=JSON.parse("{}")},649:function(e,t,n){"use strict";(function(e){var a=n(5),r=n(0),i=n(47),c=n(33),o=n(77),s=n(650),l=n(204),u=n(651),d=n.n(u),p=n(652),b=n.n(p),j=(n(982),n(194)),m=n.n(j),h=n(1),f=Object(o.a)((function(){return{container:{display:"flex",flexDirection:"column",flex:1,marginTop:"8px",marginBottom:"8px"},editor:{flex:1},editorBox:{borderColor:"#F1F1F1",borderWidth:1,borderStyle:"solid"}}}));t.a=function(t){var n=t.editableBox,o=t.label,u=t.defaultValue,p=t.aliasName,j=t.fieldName,O=t.height,g=t.width,x=Object(i.d)({name:j||p}),v=Object(a.a)(x,3),q=v[1],y=v[2],C=Object(i.e)().isSubmitting,w=f(),S=Object(r.useState)(l.EditorState.createEmpty()),N=Object(a.a)(S,2),T=N[0],P=N[1];Object(r.useEffect)((function(){if(q.initialValue){var t=q.initialValue||u,n=b()(e.from(t,"base64").toString());if(n){var a=l.ContentState.createFromBlockArray(n.contentBlocks);P(l.EditorState.createWithContent(a))}}}),[q.initialValue]);var k=Object(r.useCallback)(m.a.debounce((function(t){console.log("hello world"),y.setValue(e.from(d()(Object(l.convertToRaw)(t.getCurrentContent()))).toString("base64"))}),300),[]);return Object(h.jsxs)("div",{className:w.container,children:[Object(h.jsx)("div",{children:Object(h.jsx)(c.a,{variant:"h6",children:o})}),Object(h.jsx)("div",{className:w.editor,children:Object(h.jsx)(s.Editor,{readOnly:!n||C,editorState:T,onEditorStateChange:function(e){P(e),k(e)},editorClassName:w.editorBox,editorStyle:{height:O||"150px",width:g||"100%",lineHeight:"7px"}})})]})}}).call(this,n(260).Buffer)},653:function(e,t,n){"use strict";var a=n(5),r=n(0),i=n(77),c=n(297),o=n(370),s=n(128),l=n(231),u=n.n(l),d=n(654),p=n.n(d),b=n(1),j=Object(i.a)((function(e){return{searchField:{minWidth:150,paddingLeft:e.spacing(2)}}}));t.a=function(e){var t=e.currentQuery,n=e.searchData,i=Object(r.useState)(t||""),l=Object(a.a)(i,2),d=l[0],m=l[1],h=j();return Object(b.jsx)(c.a,{className:h.searchField,value:d,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){var t,a=null===(t=e.target)||void 0===t?void 0:t.value;13===e.keyCode&&n(a)},placeholder:"Cerca",InputProps:{startAdornment:Object(b.jsx)(o.a,{position:"start",children:Object(b.jsx)(u.a,{color:"inherit",fontSize:"small"})}),endAdornment:Object(b.jsx)(o.a,{position:"end",children:Object(b.jsx)(s.a,{disabled:!d,onClick:function(){return n("")},children:Object(b.jsx)(p.a,{color:"inherit",fontSize:"small"})})})}})}},655:function(e){e.exports=JSON.parse('{"menu_list":[{"actionEvent":null,"children":[{"actionEvent":null,"children":[{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"Questa operazione potrebbe richiedere un p\xf2 di tempo.","requestParameterList":[{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Inizio","parameterName":"startDate","parameterType":"TEXT"},{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Fine","parameterName":"endDate","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_ExportXLSX","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_ExportXLSX::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.2","menuName":"Esporta XML","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100}],"menuName":"Qualcosa di storto"},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"","requestParameterList":[{"parameterDefaultValue":"@dbl_up_document","parameterDescription":"ID Documento","parameterName":"id_record","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_StampaDocumenti","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_StampaDocumenti::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.1","menuName":"Stampa Documento","numberOfNotification":0,"separator":false,"value":"","width":100},{"actionEvent":{"actionType":"EXECUTE_COMMAND","confirmAction":false,"confirmDescription":"","requestMessageToShow":"Questa operazione potrebbe richiedere un p\xf2 di tempo.","requestParameterList":[{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Inizio","parameterName":"startDate","parameterType":"TEXT"},{"parameterDefaultValue":"yyyy-MM-dd","parameterDescription":"Data Fine","parameterName":"endDate","parameterType":"TEXT"}],"strClassToCall":"com.eterea.data.docmanag.action.Action_ExportXLSX","urlToCall":"callappcommand?command=executemethod::class=com.eterea.data.docmanag.action.Action_ExportXLSX::method=_executeAction","waitForEnd":true},"children":[],"externalLink":"","iconPath":"","id_menu":"id_0.2","menuName":"Esporta XML","numberOfNotification":0,"separator":false,"value":"","width":100}],"externalLink":"","iconPath":"","id_menu":"id_0","menuName":"HOLAAAAA","numberOfNotification":0,"separator":false,"value":"","width":100}]}')},666:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return K}));var a=n(8),r=n(10),i=n(21),c=n(5),o=n(0),s=n.n(o),l=n(77),u=n(683),d=n(49),p=n(40),b=n(1045),j=n(1043),m=n(33),h=n(35),f=n(408),O=n(180),g=n(684),x=n(144),v=n(1020),q=n(1021),y=n(297),C=n(1044),w=n(1038),S=n(1046),N=n(667),T=n.n(N),P=n(388),k=n.n(P),A=n(387),I=n.n(A),D=n(100),E=n(101),R=n(30),L=n(126),_=n(479),B=n(391),F=n.n(B),z=n(392),U=(n(997),n(103)),W=n(140),M=n(53),G=n(669),V=n(139),H=n(58),Q=n(242),X=(n(1015),n(1)),J=Object(l.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",backgroundColor:e.palette.common.white},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appSeparator:{minHeight:e.spacing(10)},selectedButton:{color:e.palette.common.white,backgroundColor:e.palette.primary.main},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary}}}));function K(){var t,n,l,N,P,A,B,K,Y,Z,$,ee=Object(o.useContext)(W.a).addToCart,te=Object(o.useState)(!0),ne=Object(c.a)(te,2),ae=ne[0],re=ne[1],ie=Object(o.useState)(),ce=Object(c.a)(ie,2),oe=ce[0],se=ce[1],le=Object(o.useState)([]),ue=Object(c.a)(le,2),de=ue[0],pe=ue[1],be=Object(o.useState)([]),je=Object(c.a)(be,2),me=je[0],he=je[1],fe=Object(o.useState)(),Oe=Object(c.a)(fe,2),ge=Oe[0],xe=Oe[1],ve=Object(o.useState)(!1),qe=Object(c.a)(ve,2),ye=qe[0],Ce=qe[1],we=Object(o.useState)([]),Se=Object(c.a)(we,2),Ne=Se[0],Te=Se[1],Pe=Object(o.useState)(1),ke=Object(c.a)(Pe,2),Ae=ke[0],Ie=ke[1],De=Object(o.useState)(0),Ee=Object(c.a)(De,2),Re=Ee[0],Le=Ee[1],_e=Object(o.useState)([]),Be=Object(c.a)(_e,2),Fe=Be[0],ze=Be[1],Ue=Object(o.useState)(!1),We=Object(c.a)(Ue,2),Me=We[0],Ge=We[1],Ve=J(),He=Object(d.i)().id,Qe=Object(d.h)(),Xe=Object(d.g)(),Je=new URLSearchParams(Qe.search).get("option"),Ke=new URLSearchParams(Qe.search).get("variant"),Ye=Object(M.a)(),Ze=Object(V.a)(),$e=Object(o.useContext)(H.a).isAuth,et=Object(R.a)(),tt=et.getProductDetails,nt=et.getProductMedia,at=et.getProductOptions,rt=et.getProductDocumentary,it=et.getCategory,ct=function(){var t=Object(i.a)(Object(r.a)().mark((function t(){var n,a,i,c,o,s,l,u,d,p,b,j,m,h,f,O;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at(He);case 3:return l=t.sent,u=l.hasMultipleOptions,d=l.options,p=null===d||void 0===d||null===(n=d.filter((function(e){return e.id===Je})))||void 0===n||null===(a=n[0])||void 0===a||null===(i=a.variants)||void 0===i||null===(c=i.filter((function(e){return e.id===Ke})))||void 0===c?void 0:c[0],b=null===p||void 0===p?void 0:p.productCode,t.next=10,nt(b,"FOTO");case 10:return j=t.sent,t.next=13,tt(He);case 13:if("string"!==typeof(m=t.sent)||0!==m.length){t.next=17;break}return Ge(!0),t.abrupt("return");case 17:return t.next=19,rt(He);case 19:return h=t.sent,t.next=22,it(m.articlesCategoryCode);case 22:f=t.sent,O=null!==(o=null===f||void 0===f||null===(s=f[0])||void 0===s?void 0:s.categoryFullPathDescription)&&void 0!==o?o:"",Ce(u),pe(d),Array.isArray(j)&&j.length>0?Te(j.map((function(e){return{original:e.urlLinkDomain,thumbnail:e.urlLinkDomain}}))):Te([{original:L.a,thumbnail:L.a}]),xe(b),se({title:m.description,price:null===p||void 0===p?void 0:p.price,rating:4,reviewsCount:700,description:e.from(m.note_b64,"base64").toString(),categoryId:m.articlesCategoryCode}),he(h.map((function(t){return{label:t.title,description:e.from(t.description_b64,"base64").toString()}}))),ze(O.split("/")),t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.error(t.t0);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){re(!0),ct().finally((function(){return re(!1)}))}),[He,Je,Ke]),Me?Object(X.jsx)(Q.a,{}):Object(X.jsxs)("div",{className:Ve.root,children:[Object(X.jsx)(D.a,{title:"Dettagli prodotto"}),Object(X.jsx)(E.a,{}),Object(X.jsxs)("main",{className:Ve.content,children:[Object(X.jsx)("div",{className:Ve.appBarSpacer}),Object(X.jsxs)(u.a,{maxWidth:"xl",className:Ve.container,children:[ae&&Object(X.jsx)(z.a,{}),Object(X.jsxs)(b.a,{"aria-label":"breadcrumb",children:[Object(X.jsx)(j.a,{color:"inherit",to:"/ecommerce/home",component:p.b,children:"Home"}),Fe.map((function(e,t){return Object(X.jsx)(m.a,{color:t===Fe.length-1?"textPrimary":"textSecondary",style:{paddingTop:"0px",paddingBottom:"5px",color:"#83a2a8",fontSize:"20pt"},children:e},t)}))]}),Object(X.jsxs)(h.a,{container:!0,direction:"column",spacing:2,style:{marginTop:"32px"},children:[Object(X.jsxs)(h.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:3,children:[Object(X.jsx)(h.a,{item:!0,container:!0,xs:5,justifyContent:"center",children:Object(X.jsx)(T.a,{infinite:!1,showNav:!1,useBrowserFullscreen:!1,showPlayButton:!1,onErrorImageURL:L.a,items:Ne,slideDuration:0,showThumbnails:(null===Ne||void 0===Ne||null===(t=Ne[0])||void 0===t?void 0:t.original)!==L.a,renderFullscreenButton:function(e,t){var n;return(null===Ne||void 0===Ne||null===(n=Ne[0])||void 0===n?void 0:n.original)===L.a?null:Object(X.jsx)("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button".concat(t?" active":""),onClick:e,children:t?Object(X.jsx)(I.a,{}):Object(X.jsx)(k.a,{})})}})}),Object(X.jsx)(h.a,{item:!0,container:!0,xs:!0,direction:"column",spacing:2,children:Object(X.jsxs)(h.a,{item:!0,container:!0,xs:!0,direction:"column",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{variant:"h5",children:null===oe||void 0===oe?void 0:oe.title})}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(S.a,{size:"small",readOnly:!0,defaultValue:4})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsxs)(m.a,{variant:"body2",className:Ve.secondaryText,children:[null===oe||void 0===oe?void 0:oe.reviewsCount," recensioni"]})})]}),Object(X.jsx)(f.a,{}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,style:{paddingTop:"16px"},children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{variant:"body2",className:Ve.secondaryText,style:{paddingTop:"8px"},children:"Prezzo"})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsxs)(m.a,{component:"div",variant:"h6",children:[Object(X.jsx)(O.a,{fontWeight:"fontWeightMedium",className:Ve.primaryText,children:Object(U.a)(null===oe||void 0===oe?void 0:oe.price)}),Object(X.jsx)(m.a,{variant:"body2",className:Ve.secondaryText,children:"IVA inclusa"})]})})]}),ye&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"column",spacing:1,style:{paddingTop:"24px"},children:[Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{variant:"body2",className:Ve.secondaryText,children:"Opzione"})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{component:"div",variant:"body2",className:Ve.primaryText,children:Object(X.jsx)(O.a,{fontWeight:"fontWeightMedium",children:null===de||void 0===de||null===(n=de.filter((function(e){return e.id===Je})))||void 0===n||null===(l=n[0])||void 0===l?void 0:l.label})})})]}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(g.a,{size:"small","aria-label":"small outlined button group",color:"primary",disabled:ae,children:null===de||void 0===de?void 0:de.map((function(e){return Object(X.jsx)(x.a,Object(a.a)(Object(a.a)({},e.id===Je?{className:Ve.selectedButton}:{}),{},{onClick:function(){var t,n,a,r;return Xe.push({pathname:Qe.pathname,search:"?".concat(new URLSearchParams({option:e.id,variant:null===de||void 0===de||null===(t=de.filter((function(t){return t.id===e.id})))||void 0===t||null===(n=t[0])||void 0===n||null===(a=n.variants)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.id}).toString())})},children:e.label}),e.id)}))})}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"row",spacing:1,children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{variant:"body2",className:Ve.secondaryText,children:"Variante"})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{component:"div",variant:"body2",className:Ve.primaryText,children:Object(X.jsx)(O.a,{fontWeight:"fontWeightMedium",children:null===de||void 0===de||null===(N=de.filter((function(e){return e.id===Je})))||void 0===N||null===(P=N[0])||void 0===P||null===(A=P.variants)||void 0===A||null===(B=A.filter((function(e){return e.id===Ke})))||void 0===B||null===(K=B[0])||void 0===K?void 0:K.label})})})]})]}),Object(X.jsx)(h.a,{item:!0,style:{paddingBottom:"16px"},children:Object(X.jsx)(g.a,{size:"small","aria-label":"small outlined button group",color:"primary",disabled:ae,children:null===de||void 0===de||null===(Y=de.filter((function(e){return e.id===Je})))||void 0===Y||null===(Z=Y[0])||void 0===Z||null===($=Z.variants)||void 0===$?void 0:$.map((function(e){return Object(X.jsx)(x.a,Object(a.a)(Object(a.a)({},e.id===Ke?{className:Ve.selectedButton}:{}),{},{onClick:function(){return Xe.push({pathname:Qe.pathname,search:"?".concat(new URLSearchParams({option:Je,variant:e.id}).toString())})},children:e.label}),e.id)}))})})]}),Object(X.jsx)(f.a,{style:{marginTop:"16px"}}),Object(X.jsxs)(h.a,{item:!0,container:!0,direction:"column",xs:!0,style:{paddingTop:"16px"},children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{variant:"body2",className:Ve.secondaryText,children:"Descrizione"})}),Object(X.jsx)(h.a,{item:!0,children:(null===oe||void 0===oe?void 0:oe.description)&&Object(_.a)(null===oe||void 0===oe?void 0:oe.description)})]})]})}),Object(X.jsx)(h.a,{item:!0,xs:3,children:Object(X.jsx)(v.a,{variant:"outlined",children:Object(X.jsx)(q.a,{children:Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"column",padding:"8px"},children:[Object(X.jsx)(m.a,{className:Ve.orderTotal,variant:"h6",children:Object(U.a)(null===oe||void 0===oe?void 0:oe.price)}),Object(X.jsx)(m.a,{variant:"body2",className:Ve.secondaryText,children:"IVA inclusa"}),Object(X.jsx)(m.a,{component:"div",style:{paddingTop:"16px",paddingBottom:"8px",color:"#007600"},variant:"body2",children:Object(X.jsx)(O.a,{fontWeight:"fontWeightMedium",children:"Disponibilit\xe0 immediata"})}),Object(X.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(X.jsx)(m.a,{className:Ve.greyText,style:{paddingTop:"16px",paddingBottom:"8px",flexGrow:1},variant:"body2",children:"Quantit\xe0"}),Object(X.jsx)(y.a,{type:"number",disabled:ae,value:Ae,onChange:function(e){return Ie(e.target.value)},onKeyDown:function(e){return e.preventDefault()},inputProps:{min:"1",step:"1",max:10,style:{textAlign:"center "}}})]}),Object(X.jsx)(x.a,{startIcon:Object(X.jsx)(F.a,{}),variant:"contained",color:"primary",disabled:ae,style:{marginTop:"24px"},onClick:function(){$e?(re(!0),ee(ge,Ae).catch((function(){return Ye("Impossibile aggiungere l'elemento al carrello","error")})).finally((function(){return re(!1)}))):Ze()},children:"Aggiungi al carrello"})]})})})})]}),me.length>0&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(f.a,{})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(C.a,{value:Re,onChange:function(e,t){return Le(t)},indicatorColor:"secondary",textColor:"secondary",centered:!0,children:me.map((function(e){return Object(X.jsx)(w.a,{label:e.label,disabled:ae},e.label)}))})}),Object(X.jsx)(h.a,{item:!0,container:!0,xs:!0,children:me.map((function(e,t){return Object(X.jsx)(s.a.Fragment,{children:Re===t&&s.a.Children.toArray(Object(_.a)(e.description,{replace:function(e){if(e.attribs)return"img"===e.name&&(e.attribs.style="height: auto;width: 100%"),e}})).map((function(e,t){return Object(X.jsx)(h.a,{item:!0,children:e},t)}))},t)}))})]})]}),Object(X.jsx)(h.a,{item:!0,style:{paddingTop:"32px"},children:Object(X.jsx)(f.a,{})}),Object(X.jsx)(h.a,{item:!0,children:Object(X.jsx)(m.a,{component:"div",style:{paddingTop:"16px"},children:Object(X.jsx)(O.a,{fontWeight:"fontWeightMedium",className:Ve.primaryText,children:"Altri prodotti che potrebbero interessarti"})})}),Object(X.jsx)(h.a,{item:!0,style:{marginLeft:"25px",marginRight:"25px",marginTop:"16px"},children:Object(X.jsx)(G.a,{excludeProductId:He,categoryId:null===oe||void 0===oe?void 0:oe.categoryId})})]})]})]})}}).call(this,n(260).Buffer)},669:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),r=n(5),i=n(0),c=n(670),o=n.n(c),s=(n(1013),n(1014),n(245)),l=n(30),u=n(1);function d(e){var t=e.categoryId,n=e.excludeProductId,c=Object(l.a)().getProducts,d=Object(i.useState)([]),p=Object(r.a)(d,2),b=p[0],j=p[1];return Object(i.useEffect)((function(){t&&c(t,{recordForPage:20,page:1}).then((function(e){var t=e;n&&(t=t.filter((function(e){return e.id_ArticlesRegistry!==n}))),j(t.map((function(e){return{title:e.description,price:e.sellingPriceTotVat,imageURL:e.imageURL,productId:e.id_ArticlesRegistry,id_firstcolor:e.id_firstcolor,id_firstsize:e.id_firstsize,firstcodtot:e.firstcodtot}})))}))}),[t,n]),Object(u.jsx)(u.Fragment,{children:b.length>0&&Object(u.jsx)(o.a,{draggable:!1,swipe:!1,touchMove:!1,dots:!1,infinite:!1,slidesToShow:4,children:b.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)(s.a,Object(a.a)({addToCart:!0},e))},t)}))})})}},677:function(e,t,n){"use strict";var a=n(5);function r(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}function i(e){for(var t=0,n=e.length-1;n>=0;n--)t+=+e[n]*Math.pow(2,e.length-1-n);return t}var c=function(e,t,n){var a="#";return a+=r(e),a+=r(t),a+=r(n)},o=function(e){var t=function(e){var t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7);return t=parseInt(t,16),n=parseInt(n,16),a=parseInt(a,16),[t=t.toString(2),n=n.toString(2),a=a.toString(2)]}(e),n=Object(a.a)(t,3),r=n[0],c=n[1],o=n[2];return[i(r),i(c),i(o)]};t.a=function(e,t){var n=o(e),r=Object(a.a)(n,3),i=r[0],s=r[1],l=r[2];return c(i-=15*t,s-=15*t,l-=15*t)}},678:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(5),c=n(77),o=n(34),s=n(366),l=n(461),u=n(463),d=n(460),p=n(475),b=n(99),j=n(1),m=Object(c.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:200,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));function h(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var f=function(e){var t=e.items,n=e.name,a=e.changeInceptiumFilter,c=m(),f=Object(o.a)(),O=r.a.useState([]),g=Object(i.a)(O,2),x=g[0],v=g[1],q=r.a.useContext(b.b).inceptiumFilter.find((function(e){return e.name===n})),y="NONE";return q&&(y=q.value),Object(j.jsxs)(d.a,{className:c.formControl,children:[Object(j.jsx)(l.a,{id:"demo",children:n}),Object(j.jsx)(p.a,{labelId:"demo-multiple-name-label",id:"dmeo-multiple-name",value:y,onChange:function(e){v(e.target.value),a({value:e.target.value,name:n})},input:Object(j.jsx)(s.a,{}),children:t.map((function(e){return Object(j.jsx)(u.a,{value:e,style:h(e,x,f),children:e},e)}))})]})};function O(e){var t=e.comboBoxItems,n=e.changeInceptiumFilter;return Object(j.jsx)(r.a.Fragment,{children:Array.isArray(t)&&t.length>0&&t.map((function(e){return Object(j.jsx)(f,{items:e.parameterList,name:e.title,changeInceptiumFilter:n},e.title)}))})}t.a=O;O.defautlProps={comboBoxItems:[],setFilteringComboBoxString:function(){}}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(15),r=n(5),i=n(0),c=n.n(i),o=n(54),s=n(208),l=n(1),u=c.a.createContext();u.Consumer;function d(e){var t=e.children,n=Object(i.useContext)(o.b).sessionData,c=Object(i.useState)(!1),d=Object(r.a)(c,2),p=d[0],b=d[1],j=Object(i.useState)([]),m=Object(r.a)(j,2),h=m[0],f=m[1],O=n.inceptiumid,g=n.user;Object(i.useEffect)((function(){var e=Object(s.c)(O,g);f(e)}),[O,g]);return Object(l.jsx)(u.Provider,{value:{isOpen:p,favoriteInceptiumMaps:h,open:function(){return b(!0)},close:function(){return b(!1)},toggle:function(){return b(!p)},handleNewFavoriteInceptiumMap:function(e){f((function(t){var n=Object(a.a)(t),r=n.findIndex((function(t){return t.id===e.id}));return r>=0?(n.splice(r,1),n.unshift(e)):(Object(s.e)(n),n.unshift(e)),Object(s.d)(O,g,n),n}))},emptyInceptiumAppsFavorites:function(){f([]),Object(s.a)(O,g)}},children:t})}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(15),r=n(9),i=n(8),c=n(5),o=n(0),s=n.n(o),l=n(1),u=s.a.createContext({searchString:"",selectedRow:null,page:0,chargeComponent:{},orderBy:{columnId:-1,direction:""},inceptiumFilter:[],InceptiumFilteringString:"",changedSearchString:function(){},changeSelectedRow:function(){},nextPage:function(){},previousPage:function(){},onChangePage:function(){},setCharge:function(){},changeOrderBy:function(){},changeInceptiumFilter:function(){}}),d=function(e){var t=s.a.useState(""),n=Object(c.a)(t,2),o=n[0],d=n[1],p=s.a.useState(null),b=Object(c.a)(p,2),j=b[0],m=b[1],h=s.a.useState(0),f=Object(c.a)(h,2),O=f[0],g=f[1],x=s.a.useState({}),v=Object(c.a)(x,2),q=v[0],y=v[1],C=s.a.useState({columnId:-1,direction:""}),w=Object(c.a)(C,2),S=w[0],N=w[1],T=s.a.useState([]),P=Object(c.a)(T,2),k=P[0],A=P[1],I=s.a.useState(""),D=Object(c.a)(I,2),E=D[0],R=D[1];return Object(l.jsx)(u.Provider,{value:{searchString:o,changedSearchString:function(e){d(e)},selectedRow:j,changeSelectedRow:function(e){m(e)},chargeComponent:q,setCharge:function(e,t,n){if(!e&&!n)throw new Error("Cannot set component.");y(n?Object(i.a)(Object(i.a)({},q),n):null===t?Object(i.a)(Object(i.a)({},q),{},Object(r.a)({},e,null)):Object(i.a)(Object(i.a)({},q),{},Object(r.a)({},e,Object(i.a)(Object(i.a)({},q[e]),{},{data:t}))))},page:O,onChangePage:function(e){g(e)},changeOrderBy:function(e){N(e)},orderBy:S,changeInceptiumFilter:function(e){A((function(t){var n=Object(a.a)(t),r=n.findIndex((function(t){return e.name===t.name}));r<0?n.push(e):n[r].value=e.value;var i="";return n.forEach((function(e){"NONE"!==e.value&&(i+=" ".concat(e.value))})),R(i),n}))},inceptiumFilteringString:E,inceptiumFilter:k},children:e.children})};t.b=u}},[[1016,1,2]]]);