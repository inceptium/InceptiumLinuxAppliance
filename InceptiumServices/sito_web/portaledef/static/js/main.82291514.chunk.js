(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{312:function(e,a,t){e.exports=t.p+"static/media/logo.f913b869.png"},328:function(e,a,t){e.exports=t.p+"static/media/app_icon.e1da19b8.png"},358:function(e,a,t){e.exports=t(598)},598:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(17),o=t.n(i),l=t(657),c=t(338),s=t(656),u=t(45),m=t(80),p=t(18),d=t(49),g=t.n(d),f=t(90),b=t(20),h=t(172).b.define(function(e){e("manage","User")}),E=r.a.createContext(),v=E.Consumer;function w(e){var a=e.children,t=Object(n.useState)(null!==localStorage.getItem("session")),i=Object(b.a)(t,2),o=i[0],l=i[1],c=function(){var e=Object(f.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),l(!1);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){console.log("Updating user abilities");var e=[];o&&("admins"===localStorage.getItem("type")&&(e=[{subject:"User",actions:"manage"}]),h.update(e))},[o]),r.a.createElement(E.Provider,{value:{isAuth:o,setData:function(e){var a=e.session,t=e.inceptiumid,n=e.user,r=e.password,i=e.type;e.disabled;localStorage.setItem("session",a),localStorage.setItem("inceptiumid",t),localStorage.setItem("user",n),localStorage.setItem("password",r),localStorage.setItem("type",i),l(!0)},getData:function(){return{inceptiumid:localStorage.getItem("inceptiumid"),user:localStorage.getItem("user"),password:localStorage.getItem("password"),session:localStorage.getItem("session")}},logout:c}},a)}var x=function(e){var a=e.component,t=Object(p.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},t,{render:function(e){return r.a.createElement(v,null,function(t){return t.isAuth?r.a.createElement(a,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})})}}))};var y=function(){return r.a.createElement("h2",null,"404 - Page not found")},C=t(120),j=t(304),O=t(640),k=t(641),S=t(642),N=t(639),P=t(310),_=t(168),B=t(73),T=t(268),I=t(267),A=Object(P.a)(function(e){return{wrapper:{position:"relative"},buttonProgress:{color:e.palette.secondary,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}});function D(e){var a=e.isLoading,t=e.children,n=Object(p.a)(e,["isLoading","children"]),i=A();return r.a.createElement("div",{className:i.wrapper},r.a.createElement(I.a,n,t),a&&r.a.createElement(T.a,{size:24,className:i.buttonProgress}))}var z=t(312),F=t.n(z),L=t(313),W=t.n(L),R=r.a.createContext();R.Consumer;function U(e){var a=e.children,t=Object(n.useState)(!1),i=Object(b.a)(t,2),o=i[0],l=i[1];return r.a.createElement(R.Provider,{value:{isLoading:o,setLoading:l}},a)}var G=t(636),q=t(637),M=t(660),H=t(277),V=t(318),J=t.n(V),K=t(314),Q=t.n(K),X=t(316),Z=t.n(X),$=t(317),Y=t.n($),ee=t(315),ae=t.n(ee),te=t(638),ne=Object(P.a)(function(e){return{close:{padding:e.spacing(.5)},success:{backgroundColor:G.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:q.a[700]},icon:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),re={success:Q.a,warning:ae.a,error:Z.a,info:Y.a},ie=function(e){var a=e.isVisible,t=e.hide,n=e.message,i=e.type,o=ne(),l=re[i],c=function(e,a){"clickaway"!==a&&t()};return a&&r.a.createElement(M.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:5e3,onClose:c},r.a.createElement(te.a,{className:o[i],"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:o.message},r.a.createElement(l,{className:o.icon}),n),action:[r.a.createElement(H.a,{key:"close","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(J.a,{className:o.icon}))]}))},oe=r.a.createContext();oe.Consumer;function le(e){var a=e.children,t=Object(n.useState)(!1),i=Object(b.a)(t,2),o=i[0],l=i[1],c=Object(n.useState)({message:"",type:"info"}),s=Object(b.a)(c,2),u=s[0],m=s[1],p=function(){return l(!1)};return r.a.createElement(oe.Provider,{value:{isVisible:o,hide:p,show:function(e,a){m({message:e,type:a||u.type}),l(!0)},message:u.message}},r.a.createElement(ie,{isVisible:o,hide:p,message:u.message,type:u.type}),a)}var ce=function(){return Object(n.useContext)(oe).show},se=function(e){return new Promise(function(a){return setTimeout(a,e)})},ue=function(e,a){var t=new Error(e);return t.error=a,t},me=W.a.create({baseURL:"https://www.inceptium.it/inapi/",paramsSerializer:function(e){return Object.keys(e).map(function(a){return"".concat(a,"=").concat(e[a])}).join("::")}}),pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=Object(n.useContext)(E),t=a.getData,r=a.isAuth,i=a.logout,o=Object(n.useContext)(R).setLoading,l=ce();console.log("useAPI()"),Object(n.useEffect)(function(){var a=me.interceptors.request.use(function(a){return r&&(console.log("Updating request parameters"),a.params=Object(C.a)({},t(),a.params)),console.log("Making API Request to ".concat(a.baseURL).concat(a.url," params ").concat(JSON.stringify(a.params))),e&&o(!0),a},function(a){return e&&o(!1),l("Errore del server. Riprovare.","error"),Promise.reject(a)}),n=me.interceptors.response.use(function(a){return e&&o(!1),console.log("Got response data",a),200===a.status&&"string"===typeof a.data&&a.data.includes("UNAUTHORIZED")&&(console.log("Got unauthorized 401"),i()),a},function(a){return e&&o(!1),l("Errore del server. Riprovare.","error"),Promise.reject(a)});return function(){console.log("Removing axios interceptors"),me.interceptors.request.eject(a),me.interceptors.response.eject(n)}},[]);var c=function(){var e=Object(f.a)(g.a.mark(function e(a){var t,n,r,i,o,l,c,s,u,m,p;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.inceptiumid,n=a.user,r=a.password,e.prev=1,e.next=4,me.get("get_new_inceptium_session",{params:{inceptiumid:t,user:n,password:r}});case 4:if(i=e.sent,o=i.data,l=/(?<=wsession=).*/.exec(o)){e.next=10;break}throw new Error("Got invalid response: ".concat(o));case 10:return c=l[0],console.log("Session token is",c),e.next=14,me.get("get_user_by_login",{params:{user_login:"admin",inceptiumid:t,user:n,password:r,session:c}});case 14:if(s=e.sent,u=s.data,m=u.user_profile,!(p="true"===(p=u.disabled))){e.next=21;break}return e.abrupt("return",Promise.reject(new ue("Questo utente \xe8 disabilitato",{user:"Questo utente \xe8 disabilitato"})));case 21:return console.log("User is ".concat(m," and disable ").concat(p)),e.abrupt("return",Promise.resolve({session:c,disabled:p,type:m}));case 25:if(e.prev=25,e.t0=e.catch(1),401!==e.t0.response.status){e.next=29;break}return e.abrupt("return",Promise.reject(new ue("Controlla le credenziali e riprova",{user:"Controlla le credenziali e riprova",password:"Controlla le credenziali e riprova",inceptiumid:"Controlla le credenziali e riprova"})));case 29:return e.abrupt("return",Promise.reject(e.t0));case 30:case"end":return e.stop()}},e,null,[[1,25]])}));return function(a){return e.apply(this,arguments)}}(),s=function(){var e=Object(f.a)(g.a.mark(function e(){var a,t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getUsers()"),e.prev=1,e.next=4,me.get("get_users_of_inceptiumid");case 4:return a=e.sent,t=a.data,n=t.map(function(e){return{id:e.id_WebUsers,description:e.description,isOnline:"CONNECTED"===e.user_connected_status,type:e.user_profile,email:e.user_email,fullName:"".concat(e.user_name," ").concat(e.user_surname),username:e.user}}),e.abrupt("return",Promise.resolve(n));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(f.a)(g.a.mark(function e(){var a,t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getApps()"),e.prev=1,e.next=4,me.get("get_apps_inceptiumid");case 4:return a=e.sent,t=a.data,e.abrupt("return",Promise.resolve(t));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}}();return{login:c,startApp:function(){var e=Object(f.a)(g.a.mark(function e(a){var t,n,r,i,o,l,c,s,m,p;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("load_app",{params:{classapp:a}});case 3:t=e.sent,n=t.data,console.log("App is loading with taskid",n);case 6:return e.next=9,me.get("get_task_status",{params:{taskid:n}});case 9:if(r=e.sent,i=r.data,console.log(i),"TASK_END"!==(o=i.currentStatus)){e.next=18;break}return console.log("Loading ended succesfully"),e.abrupt("break",26);case 18:if("TASK_RUNNING"!==o){e.next=23;break}return e.next=21,se(1e3);case 21:e.next=24;break;case 23:throw new Error("Task failed");case 24:e.next=6;break;case 26:return e.next=28,me.get("get_app_dock",{params:{classapp:a}});case 28:return l=e.sent,c=l.data,s=c.menu_list,e.next=33,u();case 33:return m=e.sent,p=m.filter(function(e){return e.class_path_name===a})[0],e.abrupt("return",Promise.resolve(Object(C.a)({},p,{menu:s})));case 38:return e.prev=38,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 42:case"end":return e.stop()}},e,null,[[0,38]])}));return function(a){return e.apply(this,arguments)}}(),getApps:u,getUsers:s}};var de=function(){var e=Object(n.useContext)(E),a=e.setData,t=e.isAuth,i=pe().login,o=Object(P.a)(function(e){return{wrapper:{minHeight:"100vh",backgroundColor:e.palette.primary.main},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},cardcontent:{padding:e.spacing(3)},media:{height:140}}})();return t?r.a.createElement(m.a,{to:{pathname:"/dashboard"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{initialValues:{inceptiumid:"",user:"",password:""},onSubmit:function(e,t){var n=t.setSubmitting,r=t.setErrors;i(e).then(function(t){t.disabled?r("L'utente \xe8 disabilitato"):a(Object(C.a)({},e,t))}).catch(function(e){return r(e.error||e.message)}).finally(function(){return n(!1)})},validationSchema:B.object().shape({inceptiumid:B.string().required("InceptiumID \xe8 obbligatorio"),user:B.string().required("Nome utente \xe8 obbligatorio"),password:B.string().required("Password \xe8 obbligatorio")})},function(e){var a=e.values,t=e.touched,n=e.errors,i=(e.dirty,e.isSubmitting),l=e.handleChange,c=e.handleBlur,s=e.handleSubmit;return r.a.createElement(N.a,{container:!0,spacing:0,alignItems:"center",justify:"center",className:o.wrapper},r.a.createElement(N.a,{item:!0,xs:6,sm:3},r.a.createElement(O.a,null,r.a.createElement(k.a,{className:o.cardcontent},r.a.createElement(S.a,{className:o.media,image:F.a}),r.a.createElement("form",{className:o.form,onSubmit:s},r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"inceptiumid",label:"Inceptium ID",onChange:l,onBlur:c,value:a.inceptiumid,helperText:n.inceptiumid&&t.inceptiumid&&n.inceptiumid,error:n.inceptiumid&&t.inceptiumid,disabled:i}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"user",label:"Nome Utente",autoComplete:"user",onChange:l,onBlur:c,value:a.user,helperText:n.user&&t.user&&n.user,error:n.user&&t.user,disabled:i}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:l,onBlur:c,value:a.password,helperText:n.password&&t.password&&n.password,error:n.password&&t.password,disabled:i}),r.a.createElement("div",{className:o.submit},r.a.createElement(D,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:i,isLoading:i},"Login")))))))}))},ge=r.a.createContext();ge.Consumer;function fe(e){var a=e.children,t=Object(n.useState)(!1),i=Object(b.a)(t,2),o=i[0],l=i[1];return r.a.createElement(ge.Provider,{value:{isOpen:o,open:function(){return l(!0)},close:function(){return l(!1)},toggle:function(){return l(!o)}}},a)}var be=t(320),he=Object(n.createContext)(),Ee=Object(be.a)(he.Consumer),ve=he.Provider,we=t(650),xe=t(28),ye=t(648),Ce=t(282),je=t(325),Oe=t.n(je),ke=t(12),Se=t(67),Ne=t(326),Pe=t.n(Ne),_e=t(611),Be=t(280),Te=t(321),Ie=t.n(Te),Ae=t(152),De=t(322),ze=t.n(De),Fe=t(647),Le=t(306),We=t(324),Re=t.n(We),Ue=t(646);function Ge(){var e=r.a.useState(null),a=Object(b.a)(e,2),t=a[0],n=a[1],i=r.a.useState(null),o=Object(b.a)(i,2),l=o[0],c=o[1],s=Boolean(t),m=(Boolean(l),r.a.useContext(E).logout),p=function(){n(null),c(null)},d=Object(P.a)(function(e){return{grow:{flexGrow:1},title:Object(xe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(xe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(xe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),paper:{width:e.spacing(30)}}})(),g=r.a.createElement(Ae.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},id:"user-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:p,PaperProps:{className:d.paper}},r.a.createElement(Be.a,{disabled:!0},r.a.createElement(v,null,function(e){var a=(0,e.getData)(),t=a.user,n=a.inceptiumid;return r.a.createElement(Se.a,null,n," - ",t)})),r.a.createElement(Ue.a,null),r.a.createElement(Ee,{I:"manage",a:"User"},function(){return r.a.createElement(Be.a,{component:u.b,to:"/user/list",onClick:p},r.a.createElement(Fe.a,null,r.a.createElement(Ie.a,null)),r.a.createElement(Se.a,{variant:"inherit"},"Gestione utenti"))}),r.a.createElement(Be.a,{onClick:function(){p(),m()}},r.a.createElement(Fe.a,null,r.a.createElement(ze.a,null)),r.a.createElement(Se.a,{variant:"inherit"},"Logout")));return r.a.createElement("div",null,r.a.createElement("div",{className:d.grow}),r.a.createElement("div",{className:d.sectionDesktop},r.a.createElement(Le.a,{title:"Menu utente",enterDelay:200},r.a.createElement(H.a,{edge:"end","aria-label":"user menu","aria-controls":"user-menu","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)},color:"inherit"},r.a.createElement(Re.a,null)))),g)}var qe=t(281),Me=Object(P.a)({root:{flexGrow:1}});function He(){var e=Me();return Object(n.useContext)(R).isLoading&&r.a.createElement("div",{className:e.root},r.a.createElement(qe.a,{color:"secondary"}))}function Ve(e){var a=e.children,t=e.title,n=r.a.useContext(ge).toggle,i=Object(P.a)(function(e){return{toolbar:{paddingRight:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(4)},menuButtonHidden:{display:"none"},grow:{flexGrow:1},search:Object(xe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ke.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ke.c)(e.palette.common.white,.25)},"&:focus":{backgroundColor:e.palette.common.white},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(5),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(xe.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:200,"&:focus":{width:320}}),appBarSpacer:e.mixins.toolbar}})();return r.a.createElement(ye.a,{elevation:0,position:"absolute",className:i.appBar},r.a.createElement(Ce.a,{className:i.toolbar},r.a.createElement(H.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,className:i.menuButton},r.a.createElement(Oe.a,null)),r.a.createElement(Se.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0},t),r.a.createElement("div",{className:i.grow}),a,r.a.createElement("div",{className:i.search},r.a.createElement("div",{className:i.searchIcon},r.a.createElement(Pe.a,null)),r.a.createElement(_e.a,{placeholder:"Cerca\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(Ge,null)),r.a.createElement(He,null))}var Je=t(661),Ke=t(327),Qe=t.n(Ke),Xe=t(645),Ze=t(609),$e=t(283);var Ye=function(e){var a=e.children,t=r.a.useContext(ge),n=t.isOpen,i=t.close,o=Object(P.a)(function(e){return{drawerOpen:{width:240,flexShrink:0},drawerClose:{width:e.spacing(7),flexShrink:0},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,flexShrink:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(xe.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),toolbar:e.mixins.toolbar}})();return r.a.createElement(Je.a,{variant:"permanent",className:n?o.drawerOpen:o.drawerClose,classes:{paper:n?o.drawerPaper:o.drawerPaperClose},open:n},r.a.createElement("div",{className:o.toolbar}),r.a.createElement(Ue.a,null),r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{button:!0,onClick:i,component:u.b,to:"/dashboard",key:"dashboard",divider:!0},r.a.createElement(Fe.a,null,r.a.createElement(Qe.a,null)),r.a.createElement($e.a,{secondary:"Dashboard",secondaryTypographyProps:{fontWeight:"fontWeightBold"}}))),a)},ea=t(649),aa=Object(P.a)({media:{width:180,height:180,margin:"auto"}});function ta(e){var a=e.title,t=e.description,n=e.image,i=e.id,o=aa();return r.a.createElement(N.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(O.a,null,r.a.createElement(ea.a,{component:u.b,to:"/app/".concat(i)},r.a.createElement(S.a,{className:o.media,image:n}),r.a.createElement(k.a,null,r.a.createElement(Se.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(Se.a,{variant:"body2",color:"textSecondary",component:"p"},t)))))}var na=t(328),ra=t.n(na),ia=Object(P.a)(function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},appSeparator:{minHeight:e.spacing(10)}}});function oa(){var e=ia(),a=pe().getApps,t=Object(n.useState)([]),i=Object(b.a)(t,2),o=i[0],l=i[1];return Object(n.useEffect)(function(){a().then(function(e){l(e)}).catch(function(e){return console.error(e)})},[]),r.a.createElement("div",{className:e.root},r.a.createElement(Ve,{title:"Dashboard"}),r.a.createElement(Ye,null),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement("div",{className:e.appSeparator}),r.a.createElement(we.a,{maxWidth:"lg",className:e.container},r.a.createElement(N.a,{container:!0,spacing:3},o.map(function(e){return r.a.createElement(ta,{key:e.class_path_name,id:e.class_path_name,title:e.app_name,description:"".concat(e.developer," - ").concat(e.contact_mail),image:ra.a})})))))}var la=t(336),ca=t.n(la),sa=t(337),ua=t.n(sa),ma=t(329),pa=t.n(ma);function da(e){return r.a.createElement(pa.a,Object.assign({localization:{pagination:{labelDisplayedRows:"{from}-{to} di {count}",labelRowsSelect:"righe",firstAriaLabel:"Prima pagina",firstTooltip:"Prima pagina",previousAriaLabel:"Pagina precedente",previousTooltip:"Pagina precedente",nextAriaLabel:"Pagina successiva",nextTooltip:"Pagina successiva",lastAriaLabel:"Ultima pagina",lastTooltip:"Ultima pagina"},toolbar:{nRowsSelected:"{0} righe selezionate",searchTooltip:"Cerca",searchPlaceholder:"Cerca"},header:{actions:"Azioni"},body:{emptyDataSourceMessage:"Nessun dato da visualizzare",filterRow:{filterTooltip:"Filtra"}}},options:{actionsColumnIndex:-1}},e),e.children)}var ga=t(651),fa=t(653),ba=t(652),ha=t(655),Ea=t(654);function va(e){var a=e.isOpen,t=e.title,n=e.description,i=e.handlePrimaryClose,o=e.handleSecondaryClose,l=e.handleClose;return r.a.createElement("div",null,r.a.createElement(ga.a,{open:a,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ea.a,{id:"alert-dialog-title"},t),r.a.createElement(ba.a,null,r.a.createElement(ha.a,{id:"alert-dialog-description"},n)),r.a.createElement(fa.a,null,r.a.createElement(I.a,{onClick:i,color:"primary"},"No"),r.a.createElement(I.a,{onClick:o,color:"primary",autoFocus:!0},"Si"))))}var wa=Object(P.a)(function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240}}});function xa(e){var a=wa(),t=pe().getUsers,i=Object(n.useState)([]),o=Object(b.a)(i,2),l=o[0],c=o[1],s=Object(n.useState)(!1),u=Object(b.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(),g=Object(b.a)(d,2),f=g[0],h=g[1];Object(n.useEffect)(function(){t().then(function(e){return c(e)}).catch(function(e){return console.error(e)})},[]),Object(n.useEffect)(function(){console.log(l)},[l]);return r.a.createElement("div",{className:a.root},r.a.createElement(Ve,null),r.a.createElement(Ye,null),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(we.a,{maxWidth:"lg",className:a.container},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(da,{title:"Lista utenti",columns:[{title:"Utente",field:"username"},{title:"Nome e cognome",field:"fullName"},{title:"E-mail",field:"email"},{title:"Tipologia",field:"type"},{title:"Descrizione",field:"description"},{title:"Stato",field:"isOnline",render:function(e){return r.a.createElement("div",null,e.isOnline?r.a.createElement(Le.a,{title:"Connesso"},r.a.createElement(ca.a,null)):r.a.createElement(Le.a,{title:"Disconnesso"},r.a.createElement(ua.a,null)))}}],data:l,actions:[{icon:"add_box",tooltip:"Aggiungi utente",isFreeAction:!0,onClick:function(){return e.history.push("/user/add")}},{icon:"edit",tooltip:"Modifica",onClick:function(a,t){var n=t.id;return e.history.push("/user/edit/".concat(n))}},function(e){return{icon:"delete",tooltip:"Elimina",onClick:function(e,a){var t=a.username;p(!0),h(t)}}}]}),r.a.createElement(va,{isOpen:m,handlePrimaryClose:function(){return p(!1)},handleSecondaryClose:function(){var e;p(!1),e=f,c(l.filter(function(a){return a.username!==e}))},handleClose:function(){return p(!1)},title:"Eliminazione utente",description:"Sei sicuro di voler eliminare l'utente ".concat(f,"?")}))))))}var ya=t(303),Ca=t(659),ja=t(279),Oa=t(305),ka=Object(P.a)(function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},form:{marginTop:e.spacing(1)},formControl:{margin:e.spacing(1)},submitContainer:{display:"flex",justifyContent:"flex-end"}}});function Sa(){var e=ka();return r.a.createElement("div",{className:e.root},r.a.createElement(Ve,{title:"Gestione utenti"}),r.a.createElement(Ye,null),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(we.a,{maxWidth:"lg",className:e.container},r.a.createElement(O.a,null,r.a.createElement(k.a,{className:e.cardcontent},r.a.createElement(Se.a,{variant:"h6",gutterBottom:!0},"Aggiungi utente"),r.a.createElement(_.a,{initialValues:{username:"",fullName:"",email:"",type:"",description:""},onSubmit:function(){},validationSchema:B.object().shape({username:B.string().required("Il nome utente \xe8 obbligatorio"),email:B.string().email("Inserire un indirizzo email valido")})},function(a){var t=a.values,n=a.touched,i=a.errors,o=(a.dirty,a.isSubmitting),l=a.handleChange,c=a.handleBlur,s=a.handleSubmit;return r.a.createElement("form",{className:e.form,onSubmit:s},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"username",label:"Nome utente",onChange:l,onBlur:c,autoComplete:"new-password",inputProps:{form:{autocomplete:"off"}},value:t.username,helperText:i.username&&n.username&&i.username,error:i.username&&n.username,disabled:o})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(ja.a,{variant:"outlined",className:e.formControl,fullWidth:!0},r.a.createElement(Oa.a,{htmlFor:"account-type"},"Tipologia account"),r.a.createElement(ya.a,{native:!0,value:"type",onChange:function(){},input:r.a.createElement(Ca.a,{name:"Tipologia account",id:"account-type"})},r.a.createElement("option",{value:"admins"},"Amministratore"),r.a.createElement("option",{value:"users"},"Utente")))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:l,onBlur:c,value:t.password,helperText:i.password&&n.password&&i.password,error:i.password&&n.password,disabled:o})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Conferma Password",type:"password",id:"passwordConfirm",autoComplete:"current-password",onChange:l,onBlur:c,value:t.password,helperText:i.password&&n.password&&i.password,error:i.password&&n.password,disabled:o})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email",onChange:l,onBlur:c,inputProps:{form:{autocomplete:"off"}},value:t.email,helperText:i.email&&n.email&&i.email,error:i.email&&n.email,disabled:o})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"description",label:"Description",onChange:l,onBlur:c,value:t.description,helperText:i.description&&n.description&&i.description,error:i.description&&n.description,disabled:o})),r.a.createElement(N.a,{item:!0,xs:12,sm:12},r.a.createElement("div",{className:e.submitContainer},r.a.createElement(D,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:o,isLoading:o},"Salva")))))}))))))}function Na(e){var a=e.id,t=e.label,n=e.items,i=r.a.useState(null),o=Object(b.a)(i,2),l=o[0],c=o[1],s=Boolean(l),m=function(){c(null)},p=Object(P.a)(function(e){return{grow:{flexGrow:1},title:Object(xe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(xe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(xe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),paper:{width:e.spacing(20)}}})(),d=r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{anchorEl:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},id:a,keepMounted:!0,open:s,onClose:m,PaperProps:{className:p.paper}},n.map(function(e){return r.a.createElement(Be.a,{key:e.title,onClick:m,component:u.b,to:e.path},e.icon?r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{variant:"inherit"},e.title)):e.title)})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{color:"inherit",onClick:function(e){return c(e.currentTarget)}},t),d)}var Pa=Object(P.a)(function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}});function _a(e){var a=e.match,t=Pa(),i=pe().startApp,o=Object(n.useState)({title:"Caricamento...",menu:[]}),l=Object(b.a)(o,2),c=l[0],s=l[1],u=a.params.id;return console.log("Loading app",u),Object(n.useEffect)(function(){i(u).then(function(e){console.log("Application loaded",e),s({title:e.app_name,menu:e.menu})}).catch(function(e){return console.log("Failed to start app",e)})},[]),r.a.createElement("div",{className:t.root},r.a.createElement(Ve,{title:c.title},c.menu.map(function(e){return r.a.createElement(Na,{key:e.id_menu,id:e.classToCall,label:e.value,items:e.children})})),r.a.createElement(Ye,null),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(we.a,{maxWidth:"lg",className:t.container},c.title)))}var Ba=Object(c.a)({palette:{primary:{light:"#FFE0B2",main:"#FF9800",dark:"#F57C00",contrastText:"#FFFFFF"},secondary:{main:"#FFC107"}}});var Ta=function(){return r.a.createElement(s.a,{theme:Ba},r.a.createElement(u.a,{basename:"/portaledef"},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null)," ",r.a.createElement(U,null,r.a.createElement(le,null,r.a.createElement(w,null,r.a.createElement(ve,{value:h},r.a.createElement(fe,null,r.a.createElement(m.d,null,r.a.createElement(m.a,{exact:!0,from:"/",to:"/dashboard"}),r.a.createElement(m.b,{path:"/login",component:de}),r.a.createElement(x,{path:"/dashboard",component:oa}),r.a.createElement(x,{path:"/user/list",component:xa}),r.a.createElement(x,{path:"/user/add",component:Sa}),r.a.createElement(x,{path:"/app/:id",component:_a}),r.a.createElement(m.b,{component:y}))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ta,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[358,1,2]]]);
//# sourceMappingURL=main.82291514.chunk.js.map